(self.webpackChunkgabeogatchi=self.webpackChunkgabeogatchi||[]).push([[179],{88:(_e,tt,Y)=>{"use strict";function d(e){return"function"==typeof e}function u(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const p=u(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function N(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class w{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(d(r))try{r()}catch(o){n=o instanceof p?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{E(o)}catch(s){n=n??[],s instanceof p?n=[...n,...s.errors]:n.push(s)}}if(n)throw new p(n)}}add(n){var t;if(n&&n!==this)if(this.closed)E(n);else{if(n instanceof w){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&N(t,n)}remove(n){const{_finalizers:t}=this;t&&N(t,n),n instanceof w&&n._removeParent(this)}}w.EMPTY=(()=>{const e=new w;return e.closed=!0,e})();const P=w.EMPTY;function b(e){return e instanceof w||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function E(e){d(e)?e():e.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},C={setTimeout(e,n,...t){const{delegate:r}=C;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=C;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function O(e){C.setTimeout(()=>{const{onUnhandledError:n}=f;if(!n)throw e;n(e)})}function G(){}const M=D("C",void 0,void 0);function D(e,n,t){return{kind:e,value:n,error:t}}let T=null;function h(e){if(f.useDeprecatedSynchronousErrorHandling){const n=!T;if(n&&(T={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=T;if(T=null,t)throw r}}else e()}class A extends w{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,b(n)&&n.add(this)):this.destination=j}static create(n,t,r){return new S(n,t,r)}next(n){this.isStopped?c(function B(e){return D("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?c(function _(e){return D("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?c(M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function H(e,n){return F.call(e,n)}class W{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){x(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){x(r)}else x(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){x(t)}}}class S extends A{constructor(n,t,r){let i;if(super(),d(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&f.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&H(n.next,o),error:n.error&&H(n.error,o),complete:n.complete&&H(n.complete,o)}):i=n}this.destination=new W(i)}}function x(e){f.useDeprecatedSynchronousErrorHandling?function v(e){f.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=e)}(e):O(e)}function c(e,n){const{onStoppedNotification:t}=f;t&&C.setTimeout(()=>t(e,n))}const j={closed:!0,next:G,error:function V(e){throw e},complete:G},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function $(e){return e}function ee(e){return 0===e.length?$:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let ne=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function ye(e){return e&&e instanceof A||function pe(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}(e)&&b(e)}(t)?t:new S(t,r,i);return h(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=de(r))((i,o)=>{const s=new S({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Q](){return this}pipe(...t){return ee(t)(this)}toPromise(t){return new(t=de(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function de(e){var n;return null!==(n=e??f.Promise)&&void 0!==n?n:Promise}const be=u(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class e extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new rt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new be}next(t){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?P:(this.currentObservers=null,o.push(t),new w(()=>{this.currentObservers=null,N(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ne;return t.source=this,t}}return e.create=(n,t)=>new rt(n,t),e})();class rt extends Le{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:P}}class We extends Le{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Ce(e){return d(e?.lift)}function Ye(e){return n=>{if(Ce(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(e,n,t,r,i){return new vt(e,n,t,r,i)}class vt extends A{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Oe(e,n){return Ye((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(e.call(n,o,i++))}))})}function St(e){return this instanceof St?(this.v=e,this):new St(e)}function nn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ft(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(g){o({value:g,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}const Ir=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Vr(e){return d(e?.then)}function oi(e){return d(e[Q])}function xi(e){return Symbol.asyncIterator&&d(e?.[Symbol.asyncIterator])}function Gi(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Gt=function rn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Kt(e){return d(e?.[Gt])}function Wt(e){return function tn(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(K){r[K]&&(i[K]=function(X){return new Promise(function(ie,le){o.push([K,X,ie,le])>1||a(K,X)})})}function a(K,X){try{!function l(K){K.value instanceof St?Promise.resolve(K.value.v).then(g,I):L(o[0][2],K)}(r[K](X))}catch(ie){L(o[0][3],ie)}}function g(K){a("next",K)}function I(K){a("throw",K)}function L(K,X){K(X),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield St(t.read());if(i)return yield St(void 0);yield yield St(r)}}finally{t.releaseLock()}})}function qt(e){return d(e?.getReader)}function It(e){if(e instanceof ne)return e;if(null!=e){if(oi(e))return function on(e){return new ne(n=>{const t=e[Q]();if(d(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ir(e))return function sn(e){return new ne(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Vr(e))return function an(e){return new ne(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,O)})}(e);if(xi(e))return Qt(e);if(Kt(e))return function un(e){return new ne(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(qt(e))return function ln(e){return Qt(Wt(e))}(e)}throw Gi(e)}function Qt(e){return new ne(n=>{(function cn(e,n){var t,r,i,o;return function ze(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(I){try{g(r.next(I))}catch(L){s(L)}}function l(I){try{g(r.throw(I))}catch(L){s(L)}}function g(I){I.done?o(I.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(I.value).then(a,l)}g((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=nn(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function wt(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function pt(e,n,t=1/0){return d(n)?pt((r,i)=>Oe((o,s)=>n(r,o,i,s))(It(e(r,i))),t):("number"==typeof n&&(t=n),Ye((r,i)=>function Ot(e,n,t,r,i,o,s,a){const l=[];let g=0,I=0,L=!1;const K=()=>{L&&!l.length&&!g&&n.complete()},X=le=>g<r?ie(le):l.push(le),ie=le=>{o&&n.next(le),g++;let me=!1;It(t(le,I++)).subscribe(we(n,Se=>{i?.(Se),o?X(Se):n.next(Se)},()=>{me=!0},void 0,()=>{if(me)try{for(g--;l.length&&g<r;){const Se=l.shift();s?wt(n,s,()=>ie(Se)):ie(Se)}K()}catch(Se){n.error(Se)}}))};return e.subscribe(we(n,X,()=>{L=!0,K()})),()=>{a?.()}}(r,i,e,t)))}function _i(e=1/0){return pt($,e)}const mr=new ne(e=>e.complete());function Hr(e){return e[e.length-1]}function Ki(e){return function Jl(e){return e&&d(e.schedule)}(Hr(e))?e.pop():void 0}function Ha(e,n=0){return Ye((t,r)=>{t.subscribe(we(r,i=>wt(r,e,()=>r.next(i),n),()=>wt(r,e,()=>r.complete(),n),i=>wt(r,e,()=>r.error(i),n)))})}function ja(e,n=0){return Ye((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Wn(e,n){if(!e)throw new Error("Iterable cannot be null");return new ne(t=>{wt(t,n,()=>{const r=e[Symbol.asyncIterator]();wt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dn(e,n){return n?function ac(e,n){if(null!=e){if(oi(e))return function nc(e,n){return It(e).pipe(ja(n),Ha(n))}(e,n);if(Ir(e))return function ic(e,n){return new ne(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Vr(e))return function rc(e,n){return It(e).pipe(ja(n),Ha(n))}(e,n);if(xi(e))return Wn(e,n);if(Kt(e))return function oc(e,n){return new ne(t=>{let r;return wt(t,n,()=>{r=e[Gt](),wt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>d(r?.return)&&r.return()})}(e,n);if(qt(e))return function sc(e,n){return Wn(Wt(e),n)}(e,n)}throw Gi(e)}(e,n):It(e)}function R(...e){return dn(e,Ki(e))}function U(e={}){const{connector:n=(()=>new Le),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,g=0,I=!1,L=!1;const K=()=>{a?.unsubscribe(),a=void 0},X=()=>{K(),s=l=void 0,I=L=!1},ie=()=>{const le=s;X(),le?.unsubscribe()};return Ye((le,me)=>{g++,!L&&!I&&K();const Se=l=l??n();me.add(()=>{g--,0===g&&!L&&!I&&(a=z(ie,i))}),Se.subscribe(me),!s&&g>0&&(s=new S({next:se=>Se.next(se),error:se=>{L=!0,K(),a=z(X,t,se),Se.error(se)},complete:()=>{I=!0,K(),a=z(X,r),Se.complete()}}),It(le).subscribe(s))})(o)}}function z(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new S({next:()=>{r.unsubscribe(),e()}});return It(n(...t)).subscribe(r)}function ve(e,n){return e===n}function he(e){for(let n in e)if(e[n]===he)return n;throw Error("Could not find renamed property on target object.")}function Ie(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ie).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Dt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const fn=he({__forward_ref__:he});function Pn(e){return e.__forward_ref__=Pn,e.toString=function(){return Ie(this())},e}function $e(e){return or(e)?e():e}function or(e){return"function"==typeof e&&e.hasOwnProperty(fn)&&e.__forward_ref__===Pn}function wi(e){return e&&!!e.\u0275providers}const qn="https://g.co/ng/security#xss";class xe extends Error{constructor(n,t){super(function sr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Ze(e){return"string"==typeof e?e:null==e?"":String(e)}function $a(e,n){throw new xe(-201,!1)}function vr(e,n){null==e&&function xt(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function Ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function si(e){return{providers:e.providers||[],imports:e.imports||[]}}function za(e){return pp(e,Ga)||pp(e,mp)}function pp(e,n){return e.hasOwnProperty(n)?e[n]:null}function gp(e){return e&&(e.hasOwnProperty(lc)||e.hasOwnProperty(yS))?e[lc]:null}const Ga=he({\u0275prov:he}),lc=he({\u0275inj:he}),mp=he({ngInjectableDef:he}),yS=he({ngInjectorDef:he});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let cc;function Qn(e){const n=cc;return cc=e,n}function vp(e,n,t){const r=za(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&qe.Optional?null:void 0!==n?n:void $a(Ie(e))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Es={},dc="__NG_DI_FLAG__",Ka="ngTempTokenPath",CS=/\n/gm,Cp="__source";let yo;function Ri(e){const n=yo;return yo=e,n}function DS(e,n=qe.Default){if(void 0===yo)throw new xe(-203,!1);return null===yo?vp(e,void 0,n):yo.get(e,n&qe.Optional?null:void 0,n)}function Ue(e,n=qe.Default){return(function yp(){return cc}()||DS)($e(e),n)}function Fe(e,n=qe.Default){return Ue(e,Wa(n))}function Wa(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fc(e){const n=[];for(let t=0;t<e.length;t++){const r=$e(e[t]);if(Array.isArray(r)){if(0===r.length)throw new xe(900,!1);let i,o=qe.Default;for(let s=0;s<r.length;s++){const a=r[s],l=bS(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(Ue(i,o))}else n.push(Ue(r))}return n}function Ss(e,n){return e[dc]=n,e.prototype[dc]=n,e}function bS(e){return e[dc]}function ai(e){return{toString:e}.toString()}var jr=(()=>((jr=jr||{})[jr.OnPush=0]="OnPush",jr[jr.Default=1]="Default",jr))(),ur=(()=>{return(e=ur||(ur={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",ur;var e})();const ui={},Et=[],qa=he({\u0275cmp:he}),hc=he({\u0275dir:he}),pc=he({\u0275pipe:he}),Sp=he({\u0275mod:he}),li=he({\u0275fac:he}),Ds=he({__NG_ELEMENT_ID__:he}),Dp=he({__NG_ENV_ID__:he});function bp(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function gc(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Ip(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Ap(e){return 3===e||4===e||6===e}function Ip(e){return 64===e.charCodeAt(0)}function bs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Tp(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Tp(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const xp="ng-template";function TS(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==bp(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function _p(e){return 4===e.type&&e.value!==xp}function xS(e,n,t){return n===(4!==e.type||t?e.value:xp)}function _S(e,n,t){let r=4;const i=e.attrs||[],o=function RS(e){for(let n=0;n<e.length;n++)if(Ap(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!xS(e,l,t)||""===l&&1===n.length){if(Tr(r))return!1;s=!0}}else{const g=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!TS(e.attrs,g,t)){if(Tr(r))return!1;s=!0}continue}const L=wS(8&r?"class":l,i,_p(e),t);if(-1===L){if(Tr(r))return!1;s=!0;continue}if(""!==g){let K;K=L>o?"":i[L+1].toLowerCase();const X=8&r?K:null;if(X&&-1!==bp(X,g,0)||2&r&&g!==K){if(Tr(r))return!1;s=!0}}}}else{if(!s&&!Tr(r)&&!Tr(l))return!1;if(s&&Tr(l))continue;s=!1,r=l|1&r}}return Tr(r)||s}function Tr(e){return 0==(1&e)}function wS(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function MS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function wp(e,n,t=!1){for(let r=0;r<n.length;r++)if(_S(e,n[r],t))return!0;return!1}function Np(e,n){return e?":not("+n.trim()+")":n}function kS(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Tr(s)&&(n+=Np(o,i),i=""),r=s,o=o||!Tr(r);t++}return""!==i&&(n+=Np(o,i)),n}function Yt(e){return ai(()=>{const n=Mp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===jr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||ur.Emulated,styles:e.styles||Et,_:null,schemas:e.schemas||null,tView:null,id:""};Pp(t);const r=e.dependencies;return t.directiveDefs=Qa(r,!1),t.pipeDefs=Qa(r,!0),t.id=function jS(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function FS(e){return bt(e)||kn(e)}function US(e){return null!==e}function Mi(e){return ai(()=>({type:e.type,bootstrap:e.bootstrap||Et,declarations:e.declarations||Et,imports:e.imports||Et,exports:e.exports||Et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Rp(e,n){if(null==e)return ui;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function Un(e){return ai(()=>{const n=Mp(e);return Pp(n),n})}function bt(e){return e[qa]||null}function kn(e){return e[hc]||null}function Xn(e){return e[pc]||null}function lr(e,n){const t=e[Sp]||null;if(!t&&!0===n)throw new Error(`Type ${Ie(e)} does not have '\u0275mod' property.`);return t}function Mp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rp(e.inputs,n),outputs:Rp(e.outputs)}}function Pp(e){e.features?.forEach(n=>n(e))}function Qa(e,n){if(!e)return null;const t=n?Xn:FS;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(US)}const Cn=0,Pe=1,ut=2,Ft=3,xr=4,Wi=5,Bn=6,Co=7,$t=8,Eo=9,qi=10,ot=11,As=12,kp=13,So=14,hn=15,Is=16,Do=17,$r=18,Ts=19,Bp=20,Pi=21,ci=22,Ya=23,Xa=24,mt=25,mc=1,Op=2,zr=7,Za=8,bo=9,_n=11;function cr(e){return Array.isArray(e)&&"object"==typeof e[mc]}function Zn(e){return Array.isArray(e)&&!0===e[mc]}function yc(e){return 0!=(4&e.flags)}function Qi(e){return e.componentOffset>-1}function Ja(e){return 1==(1&e.flags)}function _r(e){return!!e.template}function vc(e){return 0!=(512&e[ut])}function Yi(e,n){return e.hasOwnProperty(li)?e[li]:null}let WS=Rt.WeakRef??class KS{constructor(n){this.ref=n}deref(){return this.ref}},QS=0,Gr=null,eu=!1;function Tn(e){const n=Gr;return Gr=e,n}class Hp{constructor(){this.id=QS++,this.ref=function qS(e){return new WS(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(void 0!==r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=eu;eu=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{eu=n}}producerAccessed(){if(eu)throw new Error("");if(null===Gr)return;let n=Gr.producers.get(this.id);void 0===n?(n={consumerNode:Gr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Gr.trackingVersion},Gr.producers.set(this.id,n),this.consumers.set(Gr.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=Gr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Gr?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let jp=null;const $p=()=>{};class JS extends Hp{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=$p,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Tn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=$p,this.watch(this.registerOnCleanup)}finally{Tn(n)}}cleanup(){this.cleanupFn()}}class eD{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xi(){return zp}function zp(e){return e.type.prototype.ngOnChanges&&(e.setInput=nD),tD}function tD(){const e=Kp(this),n=e?.current;if(n){const t=e.previous;if(t===ui)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function nD(e,n,t,r){const i=this.declaredInputs[t],o=Kp(e)||function rD(e,n){return e[Gp]=n}(e,{previous:ui,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new eD(l&&l.currentValue,n,a===ui),e[r]=n}Xi.ngInherit=!0;const Gp="__ngSimpleChanges__";function Kp(e){return e[Gp]||null}const Kr=function(e,n,t){};function kt(e){for(;Array.isArray(e);)e=e[Cn];return e}function ru(e,n){return kt(n[e])}function Jn(e,n){return kt(n[e.index])}function Qp(e,n){return e.data[n]}function er(e,n){const t=n[e];return cr(t)?t:t[Cn]}function iu(e){return 128==(128&e[ut])}function ki(e,n){return null==n?null:e[n]}function Yp(e){e[Do]=0}function lD(e){1024&e[ut]||(e[ut]|=1024,Zp(e,1))}function Xp(e){1024&e[ut]&&(e[ut]&=-1025,Zp(e,-1))}function Zp(e,n){let t=e[Ft];if(null===t)return;t[Wi]+=n;let r=t;for(t=t[Ft];null!==t&&(1===n&&1===r[Wi]||-1===n&&0===r[Wi]);)t[Wi]+=n,r=t,t=t[Ft]}const nt={lFrame:lg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tg(){return nt.bindingsEnabled}function Ee(){return nt.lFrame.lView}function Ct(){return nt.lFrame.tView}function En(e){return nt.lFrame.contextLView=e,e[$t]}function Sn(e){return nt.lFrame.contextLView=null,e}function wn(){let e=ng();for(;null!==e&&64===e.type;)e=e.parent;return e}function ng(){return nt.lFrame.currentTNode}function Wr(e,n){const t=nt.lFrame;t.currentTNode=e,t.isParent=n}function Ac(){return nt.lFrame.isParent}function Vn(){const e=nt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function To(){return nt.lFrame.bindingIndex++}function SD(e,n){const t=nt.lFrame;t.bindingIndex=t.bindingRootIndex=e,Tc(n)}function Tc(e){nt.lFrame.currentDirectiveIndex=e}function sg(){return nt.lFrame.currentQueryIndex}function _c(e){nt.lFrame.currentQueryIndex=e}function bD(e){const n=e[Pe];return 2===n.type?n.declTNode:1===n.type?e[Bn]:null}function ag(e,n,t){if(t&qe.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&qe.Host||(i=bD(o),null===i||(o=o[So],10&i.type))););if(null===i)return!1;n=i,e=o}const r=nt.lFrame=ug();return r.currentTNode=n,r.lView=e,!0}function wc(e){const n=ug(),t=e[Pe];nt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function ug(){const e=nt.lFrame,n=null===e?null:e.child;return null===n?lg(e):n}function lg(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function cg(){const e=nt.lFrame;return nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dg=cg;function Nc(){const e=cg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Hn(){return nt.lFrame.selectedIndex}function Zi(e){nt.lFrame.selectedIndex=e}function Ut(){const e=nt.lFrame;return Qp(e.tView,e.selectedIndex)}let hg=!0;function ou(){return hg}function Bi(e){hg=e}function su(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:g,ngOnDestroy:I}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),g&&((e.viewHooks??=[]).push(t,g),(e.viewCheckHooks??=[]).push(t,g)),null!=I&&(e.destroyHooks??=[]).push(t,I)}}function au(e,n,t){pg(e,n,3,t)}function uu(e,n,t,r){(3&e[ut])===t&&pg(e,n,t,r)}function Rc(e,n){let t=e[ut];(3&t)===n&&(t&=4095,t+=1,e[ut]=t)}function pg(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[Do]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[Do]+=65536),(a<o||-1==o)&&(RD(e,t,n,l),e[Do]=(4294901760&e[Do])+l+2),l++}function gg(e,n){Kr(4,e,n);const t=Tn(null);try{n.call(e)}finally{Tn(t),Kr(5,e,n)}}function RD(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[ut]>>12<e[Do]>>16&&(3&e[ut])===n&&(e[ut]+=4096,gg(a,o)):gg(a,o)}const xo=-1;class ws{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function mg(e){return e!==xo}function lu(e){return 32767&e}function cu(e,n){let t=function BD(e){return e>>16}(e),r=n;for(;t>0;)r=r[So],t--;return r}let Pc=!0;function du(e){const n=Pc;return Pc=e,n}const yg=255,vg=5;let OD=0;const qr={};function fu(e,n){const t=Cg(e,n);if(-1!==t)return t;const r=n[Pe];r.firstCreatePass&&(e.injectorIndex=n.length,kc(r.data,e),kc(n,null),kc(r.blueprint,null));const i=Bc(e,n),o=e.injectorIndex;if(mg(i)){const s=lu(i),a=cu(i,n),l=a[Pe].data;for(let g=0;g<8;g++)n[o+g]=a[s+g]|l[s+g]}return n[o+8]=i,o}function kc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Cg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Bc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=xg(i),null===r)return xo;if(t++,i=i[So],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return xo}function Oc(e,n,t){!function LD(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ds)&&(r=t[Ds]),null==r&&(r=t[Ds]=OD++);const i=r&yg;n.data[e+(i>>vg)]|=1<<i}(e,n,t)}function Eg(e,n,t){if(t&qe.Optional||void 0!==e)return e;$a()}function Sg(e,n,t,r){if(t&qe.Optional&&void 0===r&&(r=null),!(t&(qe.Self|qe.Host))){const i=e[Eo],o=Qn(void 0);try{return i?i.get(n,r,t&qe.Optional):vp(n,r,t&qe.Optional)}finally{Qn(o)}}return Eg(r,0,t)}function Dg(e,n,t,r=qe.Default,i){if(null!==e){if(2048&n[ut]&&!(r&qe.Self)){const s=function jD(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[ut]&&!(512&s[ut]);){const a=bg(o,s,t,r|qe.Self,qr);if(a!==qr)return a;let l=o.parent;if(!l){const g=s[Bp];if(g){const I=g.get(t,qr,r);if(I!==qr)return I}l=xg(s),s=s[So]}o=l}return i}(e,n,t,r,qr);if(s!==qr)return s}const o=bg(e,n,t,r,qr);if(o!==qr)return o}return Sg(n,t,r,i)}function bg(e,n,t,r,i){const o=function VD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ds)?e[Ds]:void 0;return"number"==typeof n?n>=0?n&yg:HD:n}(t);if("function"==typeof o){if(!ag(n,e,r))return r&qe.Host?Eg(i,0,r):Sg(n,t,r,i);try{const s=o(r);if(null!=s||r&qe.Optional)return s;$a()}finally{dg()}}else if("number"==typeof o){let s=null,a=Cg(e,n),l=xo,g=r&qe.Host?n[hn][Bn]:null;for((-1===a||r&qe.SkipSelf)&&(l=-1===a?Bc(e,n):n[a+8],l!==xo&&Ig(r,!1)?(s=n[Pe],a=lu(l),n=cu(l,n)):a=-1);-1!==a;){const I=n[Pe];if(Ag(o,a,I.data)){const L=UD(a,n,t,s,r,g);if(L!==qr)return L}l=n[a+8],l!==xo&&Ig(r,n[Pe].data[a+8]===g)&&Ag(o,a,n)?(s=I,a=lu(l),n=cu(l,n)):a=-1}}return i}function UD(e,n,t,r,i,o){const s=n[Pe],a=s.data[e+8],I=hu(a,s,t,null==r?Qi(a)&&Pc:r!=s&&0!=(3&a.type),i&qe.Host&&o===a);return null!==I?Ji(n,s,I,a):qr}function hu(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,I=o>>20,K=i?a+I:e.directiveEnd;for(let X=r?a:a+I;X<K;X++){const ie=s[X];if(X<l&&t===ie||X>=l&&ie.type===t)return X}if(i){const X=s[l];if(X&&_r(X)&&X.type===t)return l}return null}function Ji(e,n,t,r){let i=e[t];const o=n.data;if(function MD(e){return e instanceof ws}(i)){const s=i;s.resolving&&function cS(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new xe(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ze(e)}(o[t]));const a=du(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Qn(s.injectImpl):null;ag(e,r,qe.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function ND(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=zp(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&Qn(l),du(a),s.resolving=!1,dg()}}return i}function Ag(e,n,t){return!!(t[n+(e>>vg)]&1<<e)}function Ig(e,n){return!(e&qe.Self||e&qe.Host&&n)}class _o{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Dg(this._tNode,this._lView,n,Wa(r),t)}}function HD(){return new _o(wn(),Ee())}function Lc(e){return or(e)?()=>{const n=Lc($e(e));return n&&n()}:Yi(e)}function xg(e){const n=e[Pe],t=n.type;return 2===t?n.declTNode:1===t?e[Bn]:null}const No="__parameters__";function Mo(e,n,t){return ai(()=>{const r=function Fc(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,g,I){const L=l.hasOwnProperty(No)?l[No]:Object.defineProperty(l,No,{value:[]})[No];for(;L.length<=I;)L.push(null);return(L[I]=L[I]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ms(e,n){e.forEach(t=>Array.isArray(t)?Ms(t,n):n(t))}function wg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function gu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function dr(e,n,t){let r=Po(e,n);return r>=0?e[1|r]=t:(r=~r,function WD(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Uc(e,n){const t=Po(e,n);if(t>=0)return e[1|t]}function Po(e,n){return function Ng(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const yu=Ss(Mo("Optional"),8),vu=Ss(Mo("SkipSelf"),4);function Du(e){return 128==(128&e.flags)}var tr=(()=>((tr=tr||{})[tr.Important=1]="Important",tr[tr.DashCase=2]="DashCase",tr))();const Gc=new Map;let yb=0;const Wc="__ngContext__";function On(e,n){cr(n)?(e[Wc]=n[Ts],function Cb(e){Gc.set(e[Ts],e)}(n)):e[Wc]=n}let qc;function Qc(e,n){return qc(e,n)}function Os(e){const n=e[Ft];return Zn(n)?n[Ft]:n}function Yc(e){return Qg(e[As])}function Xc(e){return Qg(e[xr])}function Qg(e){for(;null!==e&&!Zn(e);)e=e[xr];return e}function Oo(e,n,t,r,i){if(null!=r){let o,s=!1;Zn(r)?o=r:cr(r)&&(s=!0,r=r[Cn]);const a=kt(r);0===e&&null!==t?null==i?e0(n,t,a):eo(n,t,a,i||null,!0):1===e&&null!==t?eo(n,t,a,i||null,!0):2===e?function _u(e,n,t){const r=Tu(e,n);r&&function Fb(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function Hb(e,n,t,r,i){const o=t[zr];o!==kt(t)&&Oo(n,e,r,o,i);for(let a=_n;a<t.length;a++){const l=t[a];Fs(l[Pe],l,e,n,r,o)}}(n,e,o,t,i)}}function Iu(e,n,t){return e.createElement(n,t)}function Xg(e,n){const t=e[bo],r=t.indexOf(n);Xp(n),t.splice(r,1)}function Jc(e,n){if(e.length<=_n)return;const t=_n+n,r=e[t];if(r){const i=r[Is];null!==i&&i!==e&&Xg(i,r),n>0&&(e[t-1][xr]=r[xr]);const o=gu(e,_n+n);!function Nb(e,n){Fs(e,n,n[ot],2,null,null),n[Cn]=null,n[Bn]=null}(r[Pe],r);const s=o[$r];null!==s&&s.detachView(o[Pe]),r[Ft]=null,r[xr]=null,r[ut]&=-129}return r}function Zg(e,n){if(!(256&n[ut])){const t=n[ot];n[Ya]?.destroy(),n[Xa]?.destroy(),t.destroyNode&&Fs(e,n,t,3,null,null),function Pb(e){let n=e[As];if(!n)return ed(e[Pe],e);for(;n;){let t=null;if(cr(n))t=n[As];else{const r=n[_n];r&&(t=r)}if(!t){for(;n&&!n[xr]&&n!==e;)cr(n)&&ed(n[Pe],n),n=n[Ft];null===n&&(n=e),cr(n)&&ed(n[Pe],n),t=n&&n[xr]}n=t}}(n)}}function ed(e,n){if(!(256&n[ut])){n[ut]&=-129,n[ut]|=256,function Lb(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof ws)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Kr(4,a,l);try{l.call(a)}finally{Kr(5,a,l)}}else{Kr(4,i,o);try{o.call(i)}finally{Kr(5,i,o)}}}}}(e,n),function Ob(e,n){const t=e.cleanup,r=n[Co];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[Co]=null);const i=n[Pi];if(null!==i){n[Pi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[Pe].type&&n[ot].destroy();const t=n[Is];if(null!==t&&Zn(n[Ft])){t!==n[Ft]&&Xg(t,n);const r=n[$r];null!==r&&r.detachView(e)}!function Eb(e){Gc.delete(e[Ts])}(n)}}function td(e,n,t){return function Jg(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Cn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===ur.None||o===ur.Emulated)return null}return Jn(r,t)}}(e,n.parent,t)}function eo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function e0(e,n,t){e.appendChild(n,t)}function t0(e,n,t,r,i){null!==r?eo(e,n,t,r,i):e0(e,n,t)}function Tu(e,n){return e.parentNode(n)}let nd,sd,o0=function r0(e,n,t){return 40&e.type?Jn(e,t):null};function xu(e,n,t,r){const i=td(e,r,n),o=n[ot],a=function n0(e,n,t){return o0(e,n,t)}(r.parent||n[Bn],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)t0(o,i,t[l],a,!1);else t0(o,i,t,a,!1);void 0!==nd&&nd(o,r,n,t,i)}function Ls(e,n){if(null!==n){const t=n.type;if(3&t)return Jn(n,e);if(4&t)return rd(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Ls(e,r);{const i=e[n.index];return Zn(i)?rd(-1,i):kt(i)}}if(32&t)return Qc(n,e)()||kt(e[n.index]);{const r=a0(e,n);return null!==r?Array.isArray(r)?r[0]:Ls(Os(e[hn]),r):Ls(e,n.next)}}return null}function a0(e,n){return null!==n?e[hn][Bn].projection[n.projection]:null}function rd(e,n){const t=_n+e+1;if(t<n.length){const r=n[t],i=r[Pe].firstChild;if(null!==i)return Ls(r,i)}return n[zr]}function id(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&On(kt(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)id(e,n,t.child,r,i,o,!1),Oo(n,e,i,a,o);else if(32&l){const g=Qc(t,r);let I;for(;I=g();)Oo(n,e,i,I,o);Oo(n,e,i,a,o)}else 16&l?l0(e,n,r,t,i,o):Oo(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Fs(e,n,t,r,i,o){id(t,r,e.firstChild,n,i,o,!1)}function l0(e,n,t,r,i,o){const s=t[hn],l=s[Bn].projection[r.projection];if(Array.isArray(l))for(let g=0;g<l.length;g++)Oo(n,e,i,l[g],o);else{let g=l;const I=s[Ft];Du(r)&&(g.flags|=128),id(e,n,g,I,i,o,!0)}}function c0(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function d0(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&gc(e,n,r),null!==i&&c0(e,n,i),null!==o&&function $b(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class g0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qn})`}}function Oi(e){return e instanceof g0?e.changingThisBreaksApplicationSecurity:e}const rA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function to(e){const n=function js(){const e=Ee();return e&&e[qi].sanitizer}();return n?n.sanitize(pn.URL,e)||"":function Vs(e,n){const t=function Jb(e){return e instanceof g0&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${qn})`)}return t===n}(e,"URL")?Oi(e):function ud(e){return(e=String(e)).match(rA)?e:"unsafe:"+e}(Ze(e))}class He{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ge({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $s=new He("ENVIRONMENT_INITIALIZER"),A0=new He("INJECTOR",-1),I0=new He("INJECTOR_DEF_TYPES");class T0{get(n,t=Es){if(t===Es){const r=new Error(`NullInjectorError: No provider for ${Ie(n)}!`);throw r.name="NullInjectorError",r}return t}}function mA(...e){return{\u0275providers:x0(0,e),\u0275fromNgModule:!0}}function x0(e,...n){const t=[],r=new Set;let i;return Ms(n,o=>{const s=o;hd(s,t,[],r)&&(i||=[],i.push(s))}),void 0!==i&&_0(i,t),t}function _0(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];pd(i,o=>{n.push(o)})}}function hd(e,n,t,r){if(!(e=$e(e)))return!1;let i=null,o=gp(e);const s=!o&&bt(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=gp(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const g of l)hd(g,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let g;r.add(i);try{Ms(o.imports,I=>{hd(I,n,t,r)&&(g||=[],g.push(I))})}finally{}void 0!==g&&_0(g,n)}if(!a){const g=Yi(i)||(()=>new i);n.push({provide:i,useFactory:g,deps:Et},{provide:I0,useValue:i,multi:!0},{provide:$s,useValue:()=>Ue(i),multi:!0})}const l=o.providers;null==l||a||pd(l,I=>{n.push(I)})}}return i!==e&&void 0!==e.providers}function pd(e,n){for(let t of e)wi(t)&&(t=t.\u0275providers),Array.isArray(t)?pd(t,n):n(t)}const yA=he({provide:String,useValue:he});function gd(e){return null!==e&&"object"==typeof e&&yA in e}function no(e){return"function"==typeof e}const md=new He("Set Injector scope."),Mu={},CA={};let yd;function Pu(){return void 0===yd&&(yd=new T0),yd}class Qr{}class vd extends Qr{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ed(n,s=>this.processProvider(s)),this.records.set(A0,Fo(void 0,this)),i.has("environment")&&this.records.set(Qr,Fo(void 0,this));const o=this.records.get(md);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(I0.multi,Et,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Ri(this),r=Qn(void 0);try{return n()}finally{Ri(t),Qn(r)}}get(n,t=Es,r=qe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Dp))return n[Dp](this);r=Wa(r);const i=Ri(this),o=Qn(void 0);try{if(!(r&qe.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function AA(e){return"function"==typeof e||"object"==typeof e&&e instanceof He}(n)&&za(n);a=l&&this.injectableDefInScope(l)?Fo(Cd(n),Mu):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&qe.Self?Pu():this.parent).get(n,t=r&qe.Optional&&t===Es?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ka]=s[Ka]||[]).unshift(Ie(n)),i)throw s;return function AS(e,n,t,r){const i=e[Ka];throw n[Cp]&&i.unshift(n[Cp]),e.message=function IS(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ie(n);if(Array.isArray(n))i=n.map(Ie).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ie(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(CS,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ka]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{Qn(o),Ri(i)}}resolveInjectorInitializers(){const n=Ri(this),t=Qn(void 0);try{const r=this.get($s.multi,Et,qe.Self);for(const i of r)i()}finally{Ri(n),Qn(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Ie(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(n){let t=no(n=$e(n))?n:$e(n&&n.provide);const r=function SA(e){return gd(e)?Fo(void 0,e.useValue):Fo(function R0(e,n,t){let r;if(no(e)){const i=$e(e);return Yi(i)||Cd(i)}if(gd(e))r=()=>$e(e.useValue);else if(function N0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...fc(e.deps||[]));else if(function w0(e){return!(!e||!e.useExisting)}(e))r=()=>Ue($e(e.useExisting));else{const i=$e(e&&(e.useClass||e.provide));if(!function DA(e){return!!e.deps}(e))return Yi(i)||Cd(i);r=()=>new i(...fc(e.deps))}return r}(e),Mu)}(n);if(no(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Fo(void 0,Mu,!0),i.factory=()=>fc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Mu&&(t.value=CA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function bA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=$e(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Cd(e){const n=za(e),t=null!==n?n.factory:Yi(e);if(null!==t)return t;if(e instanceof He)throw new xe(204,!1);if(e instanceof Function)return function EA(e){const n=e.length;if(n>0)throw function Ps(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new xe(204,!1);const t=function mS(e){return e&&(e[Ga]||e[mp])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new xe(204,!1)}function Fo(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ed(e,n){for(const t of e)Array.isArray(t)?Ed(t,n):t&&wi(t)?Ed(t.\u0275providers,n):n(t)}const ku=new He("AppId",{providedIn:"root",factory:()=>IA}),IA="ng",M0=new He("Platform Initializer"),ro=new He("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),P0=new He("CSP nonce",{providedIn:"root",factory:()=>function Us(){if(void 0!==sd)return sd;if(typeof document<"u")return document;throw new xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let B0=(e,n)=>null;function O0(e,n){return B0(e,n)}class kA{}class U0{}class OA{resolveComponentFactory(n){throw function BA(e){const n=Error(`No component factory found for ${Ie(e)}.`);return n.ngComponent=e,n}(n)}}let Uu=(()=>{class e{}return e.NULL=new OA,e})();function LA(){return Uo(wn(),Ee())}function Uo(e,n){return new Li(Jn(e,n))}let Li=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=LA,e})();function FA(e){return e instanceof Li?e.nativeElement:e}class H0{}let Vu=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function UA(){const e=Ee(),t=er(wn().index,e);return(cr(t)?t:e)[ot]}(),e})(),VA=(()=>{class e{}return e.\u0275prov=Ge({token:e,providedIn:"root",factory:()=>null}),e})();class Hu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const HA=new Hu("16.0.4"),Rd={};function Ws(e){for(;e;){e[ut]|=64;const n=Os(e);if(vc(e)&&!n)return e;e=n}return null}function Md(e){return e.ngOriginalError}class io{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Md(n);for(;t&&Md(t);)t=Md(t);return t||null}}const z0=new He("",{providedIn:"root",factory:()=>!1});function G0(e){return e.ownerDocument.defaultView}function pi(e){return e instanceof Function?e():e}class Y0 extends Hp{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Ws(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=Tn(this);this.trackingVersion++;try{n(t,r)}finally{Tn(i)}}destroy(){this.trackingVersion++}}let $u=null;function X0(){return $u??=new Y0,$u}function Z0(e,n){return e[n]??X0()}function J0(e,n){const t=X0();t.hasReadASignal&&(e[n]=$u,t.lView=e,$u=new Y0)}const st={};function Te(e){em(Ct(),Ee(),Hn()+e,!1)}function em(e,n,t,r){if(!r)if(3==(3&n[ut])){const o=e.preOrderCheckHooks;null!==o&&au(n,o,t)}else{const o=e.preOrderHooks;null!==o&&uu(n,o,0,t)}Zi(t)}function im(e,n=null,t=null,r){const i=om(e,n,t,r);return i.resolveInjectorInitializers(),i}function om(e,n=null,t=null,r,i=new Set){const o=[t||Et,mA(e)];return r=r||("object"==typeof e?void 0:Ie(e)),new vd(o,n||Pu(),r||null,i)}let gi=(()=>{class e{static create(t,r){if(Array.isArray(t))return im({name:""},r,t,"");{const i=t.name??"";return im({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=Es,e.NULL=new T0,e.\u0275prov=Ge({token:e,providedIn:"any",factory:()=>Ue(A0)}),e.__NG_ELEMENT_ID__=-1,e})();function Ne(e,n=qe.Default){const t=Ee();return null===t?Ue(e,n):Dg(wn(),t,$e(e),n)}function zu(e,n,t,r,i,o,s,a,l,g,I){const L=n.blueprint.slice();return L[Cn]=i,L[ut]=140|r,(null!==g||e&&2048&e[ut])&&(L[ut]|=2048),Yp(L),L[Ft]=L[So]=e,L[$t]=t,L[qi]=s||e&&e[qi],L[ot]=a||e&&e[ot],L[Eo]=l||e&&e[Eo]||null,L[Bn]=o,L[Ts]=function vb(){return yb++}(),L[ci]=I,L[Bp]=g,L[hn]=2==n.type?e[hn]:L,L}function Ho(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Pd(e,n,t,r,i){const o=ng(),s=Ac(),l=e.data[n]=function aI(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function Io(){return null!==nt.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function ED(){return nt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function _s(){const e=nt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wr(o,!0),o}function qs(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function am(e,n,t,r,i){const o=Z0(n,Ya),s=Hn(),a=2&r;try{if(Zi(-1),a&&n.length>mt&&em(e,n,mt,!1),Kr(a?2:0,i),a)o.runInContext(t,r,i);else{const g=Tn(null);try{t(r,i)}finally{Tn(g)}}}finally{a&&null===n[Ya]&&J0(n,Ya),Zi(s),Kr(a?3:1,i)}}function kd(e,n,t){if(yc(n)){const r=Tn(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Tn(r)}}}function Bd(e,n,t){tg()&&(function pI(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Qi(t)&&function SI(e,n,t){const r=Jn(n,e),s=Gu(e,zu(e,um(t),null,t.onPush?64:16,r,n,null,e[qi].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||fu(t,n),On(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],g=Ji(n,e,a,t);On(g,n),null!==s&&DI(0,a-i,g,l,0,s),_r(l)&&(er(t.index,n)[$t]=Ji(n,e,a,t))}}(e,n,t,Jn(t,n)),64==(64&t.flags)&&hm(e,n,t))}function Od(e,n,t=Jn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function um(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Ld(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ld(e,n,t,r,i,o,s,a,l,g,I){const L=mt+r,K=L+i,X=function tI(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:st);return t}(L,K),ie="function"==typeof g?g():g;return X[Pe]={type:e,blueprint:X,template:t,queries:null,viewQuery:a,declTNode:n,data:X.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:ie,incompleteFirstPass:!1,ssrId:I}}let lm=e=>null;function cm(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?dm(t,n,i,o):r.hasOwnProperty(i)&&dm(t,n,r[i],o)}return t}function dm(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function fr(e,n,t,r,i,o,s,a){const l=Jn(n,t);let I,g=n.inputs;!a&&null!=g&&(I=g[r])?(jd(e,t,I,r,i),Qi(n)&&function cI(e,n){const t=er(n,e);16&t[ut]||(t[ut]|=64)}(t,n.index)):3&n.type&&(r=function lI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}function Fd(e,n,t,r){if(tg()){const i=null===r?null:{"":-1},o=function mI(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(wp(n,s.selectors,!1))if(r||(r=[]),_r(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Ud(e,n,a.length)}else r.unshift(s),Ud(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&fm(e,n,t,s,i,a),i&&function yI(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new xe(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=bs(t.mergedAttrs,t.attrs)}function fm(e,n,t,r,i,o){for(let g=0;g<r.length;g++)Oc(fu(t,n),e,r[g].type);!function CI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let g=0;g<r.length;g++){const I=r[g];I.providersResolver&&I.providersResolver(I)}let s=!1,a=!1,l=qs(e,n,r.length,null);for(let g=0;g<r.length;g++){const I=r[g];t.mergedAttrs=bs(t.mergedAttrs,I.hostAttrs),EI(e,t,n,l,I),vI(l,I,i),null!==I.contentQueries&&(t.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(t.flags|=64);const L=I.type.prototype;!s&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(L.ngOnChanges||L.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function uI(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,g=null;for(let I=n.directiveStart;I<i;I++){const L=o[I],K=t?t.get(L):null,ie=K?K.outputs:null;l=cm(L.inputs,I,l,K?K.inputs:null),g=cm(L.outputs,I,g,ie);const le=null===l||null===s||_p(n)?null:bI(l,I,s);a.push(le)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=g}(e,t,o)}function hm(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function DD(){return nt.lFrame.currentDirectiveIndex}();try{Zi(o);for(let a=r;a<i;a++){const l=e.data[a],g=n[a];Tc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gI(l,g)}}finally{Zi(-1),Tc(s)}}function gI(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Ud(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function vI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;_r(n)&&(t[""]=e)}}function EI(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Yi(i.type)),s=new ws(o,_r(i),Ne);e.blueprint[r]=s,t[r]=s,function fI(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function hI(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,qs(e,t,i.hostVars,st),i)}function DI(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)pm(r,t,s[a++],s[a++],s[a++])}function pm(e,n,t,r,i){const o=Tn(null);try{null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Tn(o)}}function bI(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gm(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function mm(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];_c(t[r]),s.contentQueries(2,n[o],o)}}}function Gu(e,n){return e[As]?e[kp][xr]=n:e[As]=n,e[kp]=n,n}function Hd(e,n,t){_c(0);const r=Tn(null);try{n(e,t)}finally{Tn(r)}}function ym(e){return e[Co]||(e[Co]=[])}function vm(e){return e.cleanup||(e.cleanup=[])}function Em(e,n){const t=e[Eo],r=t?t.get(io,null):null;r&&r.handleError(n)}function jd(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];pm(e.data[s],n[s],r,a,i)}}function AI(e,n){const t=er(n,e),r=t[Pe];!function II(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[Cn];null!==i&&null===t[ci]&&(t[ci]=O0(i,t[Eo])),$d(r,t,t[$t])}function $d(e,n,t){wc(n);try{const r=e.viewQuery;null!==r&&Hd(1,r,t);const i=e.template;null!==i&&am(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&mm(e,n),e.staticViewQueries&&Hd(2,e.viewQuery,t);const o=e.components;null!==o&&function TI(e,n){for(let t=0;t<n.length;t++)AI(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[ut]&=-5,Nc()}}let Sm=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new JS(t,g=>{this.all.has(g)&&this.queue.set(g,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Ge({token:e,providedIn:"root",factory:()=>new e}),e})();function Ku(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Dt(i,a):2==o&&(r=Dt(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Qs(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(kt(o)),Zn(o)){for(let a=_n;a<o.length;a++){const l=o[a],g=l[Pe].firstChild;null!==g&&Qs(l[Pe],l,g,r)}o[zr]!==o[Cn]&&r.push(o[zr])}const s=t.type;if(8&s)Qs(e,n,t.child,r);else if(32&s){const a=Qc(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=a0(n,t);if(Array.isArray(a))r.push(...a);else{const l=Os(n[hn]);Qs(l[Pe],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Wu(e,n,t,r=!0){const i=n[qi].rendererFactory;i.begin&&i.begin();try{qu(e,n,e.template,t)}catch(s){throw r&&Em(n,s),s}finally{i.end&&i.end(),n[qi].effectManager?.flush()}}function qu(e,n,t,r){const i=n[ut];if(256!=(256&i)){n[qi].effectManager?.flush(),wc(n);try{Yp(n),function ig(e){return nt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&am(e,n,t,2,r);const s=3==(3&i);if(s){const g=e.preOrderCheckHooks;null!==g&&au(n,g,null)}else{const g=e.preOrderHooks;null!==g&&uu(n,g,0,null),Rc(n,0)}if(function MI(e){for(let n=Yc(e);null!==n;n=Xc(n)){if(!n[Op])continue;const t=n[bo];for(let r=0;r<t.length;r++){lD(t[r])}}}(n),function RI(e){for(let n=Yc(e);null!==n;n=Xc(n))for(let t=_n;t<n.length;t++){const r=n[t],i=r[Pe];iu(r)&&qu(i,r,i.template,r[$t])}}(n),null!==e.contentQueries&&mm(e,n),s){const g=e.contentCheckHooks;null!==g&&au(n,g)}else{const g=e.contentHooks;null!==g&&uu(n,g,1),Rc(n,1)}!function eI(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=Z0(n,Xa);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Zi(~o);else{const s=o,a=t[++i],l=t[++i];SD(a,s),r.runInContext(l,2,n[s])}}}finally{null===n[Xa]&&J0(n,Xa),Zi(-1)}}(e,n);const a=e.components;null!==a&&function kI(e,n){for(let t=0;t<n.length;t++)PI(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&Hd(2,l,r),s){const g=e.viewCheckHooks;null!==g&&au(n,g)}else{const g=e.viewHooks;null!==g&&uu(n,g,2),Rc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ut]&=-73,Xp(n)}finally{Nc()}}}function PI(e,n){const t=er(n,e);if(iu(t)){const r=t[Pe];80&t[ut]?qu(r,t,r.template,t[$t]):t[Wi]>0&&zd(t)}}function zd(e){for(let r=Yc(e);null!==r;r=Xc(r))for(let i=_n;i<r.length;i++){const o=r[i];if(iu(o))if(1024&o[ut]){const s=o[Pe];qu(s,o,s.template,o[$t])}else o[Wi]>0&&zd(o)}const t=e[Pe].components;if(null!==t)for(let r=0;r<t.length;r++){const i=er(t[r],e);iu(i)&&i[Wi]>0&&zd(i)}}class Ys{get rootNodes(){const n=this._lView,t=n[Pe];return Qs(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(n){this._lView[$t]=n}get destroyed(){return 256==(256&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ft];if(Zn(n)){const t=n[Za],r=t?t.indexOf(this):-1;r>-1&&(Jc(n,r),gu(t,r))}this._attachedToViewContainer=!1}Zg(this._lView[Pe],this._lView)}onDestroy(n){!function Jp(e,n){if(256==(256&e[ut]))throw new xe(911,!1);null===e[Pi]&&(e[Pi]=[]),e[Pi].push(n)}(this._lView,n)}markForCheck(){Ws(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-129}reattach(){this._lView[ut]|=128}detectChanges(){Wu(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mb(e,n){Fs(e,n,n[ot],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=n}}class BI extends Ys{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Wu(n[Pe],n,n[$t],!1)}checkNoChanges(){}get context(){return null}}class Dm extends Uu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=bt(n);return new Xs(t,this.ngModule)}}function bm(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class LI{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Wa(r);const i=this.injector.get(n,Rd,r);return i!==Rd||t===Rd?i:this.parentInjector.get(n,t,r)}}class Xs extends U0{get inputs(){return bm(this.componentDef.inputs)}get outputs(){return bm(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function BS(e){return e.map(kS).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof Qr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new LI(n,o):n,a=s.get(H0,null);if(null===a)throw new xe(407,!1);const I={rendererFactory:a,sanitizer:s.get(VA,null),effectManager:s.get(Sm,null)},L=a.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",X=r?function nI(e,n,t,r){const o=r.get(z0,!1)||t===ur.ShadowDom,s=e.selectRootElement(n,o);return function rI(e){lm(e)}(s),s}(L,r,this.componentDef.encapsulation,s):Iu(L,K,function OI(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(K)),ie=this.componentDef.onPush?576:528,le=Ld(0,null,null,1,0,null,null,null,null,null,null),me=zu(null,le,null,ie,null,null,I,L,s,null,null);let Se,se;wc(me);try{const Ae=this.componentDef;let Ke,at=null;Ae.findHostDirectiveDefs?(Ke=[],at=new Map,Ae.findHostDirectiveDefs(Ae,Ke,at),Ke.push(Ae)):Ke=[Ae];const Nt=function UI(e,n){const t=e[Pe],r=mt;return e[r]=n,Ho(t,r,2,"#host",null)}(me,X),Ti=function VI(e,n,t,r,i,o,s){const a=i[Pe];!function HI(e,n,t,r){for(const i of e)n.mergedAttrs=bs(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Ku(n,n.mergedAttrs,!0),null!==t&&d0(r,t,n))}(r,e,n,s);let l=null;null!==n&&(l=O0(n,i[Eo]));const g=o.rendererFactory.createRenderer(n,t),I=zu(i,um(t),null,t.onPush?64:16,i[e.index],e,o,g,null,null,l);return a.firstCreatePass&&Ud(a,e,r.length-1),Gu(i,I),i[e.index]=I}(Nt,X,Ae,Ke,me,I,L);se=Qp(le,mt),X&&function $I(e,n,t,r){if(r)gc(e,t,["ng-version",HA.full]);else{const{attrs:i,classes:o}=function OS(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Tr(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&gc(e,t,i),o&&o.length>0&&c0(e,t,o.join(" "))}}(L,Ae,X,r),void 0!==t&&function zI(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),Se=function jI(e,n,t,r,i,o){const s=wn(),a=i[Pe],l=Jn(s,i);fm(a,i,s,t,null,r);for(let I=0;I<t.length;I++)On(Ji(i,a,s.directiveStart+I,s),i);hm(a,i,s),l&&On(l,i);const g=Ji(i,a,s.directiveStart+s.componentOffset,s);if(e[$t]=i[$t]=g,null!==o)for(const I of o)I(g,n);return kd(a,s,e),g}(Ti,Ae,Ke,at,me,[GI]),$d(le,me,null)}finally{Nc()}return new FI(this.componentType,Se,Uo(se,me),me,se)}}class FI extends kA{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new BI(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;jd(o[Pe],o,i,n,t),this.previousInputValues.set(n,t),Ws(er(this._tNode.index,o))}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function GI(){const e=wn();su(Ee()[Pe],e)}function Qu(e){return!!Kd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Kd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xr(e,n,t){return e[n]=t}function Ln(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function $o(e,n,t,r){return Ln(e,To(),t)?n+Ze(t)+r:st}function ht(e,n,t,r,i,o,s,a){const l=Ee(),g=Ct(),I=e+mt,L=g.firstCreatePass?function ET(e,n,t,r,i,o,s,a,l){const g=n.consts,I=Ho(n,e,4,s||null,ki(g,a));Fd(n,t,I,ki(g,l)),su(n,I);const L=I.tView=Ld(2,I,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g,null);return null!==n.queries&&(n.queries.template(n,I),L.queries=n.queries.embeddedTView(I)),I}(I,g,l,n,t,r,i,o,s):g.data[I];Wr(L,!1);const K=Hm(g,l,L,e);ou()&&xu(g,l,K,L),On(K,l),Gu(l,l[I]=gm(K,l,K,L)),Ja(L)&&Bd(g,l,L),null!=s&&Od(l,L,a)}let Hm=function jm(e,n,t,r){return Bi(!0),n[ot].createComment("")};function Zr(e){return function Ao(e,n){return e[n]}(function CD(){return nt.lFrame.contextLView}(),mt+e)}function Ve(e,n,t){const r=Ee();return Ln(r,To(),n)&&fr(Ct(),Ut(),r,e,n,r[ot],t,!1),Ve}function Jd(e,n,t,r,i){const s=i?"class":"style";jd(e,t,n.inputs[s],s,r)}function ce(e,n,t,r){const i=Ee(),o=Ct(),s=mt+e,a=i[ot],l=o.firstCreatePass?function AT(e,n,t,r,i,o){const s=n.consts,l=Ho(n,e,2,r,ki(s,i));return Fd(n,t,l,ki(s,o)),null!==l.attrs&&Ku(l,l.attrs,!1),null!==l.mergedAttrs&&Ku(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],g=$m(o,i,l,a,n,e);i[s]=g;const I=Ja(l);return Wr(l,!0),d0(a,g,l),32!=(32&l.flags)&&ou()&&xu(o,i,g,l),0===function dD(){return nt.lFrame.elementDepthCount}()&&On(g,i),function fD(){nt.lFrame.elementDepthCount++}(),I&&(Bd(o,i,l),kd(o,l,i)),null!==r&&Od(i,l),ce}function fe(){let e=wn();Ac()?function Ic(){nt.lFrame.isParent=!1}():(e=e.parent,Wr(e,!1));const n=e;(function pD(e){return nt.skipHydrationRootTNode===e})(n)&&function vD(){nt.skipHydrationRootTNode=null}(),function hD(){nt.lFrame.elementDepthCount--}();const t=Ct();return t.firstCreatePass&&(su(t,e),yc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function PD(e){return 0!=(8&e.flags)}(n)&&Jd(t,n,Ee(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function kD(e){return 0!=(16&e.flags)}(n)&&Jd(t,n,Ee(),n.stylesWithoutHost,!1),fe}function ct(e,n,t,r){return ce(e,n,t,r),fe(),ct}let $m=(e,n,t,r,i,o)=>(Bi(!0),Iu(r,i,function fg(){return nt.lFrame.currentNamespace}()));function Nn(){return Ee()}function el(e){return!!e&&"function"==typeof e.then}function Km(e){return!!e&&"function"==typeof e.subscribe}function yt(e,n,t,r){const i=Ee(),o=Ct(),s=wn();return function qm(e,n,t,r,i,o,s){const a=Ja(r),g=e.firstCreatePass&&vm(e),I=n[$t],L=ym(n);let K=!0;if(3&r.type||s){const le=Jn(r,n),me=s?s(le):le,Se=L.length,se=s?Ke=>s(kt(Ke[r.index])):r.index;let Ae=null;if(!s&&a&&(Ae=function NT(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Co],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==Ae)(Ae.__ngLastListenerFn__||Ae).__ngNextListenerFn__=o,Ae.__ngLastListenerFn__=o,K=!1;else{o=Ym(r,n,I,o,!1);const Ke=t.listen(me,i,o);L.push(o,Ke),g&&g.push(i,se,Se,Se+1)}}else o=Ym(r,n,I,o,!1);const X=r.outputs;let ie;if(K&&null!==X&&(ie=X[i])){const le=ie.length;if(le)for(let me=0;me<le;me+=2){const at=n[ie[me]][ie[me+1]].subscribe(o),Nt=L.length;L.push(o,at),g&&g.push(i,r.index,Nt,-(Nt+1))}}}(o,i,i[ot],s,e,n,r),yt}function Qm(e,n,t,r){try{return Kr(6,n,t),!1!==t(r)}catch(i){return Em(e,i),!1}finally{Kr(7,n,t)}}function Ym(e,n,t,r,i){return function o(s){if(s===Function)return r;Ws(e.componentOffset>-1?er(e.index,n):n);let l=Qm(n,t,r,s),g=o.__ngNextListenerFn__;for(;g;)l=Qm(n,t,g,s)&&l,g=g.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function At(e=1){return function AD(e){return(nt.lFrame.contextLView=function ID(e,n){for(;e>0;)n=n[So],e--;return n}(e,nt.lFrame.contextLView))[$t]}(e)}function Fi(e,n,t){return nf(e,"",n,"",t),Fi}function nf(e,n,t,r,i){const o=Ee(),s=$o(o,n,t,r);return s!==st&&fr(Ct(),Ut(),o,e,s,o[ot],i,!1),nf}function tl(e,n){return e<<17|n<<2}function Ui(e){return e>>17&32767}function rf(e){return 2|e}function so(e){return(131068&e)>>2}function sf(e,n){return-131069&e|n<<2}function af(e){return 1|e}function oy(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?Ui(o):so(o),l=!1;for(;0!==a&&(!1===l||s);){const I=e[a+1];UT(e[a],n)&&(l=!0,e[a+1]=r?af(I):rf(I)),a=r?Ui(I):so(I)}l&&(e[t+1]=r?rf(o):af(o))}function UT(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Po(e,n)>=0}function uf(e,n){return function wr(e,n,t,r){const i=Ee(),o=Ct(),s=function fi(e){const n=nt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function py(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[Hn()],s=function hy(e,n){return n>=e.expandoStartIndex}(e,t);(function vy(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function qT(e,n,t,r){const i=function xc(e){const n=nt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=na(t=lf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=lf(i,e,n,t,r),null===o){let l=function QT(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==so(r))return e[Ui(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=lf(null,e,n,l[1],r),l=na(l,n.attrs,r),function YT(e,n,t,r){e[Ui(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function XT(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=na(r,e[o].hostAttrs,t);return na(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function LT(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Ui(s),l=so(s);e[r]=t;let I,g=!1;if(Array.isArray(t)?(I=t[1],(null===I||Po(t,I)>0)&&(g=!0)):I=t,i)if(0!==l){const K=Ui(e[a+1]);e[r+1]=tl(K,a),0!==K&&(e[K+1]=sf(e[K+1],r)),e[a+1]=function BT(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=tl(a,0),0!==a&&(e[a+1]=sf(e[a+1],r)),a=r;else e[r+1]=tl(l,0),0===a?a=r:e[l+1]=sf(e[l+1],r),l=r;g&&(e[r+1]=rf(e[r+1])),oy(e,I,r,!0),oy(e,I,r,!1),function FT(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Po(o,n)>=0&&(t[r+1]=af(t[r+1]))}(n,I,e,r,o),s=tl(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==st&&Ln(i,s,n)&&function my(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,g=l[a+1],I=function OT(e){return 1==(1&e)}(g)?yy(l,n,t,i,so(g),s):void 0;nl(I)||(nl(o)||function kT(e){return 2==(2&e)}(g)&&(o=yy(l,null,t,i,a,s)),function jb(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:tr.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tr.Important),e.setStyle(t,r,i,o))}}(r,s,ru(Hn(),t),i,o))}(o,o.data[Hn()],i,i[ot],e,i[s+1]=function tx(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ie(Oi(e)))),e}(n,t),r,s)}(e,n,null,!0),uf}function lf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=na(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function na(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dr(e,s,!!t||n[++o]))}return void 0===e?null:e}function yy(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],g=Array.isArray(l),I=g?l[1]:l,L=null===I;let K=t[i+1];K===st&&(K=L?Et:void 0);let X=L?Uc(K,r):I===r?K:void 0;if(g&&!nl(X)&&(X=Uc(l,r)),nl(X)&&(a=X,s))return a;const ie=e[i+1];i=s?Ui(ie):so(ie)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Uc(l,r))}return a}function nl(e){return void 0!==e}function Me(e,n=""){const t=Ee(),r=Ct(),i=e+mt,o=r.firstCreatePass?Ho(r,i,1,n,null):r.data[i],s=Cy(r,t,o,n,e);t[i]=s,ou()&&xu(r,t,s,o),Wr(o,!1)}let Cy=(e,n,t,r,i)=>(Bi(!0),function Au(e,n){return e.createText(n)}(n[ot],r));function Xt(e){return rr("",e,""),Xt}function rr(e,n,t){const r=Ee(),i=$o(r,e,n,t);return i!==st&&function mi(e,n,t){const r=ru(n,e);!function Yg(e,n,t){e.setValue(n,t)}(e[ot],r,t)}(r,Hn(),i),rr}const Jo="en-US";let Hy=Jo;class es{}class hv{}class mf extends es{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dm(this);const i=lr(n);this._bootstrapComponents=pi(i.bootstrap),this._r3Injector=om(n,t,[{provide:es,useValue:this},{provide:Uu,useValue:this.componentFactoryResolver},...r],Ie(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class yf extends hv{constructor(n){super(),this.moduleType=n}create(n){return new mf(this.moduleType,n,[])}}class pv extends es{constructor(n){super(),this.componentFactoryResolver=new Dm(this),this.instance=null;const t=new vd([...n.providers,{provide:es,useValue:this},{provide:Uu,useValue:this.componentFactoryResolver}],n.parent||Pu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function vf(e,n,t=null){return new pv({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let I_=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=x0(0,t.type),i=r.length>0?vf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ge({token:e,providedIn:"environment",factory:()=>new e(Ue(Qr))}),e})();function gv(e){e.getStandaloneInjector=n=>n.get(I_).getOrCreateStandaloneInjector(e)}function Sr(e,n,t,r){return function Dv(e,n,t,r,i,o){const s=n+t;return Ln(e,s,i)?Xr(e,s+1,o?r.call(o,i):r(i)):ua(e,s+1)}(Ee(),Vn(),e,n,t,r)}function Ef(e,n,t,r,i){return function bv(e,n,t,r,i,o,s){const a=n+t;return function oo(e,n,t,r){const i=Ln(e,n,t);return Ln(e,n+1,r)||i}(e,a,i,o)?Xr(e,a+2,s?r.call(s,i,o):r(i,o)):ua(e,a+2)}(Ee(),Vn(),e,n,t,r,i)}function ua(e,n){const t=e[n];return t===st?void 0:t}function Sf(e){return n=>{setTimeout(e,void 0,n)}}const Fn=class Q_ extends Le{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Sf(o),i&&(i=Sf(i)),s&&(s=Sf(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof w&&n.add(a),a}};function Y_(){return this._results[Symbol.iterator]()}class Df{get changes(){return this._changes||(this._changes=new Fn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Df.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Y_)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function Cr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function GD(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yi=(()=>{class e{}return e.__NG_ELEMENT_ID__=J_,e})();const X_=yi,Z_=class extends X_{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const i=this._declarationTContainer.tView,o=zu(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,t||null,r||null);o[Is]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[$r];return null!==a&&(o[$r]=a.createEmbeddedView(i)),$d(i,o,n),new Ys(o)}};function J_(){return al(wn(),Ee())}function al(e,n){return 4&e.type?new Z_(n,e,Uo(e,n)):null}let Rr=(()=>{class e{}return e.__NG_ELEMENT_ID__=sw,e})();function sw(){return Mv(wn(),Ee())}const aw=Rr,Nv=class extends aw{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bc(this._hostTNode,this._hostLView);if(mg(n)){const t=cu(n,this._hostLView),r=lu(n);return new _o(t[Pe].data[r+8],t)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Rv(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function Rs(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const le=t||{};a=le.index,r=le.injector,i=le.projectableNodes,o=le.environmentInjector||le.ngModuleRef}const l=s?n:new Xs(bt(n)),g=r||this.parentInjector;if(!o&&null==l.ngModule){const me=(s?g:this.parentInjector).get(Qr,null);me&&(o=me)}bt(l.componentType??{});const X=l.create(g,i,null,o);return this.insertImpl(X.hostView,a,false),X}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,o=i[Pe];if(function uD(e){return Zn(e[Ft])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const g=i[Ft],I=new Nv(g,g[Bn],g[Ft]);I.detach(I.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;if(function kb(e,n,t,r){const i=_n+r,o=t.length;r>0&&(t[i-1][xr]=n),r<o-_n?(n[xr]=t[i],wg(t,_n+r,n)):(t.push(n),n[xr]=null),n[Ft]=t;const s=n[Is];null!==s&&t!==s&&function Bb(e,n){const t=e[bo];n[hn]!==n[Ft][Ft][hn]&&(e[Op]=!0),null===t?e[bo]=[n]:t.push(n)}(s,n);const a=n[$r];null!==a&&a.insertView(e),n[ut]|=128}(o,i,a,s),!r){const l=rd(s,a),g=i[ot],I=Tu(g,a[zr]);null!==I&&function Rb(e,n,t,r,i,o){r[Cn]=i,r[Bn]=n,Fs(e,r,t,1,i,o)}(o,a[Bn],g,i,I,l)}return n.attachToViewContainerRef(),wg(Af(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Rv(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Jc(this._lContainer,t);r&&(gu(Af(this._lContainer),t),Zg(r[Pe],r))}detach(n){const t=this._adjustIndex(n,-1),r=Jc(this._lContainer,t);return r&&null!=gu(Af(this._lContainer),t)?new Ys(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Rv(e){return e[Za]}function Af(e){return e[Za]||(e[Za]=[])}function Mv(e,n){let t;const r=n[e.index];return Zn(r)?t=r:(t=gm(r,n,null,e),n[e.index]=t,Gu(n,t)),Pv(t,n,e,r),new Nv(t,e,n)}let Pv=function kv(e,n,t,r){if(e[zr])return;let i;i=8&t.type?kt(r):function uw(e,n){const t=e[ot],r=t.createComment(""),i=Jn(n,e);return eo(t,Tu(t,i),r,function Ub(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[zr]=i};class If{constructor(n){this.queryList=n,this.matches=null}clone(){return new If(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Tf(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Vv(n,t).matches&&this.queries[t].setDirty()}}class Bv{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class xf{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new xf(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class _f{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new _f(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,dw(t,o)),this.matchTNodeWithReadOption(n,t,hu(t,n,o,!1,!1))}else r===yi?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,hu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Li||i===Rr||i===yi&&4&t.type)this.addMatch(t.index,-2);else{const o=hu(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function dw(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function hw(e,n,t,r){return-1===t?function fw(e,n){return 11&e.type?Uo(e,n):4&e.type?al(e,n):null}(n,e):-2===t?function pw(e,n,t){return t===Li?Uo(n,e):t===yi?al(n,e):t===Rr?Mv(n,e):void 0}(e,n,r):Ji(e,e[Pe],t,n)}function Ov(e,n,t,r){const i=n[$r].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const g=s[l];a.push(g<0?null:hw(n,o[g],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function wf(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Ov(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const g=o[a+1],I=n[-l];for(let L=_n;L<I.length;L++){const K=I[L];K[Is]===K[Ft]&&wf(K[Pe],K,g,r)}if(null!==I[bo]){const L=I[bo];for(let K=0;K<L.length;K++){const X=L[K];wf(X[Pe],X,g,r)}}}}}return r}function ul(e){const n=Ee(),t=Ct(),r=sg();_c(r+1);const i=Vv(t,r);if(e.dirty&&function aD(e){return 4==(4&e[ut])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?wf(t,n,r,[]):Ov(t,n,i,r);e.reset(o,FA),e.notifyOnChanges()}return!0}return!1}function Nf(e,n,t){const r=Ct();r.firstCreatePass&&(function Uv(e,n,t){null===e.queries&&(e.queries=new xf),e.queries.track(new _f(n,t))}(r,new Bv(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function Fv(e,n,t){const r=new Df(4==(4&t));(function sI(e,n,t,r){const i=ym(n);i.push(t),e.firstCreatePass&&vm(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[$r]&&(n[$r]=new Tf),n[$r].queries.push(new If(r))}(r,Ee(),n)}function ll(){return function gw(e,n){return e[$r].queries[n].queryList}(Ee(),sg())}function Vv(e,n){return e.queries.getByIndex(n)}const Of=new He("Application Initializer");let Lf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Fe(Of,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(el(o))t.push(o);else if(Km(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rC=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const vi=new He("LocaleId",{providedIn:"root",factory:()=>Fe(vi,qe.Optional|qe.SkipSelf)||function Fw(){return typeof $localize<"u"&&$localize.locale||Jo}()});let iC=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Vw{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let oC=(()=>{class e{compileModuleSync(t){return new yf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=pi(lr(t).declarations).reduce((s,a)=>{const l=bt(a);return l&&s.push(new Xs(l)),s},[]);return new Vw(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $w=(()=>Promise.resolve(0))();function Ff(e){typeof Zone>"u"?$w.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function uC(...e){}class Vt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fn(!1),this.onMicrotaskEmpty=new Fn(!1),this.onStable=new Fn(!1),this.onError=new Fn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function zw(){let e=Rt.requestAnimationFrame,n=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Ww(e){const n=()=>{!function Kw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Rt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vf(e),e.isCheckStableRunning=!0,Uf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return lC(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),cC(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return lC(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),cC(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Vf(e),Uf(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vt.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Vt.isInAngularZone())throw new xe(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Gw,uC,uC);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const Gw={};function Uf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function lC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cC(e){e._nesting--,Uf(e)}class qw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fn,this.onMicrotaskEmpty=new Fn,this.onStable=new Fn,this.onError=new Fn}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const dC=new He("",{providedIn:"root",factory:fC});function fC(){const e=Fe(Vt);let n=!0;return function uc(...e){const n=Ki(e),t=function tc(e,n){return"number"==typeof Hr(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?It(r[0]):_i(t)(dn(r,n)):mr}(new ne(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new ne(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),Ff(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(U()))}const hC=new He(""),dl=new He("");let $f,Hf=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$f||(function Qw(e){$f=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),Ff(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ff(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ue(Vt),Ue(jf),Ue(dl))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})(),jf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return $f?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Vi=null;const pC=new He("AllowMultipleToken"),zf=new He("PlatformDestroyListeners"),Gf=new He("appBootstrapListener");class mC{constructor(n,t){this.name=n,this.token=t}}function vC(e,n,t=[]){const r=`Platform: ${n}`,i=new He(r);return(o=[])=>{let s=Kf();if(!s||s.injector.get(pC,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function Zw(e){if(Vi&&!Vi.get(pC,!1))throw new xe(400,!1);(function gC(){!function XS(e){jp=e}(()=>{throw new xe(600,!1)})})(),Vi=e;const n=e.get(EC);(function yC(e){e.get(M0,null)?.forEach(t=>t())})(e)}(function CC(e=[],n){return gi.create({name:n,providers:[{provide:md,useValue:"platform"},{provide:zf,useValue:new Set([()=>Vi=null])},...e]})}(a,r))}return function e2(e){const n=Kf();if(!n)throw new xe(401,!1);return n}()}}function Kf(){return Vi?.get(EC)??null}let EC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function t2(e="zone.js",n){return"noop"===e?new qw:"zone.js"===e?new Vt(n):e}(r?.ngZone,function SC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function A_(e,n,t){return new mf(e,n,t)}(t.moduleType,this.injector,function TC(e){return[{provide:Vt,useFactory:e},{provide:$s,multi:!0,useFactory:()=>{const n=Fe(r2,{optional:!0});return()=>n.initialize()}},{provide:IC,useFactory:n2},{provide:dC,useFactory:fC}]}(()=>i)),s=o.injector.get(io,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{fl(this._modules,o),a.unsubscribe()})}),function DC(e,n,t){try{const r=t();return el(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Lf);return a.runInitializers(),a.donePromise.then(()=>(function jy(e){vr(e,"Expected localeId to be defined"),"string"==typeof e&&(Hy=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(vi,Jo)||Jo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=bC({},r);return function Yw(e,n,t){const r=new yf(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(rs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new xe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(zf,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ue(gi))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function bC(e,n){return Array.isArray(n)?n.reduce(bC,e):{...e,...n}}let rs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fe(IC),this.zoneIsStable=Fe(dC),this.componentTypes=[],this.components=[],this.isStable=Fe(iC).hasPendingTasks.pipe(pt(t=>t?R(!1):this.zoneIsStable),function re(e,n=$){return e=e??ve,Ye((t,r)=>{let i,o=!0;t.subscribe(we(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),U()),this._injector=Fe(Qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof U0;if(!this._injector.get(Lf).done)throw!i&&function vo(e){const n=bt(e)||kn(e)||Xn(e);return null!==n&&n.standalone}(t),new xe(405,!1);let s;s=i?t:this._injector.get(Uu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Xw(e){return e.isBoundToModule}(s)?void 0:this._injector.get(es),g=s.create(gi.NULL,[],r||s.selector,a),I=g.location.nativeElement,L=g.injector.get(hC,null);return L?.registerApplication(I),g.onDestroy(()=>{this.detachView(g.hostView),fl(this.components,g),L?.unregisterApplication(I)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;fl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Gf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>fl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new xe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function fl(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const IC=new He("",{providedIn:"root",factory:()=>Fe(io).handleError.bind(void 0)});function n2(){const e=Fe(Vt),n=Fe(io);return t=>e.runOutsideAngular(()=>n.handleError(t))}let r2=(()=>{class e{constructor(){this.zone=Fe(Vt),this.applicationRef=Fe(rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Wf=(()=>{class e{}return e.__NG_ELEMENT_ID__=o2,e})();function o2(e){return function s2(e,n,t){if(Qi(e)&&!t){const r=er(e.index,n);return new Ys(r,r)}return 47&e.type?new Ys(n[hn],n):null}(wn(),Ee(),16==(16&e))}class NC{constructor(){}supports(n){return Qu(n)}create(n){return new f2(n)}}const d2=(e,n)=>n;class f2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||d2}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<MC(r,i,o)?t:r,a=MC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const g=a-i,I=l-i;if(g!=I){for(let K=0;K<g;K++){const X=K<o.length?o[K]:o[K]=0,ie=X+K;I<=ie&&ie<g&&(o[K]=X+1)}o[s.previousIndex]=I-g}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Qu(n))throw new xe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function nT(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new h2(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new RC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class h2{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new p2,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class PC{constructor(){}supports(n){return n instanceof Map||Kd(n)}create(){return new g2}}class g2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Kd(n)))throw new xe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new m2(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class m2{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kC(){return new gl([new NC])}let gl=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||kC()),deps:[[e,new vu,new yu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new xe(901,!1)}}return e.\u0275prov=Ge({token:e,providedIn:"root",factory:kC}),e})();function BC(){return new da([new PC])}let da=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||BC()),deps:[[e,new vu,new yu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new xe(901,!1)}}return e.\u0275prov=Ge({token:e,providedIn:"root",factory:BC}),e})();const C2=vC(null,"core",[]);let E2=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Ue(rs))},e.\u0275mod=Mi({type:e}),e.\u0275inj=si({}),e})(),th=null;function is(){return th}class M2{}const hr=new He("DocumentToken");let nh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return Fe(k2)},providedIn:"platform"}),e})();const P2=new He("Location Initialized");let k2=(()=>{class e extends nh{constructor(){super(),this._doc=Fe(hr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return is().getBaseHref(this._doc)}onPopState(t){const r=is().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=is().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function rh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function jC(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Ci(e){return e&&"?"!==e[0]?"?"+e:e}let lo=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return Fe(zC)},providedIn:"root"}),e})();const $C=new He("appBaseHref");let zC=(()=>{class e extends lo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Fe(hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Ue(nh),Ue($C,8))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),B2=(()=>{class e extends lo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=rh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Ue(nh),Ue($C,8))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})(),ih=(()=>{class e{constructor(t){this._subject=new Fn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function F2(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(jC(GC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ci(r))}normalize(t){return e.stripTrailingSlash(function L2(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,GC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=Ci,e.joinWithSlash=rh,e.stripTrailingSlash=jC,e.\u0275fac=function(t){return new(t||e)(Ue(lo))},e.\u0275prov=Ge({token:e,factory:function(){return function O2(){return new ih(Ue(lo))}()},providedIn:"root"}),e})();function GC(e){return e.replace(/\/index.html$/,"")}function e1(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const ph=/\s+/,t1=[];let pa=(()=>{class e{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=t1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ph):t1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ph):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ph).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(Ne(gl),Ne(da),Ne(Li),Ne(Vu))},e.\u0275dir=Un({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class DN{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ga=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new DN(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),r1(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{r1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ne(Rr),Ne(yi),Ne(gl))},e.\u0275dir=Un({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function r1(e,n){e.context.$implicit=n.item}let Si=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new bN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){i1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){i1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ne(Rr),Ne(yi))},e.\u0275dir=Un({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class bN{constructor(){this.$implicit=null,this.ngIf=null}}function i1(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ie(n)}'.`)}let s1=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:tr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Ne(Li),Ne(da),Ne(Vu))},e.\u0275dir=Un({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),QN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=si({}),e})();function l1(e){return"server"===e}let JN=(()=>{class e{}return e.\u0275prov=Ge({token:e,providedIn:"root",factory:()=>new eR(Ue(hr),window)}),e})();class eR{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function tR(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=c1(this.window.history)||c1(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function c1(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class d1{}class _R extends M2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sh extends _R{static makeCurrent(){!function R2(e){th||(th=e)}(new Sh)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function wR(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}();return null==t?null:function NR(e){_l=_l||document.createElement("a"),_l.setAttribute("href",e);const n=_l.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return e1(document.cookie,n)}}let _l,ya=null,MR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();const Dh=new He("EventManagerPlugins");let m1=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new xe(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(Ue(Dh),Ue(Vt))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();class y1{constructor(n){this._doc=n}}const bh="ng-app-id";let v1=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=l1(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${bh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(bh),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(bh,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(Ue(hr),Ue(ku),Ue(P0,8),Ue(ro))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();const Ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ih=/%COMP%/g,OR=new He("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function E1(e,n){return n.map(t=>t.replace(Ih,e))}let S1=(()=>{class e{constructor(t,r,i,o,s,a,l,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=l1(a),this.defaultRenderer=new Th(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ur.ShadowDom&&(r={...r,encapsulation:ur.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof b1?i.applyToHost(t):i instanceof xh&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,g=this.sharedStylesHost,I=this.removeStylesOnCompDestory,L=this.platformIsServer;switch(r.encapsulation){case ur.Emulated:o=new b1(l,g,r,this.appId,I,s,a,L);break;case ur.ShadowDom:return new VR(l,g,t,r,s,a,this.nonce,L);default:o=new xh(l,g,r,I,s,a,L)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(Ue(m1),Ue(v1),Ue(ku),Ue(OR),Ue(hr),Ue(ro),Ue(Vt),Ue(P0))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();class Th{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Ah[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(D1(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(D1(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new xe(5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Ah[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Ah[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(tr.DashCase|tr.Important)?n.style.setProperty(t,r,i&tr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&tr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=is().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&(t.preventDefault(),t.returnValue=!1)}}}function D1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class VR extends Th{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=E1(i.id,i.styles);for(const I of g){const L=document.createElement("style");a&&L.setAttribute("nonce",a),L.textContent=I,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xh extends Th{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=l?E1(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class b1 extends xh{constructor(n,t,r,i,o,s,a,l){const g=i+"-"+r.id;super(n,t,r,o,s,a,l,g),this.contentAttr=function LR(e){return"_ngcontent-%COMP%".replace(Ih,e)}(g),this.hostAttr=function FR(e){return"_nghost-%COMP%".replace(Ih,e)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let HR=(()=>{class e extends y1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(Ue(hr))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();const A1=["alt","control","meta","shift"],jR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$R={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let zR=(()=>{class e extends y1{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>is().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),A1.forEach(g=>{const I=r.indexOf(g);I>-1&&(r.splice(I,1),s+=g+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=jR[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),A1.forEach(s=>{s!==i&&(0,$R[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Ue(hr))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();const qR=vC(C2,"browser",[{provide:ro,useValue:"browser"},{provide:M0,useValue:function GR(){Sh.makeCurrent()},multi:!0},{provide:hr,useFactory:function WR(){return function Wb(e){sd=e}(document),document},deps:[]}]),QR=new He(""),x1=[{provide:dl,useClass:class RR{addToWindow(n){Rt.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new xe(5103,!1);return o},Rt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Rt.getAllAngularRootElements=()=>n.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?is().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:hC,useClass:Hf,deps:[Vt,jf,dl]},{provide:Hf,useClass:Hf,deps:[Vt,jf,dl]}],_1=[{provide:md,useValue:"root"},{provide:io,useFactory:function KR(){return new io},deps:[]},{provide:Dh,useClass:HR,multi:!0,deps:[hr,Vt,ro]},{provide:Dh,useClass:zR,multi:!0,deps:[hr]},S1,v1,m1,{provide:H0,useExisting:S1},{provide:d1,useClass:MR,deps:[]},[]];let YR=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:ku,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(Ue(QR,12))},e.\u0275mod=Mi({type:e}),e.\u0275inj=si({providers:[..._1,...x1],imports:[QN,E2]}),e})(),w1=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Ue(hr))},e.\u0275prov=Ge({token:e,factory:function(t){let r=null;return r=t?new t:function ZR(){return new w1(Ue(hr))}(),r},providedIn:"root"}),e})();function os(e,n){return d(n)?pt(e,n,1):pt(e,1)}function Di(e,n){return Ye((t,r)=>{let i=0;t.subscribe(we(r,o=>e.call(n,o,i++)&&r.next(o)))})}function ti(e,n){return Ye((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(we(r,l=>{i?.unsubscribe();let g=0;const I=o++;It(e(l,I)).subscribe(i=we(r,L=>r.next(n?n(l,L,I,g++):L),()=>{i=null,a()}))},()=>{s=!0,a()}))})}typeof window<"u"&&window;class wl{}class wh{}class ni{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ni?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ni;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ni?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class rM{encodeKey(n){return P1(n)}encodeValue(n){return P1(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const oM=/%(\d[a-f0-9])/gi,sM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P1(e){return encodeURIComponent(e).replace(oM,(n,t)=>sM[t]??n)}function Nl(e){return`${e}`}class ji{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new rM,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function iM(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Nl):[Nl(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new ji({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Nl(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Nl(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class aM{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function k1(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function B1(e){return typeof Blob<"u"&&e instanceof Blob}function O1(e){return typeof FormData<"u"&&e instanceof FormData}class va{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function uM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ni),this.context||(this.context=new aM),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new ji,this.urlWithParams=t}serializeBody(){return null===this.body?null:k1(this.body)||B1(this.body)||O1(this.body)||function lM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ji?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O1(this.body)?null:B1(this.body)?this.body.type||null:k1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,g=n.params||this.params;const I=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((L,K)=>L.set(K,n.setHeaders[K]),l)),n.setParams&&(g=Object.keys(n.setParams).reduce((L,K)=>L.set(K,n.setParams[K]),g)),new va(t,r,o,{params:g,headers:l,context:I,reportProgress:a,responseType:i,withCredentials:s})}}var yn=(()=>((yn=yn||{})[yn.Sent=0]="Sent",yn[yn.UploadProgress=1]="UploadProgress",yn[yn.ResponseHeader=2]="ResponseHeader",yn[yn.DownloadProgress=3]="DownloadProgress",yn[yn.Response=4]="Response",yn[yn.User=5]="User",yn))();class Nh{constructor(n,t=200,r="OK"){this.headers=n.headers||new ni,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Rh extends Nh{constructor(n={}){super(n),this.type=yn.ResponseHeader}clone(n={}){return new Rh({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ss extends Nh{constructor(n={}){super(n),this.type=yn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ss({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class L1 extends Nh{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Mh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let F1=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof va)o=t;else{let l,g;l=i.headers instanceof ni?i.headers:new ni(i.headers),i.params&&(g=i.params instanceof ji?i.params:new ji({fromObject:i.params})),o=new va(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=R(o).pipe(os(l=>this.handler.handle(l)));if(t instanceof va||"events"===i.observe)return s;const a=s.pipe(Di(l=>l instanceof ss));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Oe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Oe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Oe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Oe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ji).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mh(i,r))}post(t,r,i={}){return this.request("POST",t,Mh(i,r))}put(t,r,i={}){return this.request("PUT",t,Mh(i,r))}}return e.\u0275fac=function(t){return new(t||e)(Ue(wl))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();function U1(e,n){return n(e)}function cM(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const fM=new He(""),Ca=new He(""),V1=new He("");function hM(){let e=null;return(n,t)=>(null===e&&(e=(Fe(fM,{optional:!0})??[]).reduceRight(cM,U1)),e(n,t))}let H1=(()=>{class e extends wl{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Ca),...this.injector.get(V1,[])]));this.chain=r.reduceRight((i,o)=>function dM(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(i,o,this.injector),U1)}return this.chain(t,r=>this.backend.handle(r))}}return e.\u0275fac=function(t){return new(t||e)(Ue(wh),Ue(Qr))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();const yM=/^\)\]\}',?\n/;let $1=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");const r=this.xhrFactory;return(r.\u0275loadImpl?dn(r.\u0275loadImpl()):R(null)).pipe(ti(()=>new ne(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((se,Ae)=>s.setRequestHeader(se,Ae.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const se=t.detectContentTypeHeader();null!==se&&s.setRequestHeader("Content-Type",se)}if(t.responseType){const se=t.responseType.toLowerCase();s.responseType="json"!==se?se:"text"}const a=t.serializeBody();let l=null;const g=()=>{if(null!==l)return l;const se=s.statusText||"OK",Ae=new ni(s.getAllResponseHeaders()),Ke=function vM(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new Rh({headers:Ae,status:s.status,statusText:se,url:Ke}),l},I=()=>{let{headers:se,status:Ae,statusText:Ke,url:at}=g(),Nt=null;204!==Ae&&(Nt=typeof s.response>"u"?s.responseText:s.response),0===Ae&&(Ae=Nt?200:0);let Ti=Ae>=200&&Ae<300;if("json"===t.responseType&&"string"==typeof Nt){const cp=Nt;Nt=Nt.replace(yM,"");try{Nt=""!==Nt?JSON.parse(Nt):null}catch(Cs){Nt=cp,Ti&&(Ti=!1,Nt={error:Cs,text:Nt})}}Ti?(o.next(new ss({body:Nt,headers:se,status:Ae,statusText:Ke,url:at||void 0})),o.complete()):o.error(new L1({error:Nt,headers:se,status:Ae,statusText:Ke,url:at||void 0}))},L=se=>{const{url:Ae}=g(),Ke=new L1({error:se,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Ae||void 0});o.error(Ke)};let K=!1;const X=se=>{K||(o.next(g()),K=!0);let Ae={type:yn.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(Ae.total=se.total),"text"===t.responseType&&s.responseText&&(Ae.partialText=s.responseText),o.next(Ae)},ie=se=>{let Ae={type:yn.UploadProgress,loaded:se.loaded};se.lengthComputable&&(Ae.total=se.total),o.next(Ae)};let le;s.addEventListener("load",I),s.addEventListener("error",L),s.addEventListener("timeout",L),s.addEventListener("abort",L),t.reportProgress&&(s.addEventListener("progress",X),null!==a&&s.upload&&s.upload.addEventListener("progress",ie));const me=()=>{le??=function EM(){const e=setTimeout(()=>{},CM);return()=>clearTimeout(e)}()},Se=()=>{le?.()};return s.addEventListener("loadstart",me),s.addEventListener("loadend",Se),s.send(a),o.next({type:yn.Sent}),()=>{s.removeEventListener("loadstart",me),s.removeEventListener("loadend",Se),s.removeEventListener("error",L),s.removeEventListener("abort",L),s.removeEventListener("load",I),s.removeEventListener("timeout",L),le?.(),t.reportProgress&&(s.removeEventListener("progress",X),null!==a&&s.upload&&s.upload.removeEventListener("progress",ie)),s.readyState!==s.DONE&&s.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(Ue(d1))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();const CM=2147483647,Ph=new He("XSRF_ENABLED"),z1=new He("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),G1=new He("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class K1{}let bM=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=e1(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ue(hr),Ue(ro),Ue(z1))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();function AM(e,n){const t=e.url.toLowerCase();if(!Fe(Ph)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Fe(K1).getToken(),i=Fe(G1);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var en=(()=>((en=en||{})[en.Interceptors=0]="Interceptors",en[en.LegacyInterceptors=1]="LegacyInterceptors",en[en.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",en[en.NoXsrfProtection=3]="NoXsrfProtection",en[en.JsonpSupport=4]="JsonpSupport",en[en.RequestsMadeViaParent=5]="RequestsMadeViaParent",en))();function as(e,n){return{\u0275kind:e,\u0275providers:n}}function IM(...e){const n=[F1,$1,H1,{provide:wl,useExisting:H1},{provide:wh,useExisting:$1},{provide:Ca,useValue:AM,multi:!0},{provide:Ph,useValue:!0},{provide:K1,useClass:bM}];for(const t of e)n.push(...t.\u0275providers);return function fd(e){return{\u0275providers:e}}(n)}const W1=new He("LEGACY_INTERCEPTOR_FN");let xM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=si({providers:[IM(as(en.LegacyInterceptors,[{provide:W1,useFactory:hM},{provide:Ca,useExisting:W1,multi:!0}]))]}),e})();const{isArray:kM}=Array,{getPrototypeOf:BM,prototype:OM,keys:LM}=Object;const{isArray:VM}=Array;function kh(...e){const n=Ki(e),t=function ec(e){return d(Hr(e))?e.pop():void 0}(e),{args:r,keys:i}=function FM(e){if(1===e.length){const n=e[0];if(kM(n))return{args:n,keys:null};if(function UM(e){return e&&"object"==typeof e&&BM(e)===OM}(n)){const t=LM(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return dn([],n);const o=new ne(function zM(e,n,t=$){return r=>{q1(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)q1(n,()=>{const g=dn(e[l],n);let I=!1;g.subscribe(we(r,L=>{o[l]=L,I||(I=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function $M(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):$));return t?o.pipe(function jM(e){return Oe(n=>function HM(e,n){return VM(n)?e(...n):e(n)}(e,n))}(t)):o}function q1(e,n,t){e?wt(t,e,n):n()}const Rl=u(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Bh(...e){return function GM(){return _i(1)}()(dn(e,Ki(e)))}function Q1(e){return new ne(n=>{It(e()).subscribe(n)})}function Sa(e,n){const t=d(e)?e:()=>e,r=i=>i.error(t());return new ne(n?i=>n.schedule(r,0,i):r)}function Oh(){return Ye((e,n)=>{let t=null;e._refCount++;const r=we(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class Y1 extends ne{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ce(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new w;const t=this.getSubject();n.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=w.EMPTY)}return n}refCount(){return Oh()(this)}}function us(e){return e<=0?()=>mr:Ye((n,t)=>{let r=0;n.subscribe(we(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Ml(e){return Ye((n,t)=>{let r=!1;n.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function X1(e=WM){return Ye((n,t)=>{let r=!1;n.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function WM(){return new Rl}function co(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Di((i,o)=>e(i,o,r)):$,us(1),t?Ml(n):X1(()=>new Rl))}function zn(e,n,t){const r=d(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ye((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(we(o,l=>{var g;null===(g=r.next)||void 0===g||g.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var g;a=!1,null===(g=r.error)||void 0===g||g.call(r,l),o.error(l)},()=>{var l,g;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):$}function fo(e){return Ye((n,t)=>{let o,r=null,i=!1;r=n.subscribe(we(t,void 0,void 0,s=>{o=It(e(s,fo(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Lh(e){return e<=0?()=>mr:Ye((n,t)=>{let r=[];n.subscribe(we(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Fh(e){return Ye((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const lt="primary",Da=Symbol("RouteTitle");class ZM{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ls(e){return new ZM(e)}function JM(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ri(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Z1(e[i],n[i]))return!1;return!0}function Z1(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function J1(e){return e.length>0?e[e.length-1]:null}function $i(e){return function PM(e){return!!e&&(e instanceof ne||d(e.lift)&&d(e.subscribe))}(e)?e:el(e)?dn(Promise.resolve(e)):R(e)}const tP={exact:function nE(e,n,t){if(!ho(e.segments,n.segments)||!Pl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!nE(e.children[r],n.children[r],t))return!1;return!0},subset:rE},eE={exact:function nP(e,n){return ri(e,n)},subset:function rP(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Z1(e[t],n[t]))},ignored:()=>!0};function tE(e,n,t){return tP[t.paths](e.root,n.root,t.matrixParams)&&eE[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function rE(e,n,t){return iE(e,n,n.segments,t)}function iE(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!ho(i,t)||n.hasChildren()||!Pl(i,t,r))}if(e.segments.length===t.length){if(!ho(e.segments,t)||!Pl(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!rE(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(ho(e.segments,i)&&Pl(e.segments,i,r)&&e.children[lt])&&iE(e.children[lt],n,o,r)}}function Pl(e,n,t){return n.every((r,i)=>eE[t](e[i].parameters,r.parameters))}class cs{constructor(n=new _t([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ls(this.queryParams)),this._queryParamMap}toString(){return sP.serialize(this)}}class _t{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kl(this)}}class ba{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ls(this.parameters)),this._parameterMap}toString(){return aE(this)}}function ho(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Aa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return new Uh},providedIn:"root"}),e})();class Uh{parse(n){const t=new yP(n);return new cs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Ia(n.root,!0)}`,r=function lP(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Bl(t)}=${Bl(i)}`).join("&"):`${Bl(t)}=${Bl(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function aP(e){return encodeURI(e)}(n.fragment)}`:""}`}}const sP=new Uh;function kl(e){return e.segments.map(n=>aE(n)).join("/")}function Ia(e,n){if(!e.hasChildren())return kl(e);if(n){const t=e.children[lt]?Ia(e.children[lt],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==lt&&r.push(`${i}:${Ia(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function oP(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===lt&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==lt&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===lt?[Ia(e.children[lt],!1)]:[`${i}:${Ia(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[lt]?`${kl(e)}/${t[0]}`:`${kl(e)}/(${t.join("//")})`}}function oE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bl(e){return oE(e).replace(/%3B/gi,";")}function Vh(e){return oE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(e){return decodeURIComponent(e)}function sE(e){return Ol(e.replace(/\+/g,"%20"))}function aE(e){return`${Vh(e.path)}${function uP(e){return Object.keys(e).map(n=>`;${Vh(n)}=${Vh(e[n])}`).join("")}(e.parameters)}`}const cP=/^[^\/()?;#]+/;function Hh(e){const n=e.match(cP);return n?n[0]:""}const dP=/^[^\/()?;=#]+/,hP=/^[^=?&#]+/,gP=/^[^&#]+/;class yP{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[lt]=new _t(n,t)),r}parseSegment(){const n=Hh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(n),new ba(Ol(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function fP(e){const n=e.match(dP);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Hh(this.remaining);i&&(r=i,this.capture(r))}n[Ol(t)]=Ol(r)}parseQueryParam(n){const t=function pP(e){const n=e.match(hP);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function mP(e){const n=e.match(gP);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=sE(t),o=sE(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new xe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=lt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[lt]:new _t([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new xe(4011,!1)}}function uE(e){return e.segments.length>0?new _t([],{[lt]:e}):e}function lE(e){const n={};for(const r of Object.keys(e.children)){const o=lE(e.children[r]);if(r===lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function vP(e){if(1===e.numberOfChildren&&e.children[lt]){const n=e.children[lt];return new _t(e.segments.concat(n.segments),n.children)}return e}(new _t(e.segments,n))}function po(e){return e instanceof cs}function cE(e){let n;const i=uE(function t(o){const s={};for(const l of o.children){const g=t(l);s[l.outlet]=g}const a=new _t(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function dE(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return jh(i,i,i,t,r);const o=function EP(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new hE(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,g])=>{a[l]="string"==typeof g?g.split("/"):g}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new hE(t,n,r)}(n);if(o.toRoot())return jh(i,i,new _t([],{}),t,r);const s=function SP(e,n,t){if(e.isAbsolute)return new Fl(n,!0,0);if(!t)return new Fl(n,!1,NaN);if(null===t.parent)return new Fl(t,!0,0);const r=Ll(e.commands[0])?0:1;return function DP(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new xe(4005,!1);i=r.segments.length}return new Fl(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?xa(s.segmentGroup,s.index,o.commands):pE(s.segmentGroup,s.index,o.commands);return jh(i,s.segmentGroup,a,t,r)}function Ll(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ta(e){return"object"==typeof e&&null!=e&&e.outlets}function jh(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,g])=>{o[l]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),s=e===n?t:fE(e,n,t);const a=uE(lE(s));return new cs(a,o,i)}function fE(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:fE(o,n,t)}),new _t(e.segments,r)}class hE{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ll(r[0]))throw new xe(4003,!1);const i=r.find(Ta);if(i&&i!==J1(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fl{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function pE(e,n,t){if(e||(e=new _t([],{})),0===e.segments.length&&e.hasChildren())return xa(e,n,t);const r=function AP(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(Ta(a))break;const l=`${a}`,g=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&g&&"object"==typeof g&&void 0===g.outlets){if(!mE(l,g,s))return o;r+=2}else{if(!mE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new _t(e.segments.slice(0,r.pathIndex),{});return o.children[lt]=new _t(e.segments.slice(r.pathIndex),e.children),xa(o,0,i)}return r.match&&0===i.length?new _t(e.segments,{}):r.match&&!e.hasChildren()?$h(e,n,t):r.match?xa(e,0,i):$h(e,n,t)}function xa(e,n,t){if(0===t.length)return new _t(e.segments,{});{const r=function bP(e){return Ta(e[0])?e[0].outlets:{[lt]:e}}(t),i={};if(!r[lt]&&e.children[lt]&&1===e.numberOfChildren&&0===e.children[lt].segments.length){const o=xa(e.children[lt],n,t);return new _t(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=pE(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new _t(e.segments,i)}}function $h(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(Ta(o)){const l=IP(o.outlets);return new _t(r,l)}if(0===i&&Ll(t[0])){r.push(new ba(e.segments[n].path,gE(t[0]))),i++;continue}const s=Ta(o)?o.outlets[lt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ll(a)?(r.push(new ba(s,gE(a))),i+=2):(r.push(new ba(s,{})),i++)}return new _t(r,{})}function IP(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=$h(new _t([],{}),0,r))}),n}function gE(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function mE(e,n,t){return e==t.path&&ri(n,t.parameters)}const _a="imperative";class ii{constructor(n,t){this.id=n,this.url=t}}class zh extends ii{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class go extends ii{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ul extends ii{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wa extends ii{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Gh extends ii{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TP extends ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xP extends ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _P extends ii{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wP extends ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NP extends ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RP{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MP{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PP{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kP{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BP{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OP{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yE{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LP{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Na,this.attachRef=null}}let Na=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new LP,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class vE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Kh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Kh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Wh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Wh(n,this._root).map(t=>t.value)}}function Kh(e,n){if(e===n.value)return n;for(const t of n.children){const r=Kh(e,t);if(r)return r}return null}function Wh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Wh(e,t);if(r.length)return r.unshift(n),r}return[]}class bi{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ds(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class CE extends vE{constructor(n,t){super(n),this.snapshot=t,qh(this,n)}toString(){return this.snapshot.toString()}}function EE(e,n){const t=function FP(e,n){const s=new Vl([],{},{},"",{},lt,n,null,{});return new DE("",new bi(s,[]))}(0,n),r=new We([new ba("",{})]),i=new We({}),o=new We({}),s=new We({}),a=new We(""),l=new fs(r,i,s,a,o,lt,n,t.root);return l.snapshot=t.root,new CE(new bi(l,[]),t)}class fs{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Oe(g=>g[Da]))??R(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(n=>ls(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(n=>ls(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SE(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function UP(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vl{get title(){return this.data?.[Da]}constructor(n,t,r,i,o,s,a,l,g){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ls(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ls(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DE extends vE{constructor(n,t){super(t),this.url=n,qh(this,t)}toString(){return bE(this._root)}}function qh(e,n){n.value._routerState=e,n.children.forEach(t=>qh(e,t))}function bE(e){const n=e.children.length>0?` { ${e.children.map(bE).join(", ")} } `:"";return`${e.value}${n}`}function Qh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ri(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ri(n.params,t.params)||e.paramsSubject.next(t.params),function eP(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ri(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),ri(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Yh(e,n){const t=ri(e.params,n.params)&&function iP(e,n){return ho(e,n)&&e.every((t,r)=>ri(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Yh(e.parent,n.parent))}let Xh=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new Fn,this.deactivateEvents=new Fn,this.attachEvents=new Fn,this.detachEvents=new Fn,this.parentContexts=Fe(Na),this.location=Fe(Rr),this.changeDetector=Fe(Wf),this.environmentInjector=Fe(Qr),this.inputBinder=Fe(Hl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new VP(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Un({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xi]}),e})();class VP{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===fs?this.route:n===Na?this.childContexts:this.parent.get(n,t)}}const Hl=new He("");let AE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=kh([r.queryParams,r.params,r.data]).pipe(ti(([o,s,a],l)=>(a={...o,...s,...a},0===l?R(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function N2(e){const n=bt(e);if(!n)return null;const t=new Xs(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();function Ra(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function jP(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ra(e,r,i);return Ra(e,r)})}(e,n,t);return new bi(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ra(e,a)),s}}const r=function $P(e){return new fs(new We(e.url),new We(e.params),new We(e.queryParams),new We(e.fragment),new We(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ra(e,o));return new bi(r,i)}}const Zh="ngNavigationCancelingError";function IE(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=po(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=TE(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function TE(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Zh]=!0,r.cancellationCode=n,t&&(r.url=t),r}function xE(e){return _E(e)&&po(e.url)}function _E(e){return e&&e[Zh]}let wE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[gv],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[Xh],encapsulation:2}),e})();function Jh(e){const n=e.children&&e.children.map(Jh),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==lt&&(t.component=wE),t}function Br(e){return e.outlet||lt}function Ma(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class YP{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Qh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=ds(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ds(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ds(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=ds(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new OP(o.value.snapshot))}),n.children.length&&this.forwardEvent(new kP(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Qh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Ma(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class NE{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class jl{constructor(n,t){this.component=n,this.route=t}}function XP(e,n,t){const r=e._root;return Pa(r,n?n._root:null,t,[r.value])}function hs(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function gS(e){return null!==za(e)}(e)?n.get(e):e:r}function Pa(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ds(n);return e.children.forEach(s=>{(function JP(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function ek(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!ho(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ho(e.url,n.url)||!ri(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yh(e,n)||!ri(e.queryParams,n.queryParams);default:return!Yh(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new NE(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Pa(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jl(a.outlet.component,s))}else s&&ka(n,a,i),i.canActivateChecks.push(new NE(r)),Pa(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ka(a,t.getContext(s),i)),i}function ka(e,n,t){const r=ds(e),i=e.value;Object.entries(r).forEach(([o,s])=>{ka(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new jl(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ba(e){return"function"==typeof e}function RE(e){return e instanceof Rl||"EmptyError"===e?.name}const $l=Symbol("INITIAL_VALUE");function ps(){return ti(e=>kh(e.map(n=>n.pipe(us(1),function KM(...e){const n=Ki(e);return Ye((t,r)=>{(n?Bh(e,t,n):Bh(e,t)).subscribe(r)})}($l)))).pipe(Oe(n=>{for(const t of n)if(!0!==t){if(t===$l)return $l;if(!1===t||t instanceof cs)return t}return!0}),Di(n=>n!==$l),us(1)))}function ME(e){return function te(...e){return ee(e)}(zn(n=>{if(po(n))throw IE(0,n)}),Oe(n=>!0===n))}class zl{constructor(n){this.segmentGroup=n||null}}class PE{constructor(n){this.urlTree=n}}function gs(e){return Sa(new zl(e))}function kE(e){return Sa(new PE(e))}class Ek{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new xe(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return R(r);if(i.numberOfChildren>1||!i.children[lt])return Sa(new xe(4e3,!1));i=i.children[lt]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new cs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new _t(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new xe(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sk(e,n,t,r,i){const o=tp(e,n,t);return o.matched?(r=function zP(e,n){return e.providers&&!e._injector&&(e._injector=vf(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function yk(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?R(i.map(s=>{const a=hs(s,e);return $i(function sk(e){return e&&Ba(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(ps(),ME()):R(!0)}(r,n,t).pipe(Oe(s=>!0===s?o:{...ep}))):R(o)}function tp(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...ep}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||JM)(t,e,n);if(!i)return{...ep};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BE(e,n,t,r){return t.length>0&&function Ak(e,n,t){return t.some(r=>Gl(e,n,r)&&Br(r)!==lt)}(e,t,r)?{segmentGroup:new _t(n,bk(r,new _t(t,e.children))),slicedSegments:[]}:0===t.length&&function Ik(e,n,t){return t.some(r=>Gl(e,n,r))}(e,t,r)?{segmentGroup:new _t(e.segments,Dk(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new _t(e.segments,e.children),slicedSegments:t}}function Dk(e,n,t,r,i){const o={};for(const s of r)if(Gl(e,t,s)&&!i[Br(s)]){const a=new _t([],{});o[Br(s)]=a}return{...i,...o}}function bk(e,n){const t={};t[lt]=n;for(const r of e)if(""===r.path&&Br(r)!==lt){const i=new _t([],{});t[Br(r)]=i}return t}function Gl(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class wk{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ek(this.urlSerializer,this.urlTree)}noMatchError(n){return new xe(4002,!1)}recognize(){const n=BE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,lt).pipe(fo(t=>{if(t instanceof PE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof zl?this.noMatchError(t):t}),Oe(t=>{const r=new Vl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),i=new bi(r,t),o=new DE("",i),s=function CP(e,n,t=null,r=null){return dE(cE(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,lt).pipe(fo(r=>{throw r instanceof zl?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=SE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return dn(i).pipe(os(o=>{const s=r.children[o],a=function qP(e,n){const t=e.filter(r=>Br(r)===n);return t.push(...e.filter(r=>Br(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function QM(e,n){return Ye(function qM(e,n,t,r,i){return(o,s)=>{let a=t,l=n,g=0;o.subscribe(we(s,I=>{const L=g++;l=a?e(l,I,L):(a=!0,I),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Ml(null),function YM(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Di((i,o)=>e(i,o,r)):$,Lh(1),t?Ml(n):X1(()=>new Rl))}(),pt(o=>{if(null===o)return gs(r);const s=OE(o);return function Nk(e){e.sort((n,t)=>n.value.outlet===lt?-1:t.value.outlet===lt?1:n.value.outlet.localeCompare(t.value.outlet))}(s),R(s)}))}processSegment(n,t,r,i,o,s){return dn(t).pipe(os(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(fo(l=>{if(l instanceof zl)return R(null);throw l}))),co(a=>!!a),fo(a=>{if(RE(a))return function xk(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?R([]):gs(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function Tk(e,n,t,r){return!!(Br(e)===r||r!==lt&&Gl(n,t,e))&&("**"===e.path||tp(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):gs(i):gs(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kE(o):this.applyRedirects.lineralizeSegments(r,o).pipe(pt(s=>{const a=new _t(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:g,positionalParamSegments:I}=tp(t,i,o);if(!a)return gs(t);const L=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,I);return i.redirectTo.startsWith("/")?kE(L):this.applyRedirects.lineralizeSegments(i,L).pipe(pt(K=>this.processSegment(n,r,t,K.concat(g),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?J1(i).parameters:{};a=R({snapshot:new Vl(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LE(r),Br(r),r.component??r._loadedComponent??null,r,FE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Sk(t,r,i,n).pipe(Oe(({matched:l,consumedSegments:g,remainingSegments:I,parameters:L})=>l?{snapshot:new Vl(g,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LE(r),Br(r),r.component??r._loadedComponent??null,r,FE(r)),consumedSegments:g,remainingSegments:I}:null));return a.pipe(ti(l=>null===l?gs(t):this.getChildConfig(n=r._injector??n,r,i).pipe(ti(({routes:g})=>{const I=r._loadedInjector??n,{snapshot:L,consumedSegments:K,remainingSegments:X}=l,{segmentGroup:ie,slicedSegments:le}=BE(t,K,X,g);if(0===le.length&&ie.hasChildren())return this.processChildren(I,g,ie).pipe(Oe(Se=>null===Se?null:[new bi(L,Se)]));if(0===g.length&&0===le.length)return R([new bi(L,[])]);const me=Br(r)===o;return this.processSegment(I,g,ie,le,me?lt:o,!0).pipe(Oe(Se=>[new bi(L,Se)]))}))))}getChildConfig(n,t,r){return t.children?R({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?R({routes:t._loadedRoutes,injector:t._loadedInjector}):function mk(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?R(!0):R(i.map(s=>{const a=hs(s,e);return $i(function nk(e){return e&&Ba(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(ps(),ME())}(n,t,r).pipe(pt(i=>i?this.configLoader.loadChildren(n,t).pipe(zn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Ck(e){return Sa(TE(!1,3))}())):R({routes:[],injector:n})}}function Rk(e){const n=e.value.routeConfig;return n&&""===n.path}function OE(e){const n=[],t=new Set;for(const r of e){if(!Rk(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=OE(r.children);n.push(new bi(r.value,i))}return n.filter(r=>!t.has(r))}function LE(e){return e.data||{}}function FE(e){return e.resolve||{}}function UE(e){return"string"==typeof e.title||null===e.title}function np(e){return ti(n=>{const t=e(n);return t?dn(t).pipe(Oe(()=>n)):R(n)})}const ms=new He("ROUTES");let rp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Fe(oC)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return R(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=$i(t.loadComponent()).pipe(Oe(VE),zn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Fh(()=>{this.componentLoaders.delete(t)})),i=new Y1(r,()=>new Le).pipe(Oh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Oe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,g;return Array.isArray(a)?g=a:(l=a.create(t).injector,g=l.get(ms,[],qe.Self|qe.Optional).flat()),{routes:g.map(Jh),injector:l}}),Fh(()=>{this.childrenLoaders.delete(r)})),s=new Y1(o,()=>new Le).pipe(Oh());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return $i(t()).pipe(Oe(VE),pt(r=>r instanceof hv||Array.isArray(r)?R(r):dn(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function VE(e){return function Fk(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Kl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Le,this.configLoader=Fe(rp),this.environmentInjector=Fe(Qr),this.urlSerializer=Fe(Aa),this.rootContexts=Fe(Na),this.inputBindingEnabled=null!==Fe(Hl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new MP(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new RP(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new We({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_a,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Di(r=>0!==r.id),Oe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ti(r=>{let i=!1,o=!1;return R(r).pipe(zn(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new wa(s.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),mr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return HE(s.source)&&(t.browserUrlTree=s.extractedUrl),R(s).pipe(ti(I=>{const L=this.transitions?.getValue();return this.events.next(new zh(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),L!==this.transitions?.getValue()?mr:Promise.resolve(I)}),function Mk(e,n,t,r,i,o){return pt(s=>function _k(e,n,t,r,i,o,s="emptyOnly"){return new wk(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zn(I=>{if(r.targetSnapshot=I.targetSnapshot,r.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const K=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(K,I)}t.browserUrlTree=I.urlAfterRedirects}const L=new TP(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(L)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:L,source:K,restoredState:X,extras:ie}=s,le=new zh(I,this.urlSerializer.serialize(L),K,X);this.events.next(le);const me=EE(0,this.rootComponentType).snapshot;return R(r={...s,targetSnapshot:me,urlAfterRedirects:L,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new wa(s.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),mr}}),zn(s=>{const a=new xP(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Oe(s=>r={...s,guards:XP(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function uk(e,n){return pt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?R({...t,guardsResult:!0}):function lk(e,n,t,r){return dn(e).pipe(pt(i=>function gk(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?R(o.map(a=>{const l=Ma(n)??i,g=hs(a,l);return $i(function ok(e){return e&&Ba(e.canDeactivate)}(g)?g.canDeactivate(e,n,t,r):l.runInContext(()=>g(e,n,t,r))).pipe(co())})).pipe(ps()):R(!0)}(i.component,i.route,t,n,r)),co(i=>!0!==i,!0))}(s,r,i,e).pipe(pt(a=>a&&function tk(e){return"boolean"==typeof e}(a)?function ck(e,n,t,r){return dn(n).pipe(os(i=>Bh(function fk(e,n){return null!==e&&n&&n(new PP(e)),R(!0)}(i.route.parent,r),function dk(e,n){return null!==e&&n&&n(new BP(e)),R(!0)}(i.route,r),function pk(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function ZP(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Q1(()=>R(s.guards.map(l=>{const g=Ma(s.node)??t,I=hs(l,g);return $i(function ik(e){return e&&Ba(e.canActivateChild)}(I)?I.canActivateChild(r,e):g.runInContext(()=>I(r,e))).pipe(co())})).pipe(ps())));return R(o).pipe(ps())}(e,i.path,t),function hk(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return R(!0);const i=r.map(o=>Q1(()=>{const s=Ma(n)??t,a=hs(o,s);return $i(function rk(e){return e&&Ba(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(co())}));return R(i).pipe(ps())}(e,i.route,t))),co(i=>!0!==i,!0))}(r,o,e,n):R(a)),Oe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),zn(s=>{if(r.guardsResult=s.guardsResult,po(s.guardsResult))throw IE(0,s.guardsResult);const a=new _P(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Di(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),np(s=>{if(s.guards.canActivateChecks.length)return R(s).pipe(zn(a=>{const l=new wP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ti(a=>{let l=!1;return R(a).pipe(function Pk(e,n){return pt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return R(t);let o=0;return dn(i).pipe(os(s=>function kk(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!UE(i)&&(o[Da]=i.title),function Bk(e,n,t,r){const i=function Ok(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return R({});const o={};return dn(i).pipe(pt(s=>function Lk(e,n,t,r){const i=Ma(n)??r,o=hs(e,i);return $i(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(co(),zn(a=>{o[s]=a}))),Lh(1),function XM(e){return Oe(()=>e)}(o),fo(s=>RE(s)?mr:Sa(s)))}(o,e,n,r).pipe(Oe(s=>(e._resolvedData=s,e.data=SE(e,t).resolve,i&&UE(i)&&(e.data[Da]=i.title),null)))}(s.route,r,e,n)),zn(()=>o++),Lh(1),pt(s=>o===i.length?R(t):mr))})}(t.paramsInheritanceStrategy,this.environmentInjector),zn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),zn(a=>{const l=new NP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),np(s=>{const a=l=>{const g=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(l.routeConfig).pipe(zn(I=>{l.component=I}),Oe(()=>{})));for(const I of l.children)g.push(...a(I));return g};return kh(a(s.targetSnapshot.root)).pipe(Ml(),us(1))}),np(()=>this.afterPreactivation()),Oe(s=>{const a=function HP(e,n,t){const r=Ra(e,n._root,t?t._root:void 0);return new CE(r,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),zn(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((e,n,t,r)=>Oe(i=>(new YP(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),us(1),zn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new go(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Fh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),fo(s=>{if(o=!0,_E(s)){xE(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Ul(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),xE(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||HE(r.source)};t.scheduleNavigation(l,_a,null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Gh(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(l){r.reject(l)}}return mr}))}))}cancelNavigationTransition(t,r,i){const o=new Ul(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function HE(e){return e!==_a}let jE=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===lt);return r}getResolvedTitleForRoute(t){return t.data[Da]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return Fe(Uk)},providedIn:"root"}),e})(),Uk=(()=>{class e extends jE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(Ue(w1))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Vk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return Fe(jk)},providedIn:"root"}),e})();class Hk{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let jk=(()=>{class e extends Hk{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=function Tg(e){return ai(()=>{const n=e.prototype.constructor,t=n[li]||Lc(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[li]||Lc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(r||e)}}(),e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wl=new He("",{providedIn:"root",factory:()=>({})});let $k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:function(){return Fe(zk)},providedIn:"root"}),e})(),zk=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pr=(()=>((pr=pr||{})[pr.COMPLETE=0]="COMPLETE",pr[pr.FAILED=1]="FAILED",pr[pr.REDIRECTING=2]="REDIRECTING",pr))();function $E(e,n){e.events.pipe(Di(t=>t instanceof go||t instanceof Ul||t instanceof Gh||t instanceof wa),Oe(t=>t instanceof go||t instanceof wa?pr.COMPLETE:t instanceof Ul&&(0===t.code||1===t.code)?pr.REDIRECTING:pr.FAILED),Di(t=>t!==pr.REDIRECTING),us(1)).subscribe(()=>{n()})}function Gk(e){throw e}function Kk(e,n,t){return n.parse("/")}const Wk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Fe(rC),this.isNgZoneEnabled=!1,this.options=Fe(Wl,{optional:!0})||{},this.pendingTasks=Fe(iC),this.errorHandler=this.options.errorHandler||Gk,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kk,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Fe($k),this.routeReuseStrategy=Fe(Vk),this.titleStrategy=Fe(jE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fe(ms,{optional:!0})?.flat()??[],this.navigationTransitions=Fe(Kl),this.urlSerializer=Fe(Aa),this.location=Fe(ih),this.componentInputBindingEnabled=!!Fe(Hl,{optional:!0}),this.isNgZoneEnabled=Fe(Vt)instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EE(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_a,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Jh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,g=l?this.currentUrlTree.fragment:s;let L,I=null;switch(a){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}null!==I&&(I=this.removeEmptyProps(I));try{L=cE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),L=this.currentUrlTree.root}return dE(L,t,I,g??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=po(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_a,null,r)}navigate(t,r={skipLocationChange:!1}){return function Qk(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new xe(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Wk}:!1===r?{...qk}:r,po(t))return tE(this.currentUrlTree,t,i);const o=this.parseUrl(t);return tE(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,g;s?(a=s.resolve,l=s.reject,g=s.promise):g=new Promise((L,K)=>{a=L,l=K});const I=this.pendingTasks.add();return $E(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class zE{}let Zk=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Di(t=>t instanceof go),os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=vf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return dn(i).pipe(_i())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):R(null);const o=i.pipe(pt(s=>null===s?R(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?dn([o,this.loader.loadComponent(r)]).pipe(_i()):o})}}return e.\u0275fac=function(t){return new(t||e)(Ue(vn),Ue(oC),Ue(Qr),Ue(zE),Ue(rp))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const op=new He("");let GE=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof go?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wa&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function sm(){throw new Error("invalid")}()},e.\u0275prov=Ge({token:e,factory:e.\u0275fac}),e})();function Ai(e,n){return{\u0275kind:e,\u0275providers:n}}function WE(){const e=Fe(gi);return n=>{const t=e.get(rs);if(n!==t.components[0])return;const r=e.get(vn),i=e.get(qE);1===e.get(sp)&&r.initialNavigation(),e.get(QE,null,qe.Optional)?.setUpPreloading(),e.get(op,null,qe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const qE=new He("",{factory:()=>new Le}),sp=new He("",{providedIn:"root",factory:()=>1}),QE=new He("");function nB(e){return Ai(0,[{provide:QE,useExisting:Zk},{provide:zE,useExisting:e}])}const YE=new He("ROUTER_FORROOT_GUARD"),iB=[ih,{provide:Aa,useClass:Uh},vn,Na,{provide:fs,useFactory:function KE(e){return e.routerState.root},deps:[vn]},rp,[]];function oB(){return new mC("Router",vn)}let XE=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[iB,[],{provide:ms,multi:!0,useValue:t},{provide:YE,useFactory:lB,deps:[[vn,new yu,new vu]]},{provide:Wl,useValue:r||{}},r?.useHash?{provide:lo,useClass:B2}:{provide:lo,useClass:zC},{provide:op,useFactory:()=>{const e=Fe(JN),n=Fe(Vt),t=Fe(Wl),r=Fe(Kl),i=Fe(Aa);return t.scrollOffset&&e.setOffset(t.scrollOffset),new GE(i,r,e,n,t)}},r?.preloadingStrategy?nB(r.preloadingStrategy).\u0275providers:[],{provide:mC,multi:!0,useFactory:oB},r?.initialNavigation?cB(r):[],r?.bindToComponentInputs?Ai(8,[AE,{provide:Hl,useExisting:AE}]).\u0275providers:[],[{provide:ZE,useFactory:WE},{provide:Gf,multi:!0,useExisting:ZE}]]}}static forChild(t){return{ngModule:e,providers:[{provide:ms,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Ue(YE,8))},e.\u0275mod=Mi({type:e}),e.\u0275inj=si({}),e})();function lB(e){return"guarded"}function cB(e){return["disabled"===e.initialNavigation?Ai(3,[{provide:Of,multi:!0,useFactory:()=>{const n=Fe(vn);return()=>{n.setUpLocationChangeListener()}}},{provide:sp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ai(2,[{provide:sp,useValue:0},{provide:Of,multi:!0,deps:[gi],useFactory:n=>{const t=n.get(P2,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(vn),o=n.get(qE);$E(i,()=>{r(!0)}),n.get(Kl).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const ZE=new He("");let Or=(()=>{class e{constructor(t){this.httpClient=t,this.baseURL="https://ap-southeast-2.aws.data.mongodb-api.com/app/base-camp-ttgwf/endpoint/"}getEncryptionKey(){return new Promise((t,r)=>{this.httpClient.get(this.baseURL+"encryption/pubKey").subscribe(i=>{t(i)})})}validateDetails(t,r){return new Promise((i,o)=>{this.httpClient.post(this.baseURL+"userData/logIn",{email:t.toString(),pwd:r}).subscribe(s=>{let a={success:!1,payload:""};s.worked&&(a.success=!0,a.payload=s.payload.Data,i(a)),i(a)})})}createAccount(t,r){return console.log(r),new Promise((i,o)=>{this.httpClient.post(this.baseURL+"userData/create",{email:t.toString(),pwd:r,app:"gabeogatchi"}).subscribe(s=>{i({success:s.success,payload:s.payload})})})}getData(t,r,i){return new Promise((o,s)=>{this.httpClient.post(this.baseURL+"userData/read",{email:t,pwdToken:r,key:i}).subscribe(a=>{0==Object.keys(a.payload).length&&(a.payload=null),a.success?o(a.payload):s(a.payload)})})}setData(t,r,i,o){return new Promise((s,a)=>{this.httpClient.post(this.baseURL+"userData/set",{email:t,pwdToken:r,valKey:i,val:o}).subscribe(l=>{s(l.success)})})}}return e.\u0275fac=function(t){return new(t||e)(Ue(F1))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Lr=(()=>{class e{constructor(){this.email="",this.userToken=""}isSignedIn(){let t=localStorage.getItem("GabeoGatchiUserToken");if(t){let r=localStorage.getItem("GabeoGatchiUserEmail");return!!r&&(this.email=r,this.userToken=t,!0)}return!1}setUserDetails(t,r){this.userToken=r,this.email=t,localStorage.setItem("GabeoGatchiUserEmail",t),localStorage.setItem("GabeoGatchiUserToken",r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ys=(()=>{class e{updateStatus(){let t=(new Date).getTime(),r=t-this.lastUpdate;this.age=(t-this.timeOfCreation)/(5*this.kStatusDepletionTime/this.depletionMultiplier);let i=r/(this.kStatusDepletionTime/this.depletionMultiplier);this.cleanliness=this.cleanliness-i*this.cleanlinessModifier<=0?0:this.cleanliness-i*this.cleanlinessModifier,this.hunger=this.hunger-i*this.hungerModifier<=0?0:this.hunger-i*this.hungerModifier,this.happiness=this.happiness-i*this.happinessModifier<=0?0:this.happiness-i*this.happinessModifier,this.healthiness=this.kBaseHealth+(5*this.cleanliness+5*this.hunger+this.happiness)/11-this.age,this.healthiness<=0?(this.healthiness=0,this.happiness=0,this.hunger=0,this.cleanliness=0,this.living&&(this.living=!1,this.savePet())):this.healthiness>=100&&(this.healthiness=100),this.lastUpdate=t,t-this.lastSave>=15e3&&(this.lastSave=t,this.savePet())}feed(t){this.hunger+=this.hungerModifier*t,this.hunger>100&&(this.hunger=100),this.updateStatus()}clean(t){this.cleanliness+=Math.floor(Math.random()*t),this.cleanliness>100&&(this.cleanliness=100),this.updateStatus()}increaseHappiness(t){this.happiness+=t,this.happiness>100&&(this.happiness=100),this.updateStatus()}getStatus(){return this.updateStatus(),{happiness:this.happiness,cleanliness:this.cleanliness,hunger:this.hunger,healthiness:this.healthiness}}createPet(t,r){this.name=t,this.happiness=100,this.cleanliness=100,this.hunger=100,this.timeOfCreation=(new Date).getTime(),this.petNumber=2,this.updateStatus(),this.living=!0,this.savePet()}savePet(){this.connections.setData(this.storage.email,this.storage.userToken,"petStatus",JSON.stringify({name:this.name,number:this.petNumber,timeOfCreation:this.timeOfCreation,lastUpdate:this.lastUpdate,happiness:this.happiness,cleanliness:this.cleanliness,hunger:this.hunger,healthiness:this.healthiness})).then(r=>{})}constructor(t,r){this.connections=t,this.storage=r,this.kStatusDepletionTime=24e5,this.kStatusMax=100,this.kBaseHealth=0,this.depletionMultiplier=100,this.petNumber=1,this.living=!1,this.happiness=100,this.cleanliness=100,this.hunger=100,this.healthiness=100,this.happinessModifier=4,this.cleanlinessModifier=1,this.hungerModifier=1.5,this.age=0,this.lastUpdate=(new Date).getTime(),this.lastSave=(new Date).getTime(),this.connections.getData(this.storage.email,this.storage.userToken,"petStatus").then(i=>{if(i){let o=JSON.parse(i);this.name=o.name,this.petNumber=o.number,this.timeOfCreation=o.timeOfCreation,this.lastUpdate=o.lastUpdate,this.happiness=o.happiness,this.cleanliness=o.cleanliness,this.hunger=o.hunger,this.healthiness=o.healthiness}else this.living=!1;this.updateStatus()}),this.living=this.healthiness>0}}return e.\u0275fac=function(t){return new(t||e)(Ue(Or),Ue(Lr))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Oa=function(e){return{"bar-elem-active":e}};let La=(()=>{class e{constructor(t){this.router=t}setPage(t){this.currentPage=t,setTimeout(()=>{this.router.navigateByUrl("home"==this.currentPage?"/":this.currentPage)},250)}}return e.\u0275fac=function(t){return new(t||e)(Ne(vn))},e.\u0275cmp=Yt({type:e,selectors:[["app-bottom-bar"]],inputs:{currentPage:"currentPage"},decls:12,vars:15,consts:[[1,"component-container"],[1,"bar"],["id","battlepass",1,"bar-elem",3,"ngClass","click"],["src","https://www.svgrepo.com/show/390356/badge-reward-medal.svg","alt","",1,"bar-img"],["src","https://www.svgrepo.com/show/390191/store-shop.svg","alt","",1,"bar-img"],["id","home",1,"bar-elem",3,"ngClass","click"],["src","https://www.svgrepo.com/show/500894/home.svg","alt","",1,"bar-img"],["id","games",1,"bar-elem",3,"ngClass","click"],["src","https://www.svgrepo.com/show/385162/joystick-videogame-controller.svg","alt","",1,"bar-img"],["src","https://www.svgrepo.com/show/485909/suitcase.svg","alt","",1,"bar-img"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"div",2),yt("click",function(){return r.setPage("battlepass")}),ct(3,"img",3),fe(),ce(4,"div",2),yt("click",function(){return r.setPage("store")}),ct(5,"img",4),fe(),ce(6,"div",5),yt("click",function(){return r.setPage("home")}),ct(7,"img",6),fe(),ce(8,"div",7),yt("click",function(){return r.setPage("games")}),ct(9,"img",8),fe(),ce(10,"div",7),yt("click",function(){return r.setPage("inventory")}),ct(11,"img",9),fe()()()),2&t&&(Te(2),Ve("ngClass",Sr(5,Oa,"battlepass"==r.currentPage)),Te(2),Ve("ngClass",Sr(7,Oa,"store"==r.currentPage)),Te(2),Ve("ngClass",Sr(9,Oa,"home"==r.currentPage)),Te(2),Ve("ngClass",Sr(11,Oa,"games"==r.currentPage)),Te(2),Ve("ngClass",Sr(13,Oa,"inventory"==r.currentPage)))},dependencies:[pa],styles:[".component-container[_ngcontent-%COMP%]{width:100vw;height:15vh;padding-bottom:15px;background-color:var(--secondary-color)}.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.bar-elem[_ngcontent-%COMP%]{margin-top:10px;height:10vh;aspect-ratio:1/1;border:10px var(--attention-color) solid;border-radius:100%;transition:all .25s ease;cursor:pointer;display:grid;place-items:center}.bar-elem-active[_ngcontent-%COMP%]{transform:scale(1.5);margin-top:-20px;background:var(--attention-color)}.bar-img[_ngcontent-%COMP%]{aspect-ratio:1/1;width:65%;filter:invert(100%) sepia(83%) saturate(697%) hue-rotate(294deg) brightness(125%) contrast(105%);height:auto}.bar-text[_ngcontent-%COMP%]{font-size:1rem}"]}),e})();const ql=function(e){return{width:e}};let fB=(()=>{class e{constructor(t){this.pet=t,this.happiness=100,this.cleanliness=100,this.hunger=100,this.healthiness=100,this.barUpdate=setInterval(()=>this.updateStatus(),1e3),this.updateStatus()}updateStatus(){let t=this.pet.getStatus();this.happiness=t.happiness,this.cleanliness=t.cleanliness,this.hunger=t.hunger,this.healthiness=t.healthiness}}return e.\u0275fac=function(t){return new(t||e)(Ne(ys))},e.\u0275cmp=Yt({type:e,selectors:[["app-pet-status"]],decls:23,vars:12,consts:[[1,"displayed-status-container"],[1,"displayed-status-bar-border"],[1,"displayed-status-bar-progress",3,"ngStyle"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"h1"),Me(2,"Status"),fe(),ce(3,"div")(4,"p"),Me(5,"Happiness"),fe(),ce(6,"div",1),ct(7,"div",2),fe()(),ce(8,"div")(9,"p"),Me(10,"Cleanliness"),fe(),ce(11,"div",1),ct(12,"div",2),fe()(),ce(13,"div")(14,"p"),Me(15,"Hunger"),fe(),ce(16,"div",1),ct(17,"div",2),fe()(),ce(18,"div")(19,"p"),Me(20,"Healthiness"),fe(),ce(21,"div",1),ct(22,"div",2),fe()()()),2&t&&(Te(7),Ve("ngStyle",Sr(4,ql,r.happiness+"%")),Te(5),Ve("ngStyle",Sr(6,ql,r.cleanliness+"%")),Te(5),Ve("ngStyle",Sr(8,ql,r.hunger+"%")),Te(5),Ve("ngStyle",Sr(10,ql,r.healthiness+"%")))},dependencies:[s1],styles:[".displayed-status-container[_ngcontent-%COMP%]{aspect-ratio:3/4;height:100%;place-items:left}.displayed-status-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0 0 0 5%}.displayed-status-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem;text-align:center;margin-bottom:0}.displayed-status-bar-border[_ngcontent-%COMP%]{border-radius:100px;margin:3%;width:90%;aspect-ratio:19/2;display:grid;place-items:left;border:4px solid var(--attention-color);background-color:var(--elem-bg)}.displayed-status-bar-progress[_ngcontent-%COMP%]{border-radius:100px;height:100%;background-color:var(--neutral-color);transition:all .25s ease-out}"]}),e})(),hB=(()=>{class e{constructor(t){this.pet=t,this.petImg=""}ngOnInit(){this.petNumber=this.pet.petNumber,this.getPetImage(),setInterval(()=>{this.getPetImage()},1500)}getPetImage(){let t=this.pet.getStatus();this.pet.living?(this.petImg=this.pet.petNumber+this.expression(t),typeof this.petImg>"u"&&(this.petImg="2-happy")):this.petImg="dead"}expression(t){let r;return this.petNumber=this.pet.petNumber,r=t.happiness>=75?"happy":t.happiness>=45?"neutral":"sad",t.healthiness<35&&(r="ill"),"-"+r}}return e.\u0275fac=function(t){return new(t||e)(Ne(ys))},e.\u0275cmp=Yt({type:e,selectors:[["app-pet-display"]],decls:4,vars:2,consts:[[1,"pet-container"],[1,"pet-name"],["id","sprite",3,"src"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"p",1),Me(2),fe(),ct(3,"img",2),fe()),2&t&&(Te(2),Xt(r.pet.name),Te(1),Fi("src","https://github.com/sillylittlerobots/Gabeogatchi/blob/main/gabeogatchi/src/assets/sprites/pet/"+r.petImg+".png?raw=true",to))},styles:[".pet-container[_ngcontent-%COMP%]{padding:0;display:grid;align-items:top;margin:0;border-radius:16px;align-items:center;justify-content:center;cursor:pointer}.pet-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-left:0;padding:0;font-size:1.5rem}#sprite[_ngcontent-%COMP%]{aspect-ratio:4/3;width:80%;margin-left:10%;background-color:var(--elem-bg);border-radius:16px;min-width:150px}#sprite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}"]}),e})();var et=(()=>((et=et||{})[et.idle=0]="idle",et[et.loading=1]="loading",et[et.error=2]="error",et[et.success=3]="success",et))();let pB=(()=>{class e{feed(){this.removeItem("Food",this.pet)}pat(){this.pet.increaseHappiness(5)}clean(){this.removeItem("Cleaning",this.pet)}removeItem(t,r){const i=this.ls.email,o=this.ls.userToken;this.connections.getData(i,o,"items").then(s=>{let a=JSON.parse(s),l=!1;for(let g of a)if(g.title.includes(t)){l=!0,"Food"==t?r.feed(parseFloat(g.rarity)*this.kValueMultiplier):"Cleaning"==t&&r.clean(parseFloat(g.rarity)*this.kValueMultiplier),a.splice(a.indexOf(g),1),this.connections.setData(i,o,"items",JSON.stringify(a)).then(I=>{});break}l||("Food"==t?this.feedText="You have no food":"Cleaning"==t&&(this.cleanText="You have no cleaning products"))})}constructor(t,r,i){this.pet=t,this.connections=r,this.ls=i,this.feedText="Feed",this.patText="Pet",this.cleanText="Clean",this.pageState=et,this.kValueMultiplier=10}}return e.\u0275fac=function(t){return new(t||e)(Ne(ys),Ne(Or),Ne(Lr))},e.\u0275cmp=Yt({type:e,selectors:[["app-pet-buttons"]],decls:10,vars:3,consts:[[1,"button-container"],[1,"button-clickable",3,"click"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1),yt("click",function(){return r.feed()}),ce(2,"p"),Me(3),fe()(),ce(4,"div",1),yt("click",function(){return r.pat()}),ce(5,"p"),Me(6),fe()(),ce(7,"div",1),yt("click",function(){return r.clean()}),ce(8,"p"),Me(9),fe()()()),2&t&&(Te(3),Xt(r.feedText),Te(3),Xt(r.patText),Te(3),Xt(r.cleanText))},styles:[".button-container[_ngcontent-%COMP%]{aspect-ratio:3/4;height:100%;place-items:left}.button-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0 0 0 5%}.button-clickable[_ngcontent-%COMP%]{aspect-ratio:5/2;width:72%;background-color:var(--neutral-color);display:flex;margin:9% 12%;border:5px solid var(--attention-color);border-radius:16px;align-items:center;justify-content:center;cursor:pointer}.button-clickable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:0;padding:0;font-size:1.5rem}"]}),e})(),ap=(()=>{class e{constructor(){this.value=""}updateValue(t){this.value=t.target.value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Yt({type:e,selectors:[["app-text-entry"]],inputs:{inputType:"inputType"},outputs:{value:"value"},decls:2,vars:1,consts:[[1,"component-container"],[1,"entry",3,"type","keyup"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"input",1),yt("keyup",function(o){return r.updateValue(o)}),fe()()),2&t&&(Te(1),Fi("type",r.inputType||"text"))},styles:[".entry[_ngcontent-%COMP%]{width:100%;height:100%;font-size:1.5rem;border-radius:15px;border:2px #fff solid;background:linear-gradient(to right,var(--attention-color) 49%,rgba(255,255,255,0) 50%);background-size:200%;background-position:100% 0%;transition:all .5s ease}.entry[_ngcontent-%COMP%]:focus{background-position:0% 0%}"]}),e})(),Ql=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Yt({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"component-container","centered-parent"],[1,"spinner"]],template:function(t,r){1&t&&(ce(0,"div",0),ct(1,"div",1),fe())},styles:[".spinner[_ngcontent-%COMP%]{height:80%;aspect-ratio:1/1;border-radius:100%;border:4px #fff solid;border-top:4px rgba(255,255,255,0) solid;animation:_ngcontent-%COMP%_spin 1.5s ease infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();function gB(e,n){if(1&e&&(ce(0,"p",3),Me(1),fe()),2&e){const t=At();Te(1),Xt(t.buttonText)}}function mB(e,n){1&e&&ct(0,"app-loading",3)}let mo=(()=>{class e{constructor(){this.possibleStates=et,this.onClick=new Fn}getClick(t){this.onClick.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Yt({type:e,selectors:[["app-submit-button"]],inputs:{buttonText:"buttonText",buttonState:"buttonState"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"component-container"],[1,"btn",3,"click"],["class","btn-elem",4,"ngIf"],[1,"btn-elem"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"button",1),yt("click",function(o){return r.getClick(o)}),ht(2,gB,2,1,"p",2),ht(3,mB,1,0,"app-loading",2),fe()()),2&t&&(Te(2),Ve("ngIf",r.buttonState==r.possibleStates.idle||r.buttonState==r.possibleStates.error),Te(1),Ve("ngIf",r.buttonState==r.possibleStates.loading))},dependencies:[Si,Ql],styles:[".btn[_ngcontent-%COMP%]{width:100%;height:100%;background:none;border:2px #fff solid;border-radius:15px;font-size:1.25rem;cursor:pointer;background:linear-gradient(to right,var(--attention-color) 49%,rgba(255,255,255,0) 50%);background-size:200%;background-position:100% 0%;transition:all .5s ease}.btn-elem[_ngcontent-%COMP%]{margin:0}.btn[_ngcontent-%COMP%]:hover{background-position:0% 0%}"]}),e})(),yB=(()=>{class e{getPetImage(t){return t<=2?t+"-happy":"locked"}submitPet(t){this.pet.createPet(t,1)}constructor(t){this.pet=t,this.pageState=et,this.currentPageState=et.loading}}return e.\u0275fac=function(t){return new(t||e)(Ne(ys))},e.\u0275cmp=Yt({type:e,selectors:[["app-create-pet"]],decls:12,vars:2,consts:[[1,"status-container"],[1,"status-window"],[1,"status-content"],[1,"centered-text","status-text"],[1,"status-text"],["petName",""],[1,"centered","submit-container"],[3,"buttonText","buttonState","click"]],template:function(t,r){if(1&t){const i=Nn();ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),Me(4,"Create Pet"),fe(),ce(5,"div",4)(6,"p"),Me(7,"Name"),fe(),ct(8,"app-text-entry",null,5),fe(),ce(10,"div",6)(11,"app-submit-button",7),yt("click",function(){En(i);const s=Zr(9);return Sn(r.submitPet(s.value))}),fe()()()()()}2&t&&(Te(11),Ve("buttonText","Create")("buttonState",r.pageState.idle))},dependencies:[ap,mo],styles:["pets-container[_ngcontent-%COMP%]{width:80%;height:20%;background-color:red;border-color:red;display:flex;flex-direction:row}pets-sprite[_ngcontent-%COMP%]{width:10%;aspect-ratio:3/4 img;aspect-ratio-object-fit:scale-down}.row[_ngcontent-%COMP%]{display:flex}.column[_ngcontent-%COMP%]{flex:33.33%;padding:5px}"]}),e})();function vB(e,n){1&e&&(ce(0,"div"),ct(1,"app-create-pet"),fe())}let CB=(()=>{class e{constructor(t,r,i){this.connections=t,this.storage=r,this.pet=i}ngOnInit(){this.connections.setData(this.storage.email,this.storage.userToken,"lastLogin",(new Date).getTime().toString()).then(t=>{})}}return e.\u0275fac=function(t){return new(t||e)(Ne(Or),Ne(Lr),Ne(ys))},e.\u0275cmp=Yt({type:e,selectors:[["app-home"]],decls:11,vars:1,consts:[[4,"ngIf"],[1,"component-container"],[1,"room-container"],[1,"pet-status-container"],[1,"bar-container"],["currentPage","home"]],template:function(t,r){1&t&&(ht(0,vB,2,0,"div",0),ce(1,"div",1)(2,"div",2)(3,"div",3),ct(4,"app-pet-status"),fe(),ce(5,"div",3),ct(6,"app-pet-display"),fe(),ce(7,"div",3),ct(8,"app-pet-buttons"),fe()(),ce(9,"div",4),ct(10,"app-bottom-bar",5),fe()()),2&t&&Ve("ngIf",!r.pet.living)},dependencies:[Si,La,fB,hB,pB,yB],styles:[".room-container[_ngcontent-%COMP%]{width:100%;margin:auto;height:100%;display:flex;flex-direction:row;place-items:center;justify-content:space-evenly}.pet-status-container[_ngcontent-%COMP%]{aspect-ratio:3/4;height:60%;background-color:var(--secondary-color);display:grid;align-items:center;border-radius:16px}"]}),e})();var EB=Y(592);let JE=(()=>{class e{constructor(t,r){this.connections=t,this.storage=r}validateLogin(t,r){return new Promise((i,o)=>{this.connections.getEncryptionKey().then(s=>{const a=this.encryptText(r,s);this.connections.validateDetails(t,a).then(l=>{l.success?(console.log(l),this.storage.setUserDetails(t,l.payload),i(!0)):i(!1)})})})}createAccount(t,r){return new Promise((i,o)=>{this.connections.getEncryptionKey().then(s=>{const a=this.encryptText(r,s);this.connections.createAccount(t,a).then(l=>{if(l.success){const g=l.payload;this.storage.setUserDetails(t,g),this.connections.setData(t,g,"funds","200").then(I=>{this.connections.setData(t,g,"battlePassScore","20").then(L=>{this.connections.setData(t,g,"items","[]").then(K=>{this.connections.setData(t,g,"previousGachaPulls","[]").then(X=>{i(!0)})})})})}else i(!1)})})})}encryptText(t,r){const i=EB.pki.publicKeyFromPem(r);return window.btoa(i.encrypt(t.toString()))}}return e.\u0275fac=function(t){return new(t||e)(Ue(Or),Ue(Lr))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const SB=function(e){return{hidden:e}};let DB=(()=>{class e{constructor(t,r){this.auth=t,this.router=r,this.pageState=et,this.formState=et.idle}validateAuth(t,r,i){i&&i.preventDefault(),this.formState=et.loading,this.auth.validateLogin(t,r).then(o=>{o?(this.formState=et.idle,this.router.navigateByUrl("/")):this.formState=et.error})}}return e.\u0275fac=function(t){return new(t||e)(Ne(JE),Ne(vn))},e.\u0275cmp=Yt({type:e,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"component-container"],[1,"centered","form-container"],[1,"centered-text"],[1,"centered","form-wrapper",3,"submit"],[1,"entry-container"],["userNameEntry",""],["inputType","password"],["passwordEntry",""],[1,"centered","submit-container"],["buttonText","Login",3,"buttonState","onClick"],[1,"centered","error-container",3,"ngClass"],[1,"error-text"]],template:function(t,r){if(1&t){const i=Nn();ce(0,"div",0)(1,"div",1)(2,"h1",2),Me(3,"Welcome! Please login"),fe(),ce(4,"form",3),yt("submit",function(s){En(i);const a=Zr(9),l=Zr(14);return Sn(r.validateAuth(a.value,l.value,s))}),ce(5,"p"),Me(6,"Email"),fe(),ce(7,"div",4),ct(8,"app-text-entry",null,5),fe(),ce(10,"p"),Me(11,"Password"),fe(),ce(12,"div",4),ct(13,"app-text-entry",6,7),fe(),ce(15,"div",8)(16,"app-submit-button",9),yt("onClick",function(s){En(i);const a=Zr(9),l=Zr(14);return Sn(r.validateAuth(a.value,l.value,s))}),fe()()(),ce(17,"div",10)(18,"h3",11),Me(19,"Oopsie!"),fe(),ce(20,"p",11),Me(21,"Those details aren't correct"),fe()()()()}2&t&&(Te(16),Ve("buttonState",r.formState),Te(1),Ve("ngClass",Sr(2,SB,r.formState!=r.pageState.error)))},dependencies:[pa,ap,mo],styles:[".form-container[_ngcontent-%COMP%]{width:85%;height:-moz-fit-content;height:fit-content;max-width:850px;margin-top:2%;background-color:var(--elem-bg);padding:15px}.form-wrapper[_ngcontent-%COMP%]{width:85%;display:grid;grid-template-columns:1fr 1fr;place-items:center}.entry-container[_ngcontent-%COMP%]{width:100%;height:50%}.submit-container[_ngcontent-%COMP%]{width:50%;height:50px;margin:auto;grid-column:1/span 2}.error-container[_ngcontent-%COMP%]{width:75%;margin:15px auto auto;background-color:var(--attention-color);transition:opacity .5s ease}.error-text[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:0}"]}),e})();function bB(e,n){if(1&e){const t=Nn();ce(0,"div",9),yt("click",function(){const o=En(t).$implicit;return Sn(At().buyItem(o))}),ce(1,"div",10),ct(2,"img",11),fe(),ce(3,"div",12)(4,"h2"),Me(5),ce(6,"strong"),Me(7),fe()(),ce(8,"p"),Me(9),fe()()()}if(2&e){const t=n.$implicit;Te(2),Fi("src",t.imgLink,to),Te(3),rr("",t.title," - "),Te(2),Xt(t.cost),Te(2),Xt(t.subtitle)}}function AB(e,n){1&e&&(ce(0,"div",16)(1,"h1",17),Me(2,"Loading..."),fe(),ce(3,"div",18),ct(4,"app-loading"),fe()())}function IB(e,n){1&e&&(ce(0,"h1",17),Me(1,"Ooops"),fe())}function TB(e,n){1&e&&(ce(0,"h1",17),Me(1,"Hooray"),fe())}function xB(e,n){if(1&e){const t=Nn();ce(0,"div",16),ht(1,IB,2,0,"h1",19),ht(2,TB,2,0,"h1",19),ce(3,"p",17),Me(4),fe(),ce(5,"div",20)(6,"app-submit-button",21),yt("onClick",function(){En(t);const i=At(2);return Sn(i.currentPageState=i.pageState.idle)}),fe()()()}if(2&e){const t=At(2);Te(1),Ve("ngIf",t.currentPageState==t.pageState.error),Te(1),Ve("ngIf",t.currentPageState==t.pageState.success),Te(2),Xt(t.pageText),Te(2),Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function _B(e,n){if(1&e&&(ce(0,"div",13)(1,"div",14),ht(2,AB,5,0,"div",15),ht(3,xB,7,5,"div",15),fe()()),2&e){const t=At();Te(2),Ve("ngIf",t.currentPageState==t.pageState.loading),Te(1),Ve("ngIf",t.currentPageState==t.pageState.error||t.currentPageState==t.pageState.success)}}let wB=(()=>{class e{constructor(t,r){this.connections=t,this.storage=r,this.storeItems=[],this.pageState=et,this.currentPageState=et.loading,this.pageText="Idle"}ngOnInit(){this.connections.getData(this.storage.email,this.storage.userToken,"funds").then(t=>{t&&(this.funds=parseInt(t)),this.currentPageState=et.idle}),this.storeItems=[{id:"b1",title:"Gacha Pull",subtitle:"Gambling is profitable in the long term",imgLink:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Gachapon.jpg/220px-Gachapon.jpg",cost:10,owned:!1,rarity:"1"},{id:"b2",title:"Premium Food",subtitle:"Its very Tasty",imgLink:"https://www.sbs.com.au/food/sites/sbs.com.au.food/files/styles/full/public/chineseroastedpork-01.jpg?itok=yo9kJSGq",cost:40,owned:!1,rarity:"4"},{id:"b3",title:"Standard Food",subtitle:"Its Alright",imgLink:"https://images.happycow.net/venues/1024/18/68/hcmp186858_764524.jpeg",cost:30,owned:!1,rarity:"3"},{id:"b3",title:"Bad Food",subtitle:"Its only value is its nutrients",imgLink:"https://media.cnn.com/api/v1/images/stellar/prod/190321132023-fishfingers-1.jpg?q=w_5333,h_3000,x_0,y_0,c_fill",cost:10,owned:!1,rarity:"1"},{id:"b3",title:"Cleaning Product",subtitle:"Gets rid of the gunk",imgLink:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJVN-BjIontLWtp9N-vEV0WvdDtYKY5HMnbQ&usqp=CAU",cost:10,owned:!1,rarity:"1"}]}buyItem(t){if(t.cost>this.funds)return this.currentPageState=et.error,void(this.pageText="You can't afford this item :(");this.currentPageState=et.loading,this.funds=this.funds-t.cost,this.connections.getData(this.storage.email,this.storage.userToken,"items").then(r=>{if(console.log(r),r){let i=JSON.parse(r);i.push(t),this.connections.setData(this.storage.email,this.storage.userToken,"items",JSON.stringify(i)).then(()=>{console.log(i),this.connections.setData(this.storage.email,this.storage.userToken,"funds",JSON.stringify(this.funds)).then(()=>{this.currentPageState=et.success,this.pageText="Purchase Successful, You can find this item in your inventory"})})}else this.currentPageState=et.error,this.pageText=r})}}return e.\u0275fac=function(t){return new(t||e)(Ne(Or),Ne(Lr))},e.\u0275cmp=Yt({type:e,selectors:[["app-store"]],decls:11,vars:3,consts:[[1,"component-container"],[1,"window-container","store-container"],[1,"centered","centered-text"],[1,"centered","centered-text",2,"margin-bottom","15px"],[1,"store-list"],["class","store-item",3,"click",4,"ngFor","ngForOf"],[1,"bar-container"],["currentPage","store"],["class","status-container",4,"ngIf"],[1,"store-item",3,"click"],[1,"store-item-thumbnail","store-item-thumbnail-left"],["alt","",1,"store-item-thumbnail-img",3,"src"],[1,"store-item-text"],[1,"status-container"],[1,"status-window"],["class","status-content",4,"ngIf"],[1,"status-content"],[1,"centered-text"],[1,"status-loading"],["class","centered-text",4,"ngIf"],[1,"status-button"],[3,"buttonText","buttonState","onClick"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Me(3,"Store"),fe(),ce(4,"h2",3),Me(5),fe(),ce(6,"div",4),ht(7,bB,10,4,"div",5),fe()(),ce(8,"div",6),ct(9,"app-bottom-bar",7),fe()(),ht(10,_B,4,2,"div",8)),2&t&&(Te(5),rr("Your Funds: ",r.funds,""),Te(2),Ve("ngForOf",r.storeItems),Te(3),Ve("ngIf",r.currentPageState!=r.pageState.idle))},dependencies:[ga,Si,mo,Ql,La],styles:[".store-item[_ngcontent-%COMP%]{width:80%;height:-moz-fit-content;height:fit-content;border-radius:15px;margin:auto auto 15px;border:10px var(--attention-color) solid;background-color:var(--secondary-color);display:flex;flex-direction:row;gap:15px;cursor:pointer}.store-item-thumbnail[_ngcontent-%COMP%]{max-height:200px;width:50%;background:var(--neutral-color);overflow:hidden}.store-item-thumbnail-img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;overflow:hidden}.store-item-thumbnail-left[_ngcontent-%COMP%]{border-radius:0 30px 30px 0}.store-item-thumbnail-right[_ngcontent-%COMP%]{border-radius:30px 0 0 30px}.store-item-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{background-color:#0000004d;padding:5px 15px;border-radius:15px}.store-item-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}"]}),e})();function NB(e,n){if(1&e&&(ce(0,"p",15),Me(1),fe()),2&e){const t=At().$implicit;Te(1),Xt(t.title)}}function RB(e,n){if(1&e&&(ce(0,"p",16),Me(1),fe()),2&e){const t=At().$implicit;Te(1),rr(" ",t.cost," points")}}function MB(e,n){if(1&e&&(ce(0,"div",17)(1,"p",15),Me(2),fe(),ce(3,"p",16),Me(4),fe()()),2&e){const t=At().$implicit;Te(2),Xt(t.title),Te(2),rr("",t.cost," points")}}const eS=function(e,n){return{"battlepass-item-premium":e,"battlepass-item-completed":n}};function PB(e,n){if(1&e){const t=Nn();ce(0,"div",11),yt("click",function(){const o=En(t).$implicit;return Sn(At().verifyClaim(o))}),ht(1,NB,2,1,"p",12),ht(2,RB,2,1,"p",13),ht(3,MB,5,2,"div",14),fe()}if(2&e){const t=n.$implicit;Ve("ngClass",Ef(4,eS,t.isPremium,t.owned)),Te(1),Ve("ngIf",!t.isPremium),Te(1),Ve("ngIf",!t.isPremium),Te(1),Ve("ngIf",t.isPremium)}}function kB(e,n){if(1&e&&(ce(0,"p",15),Me(1),fe()),2&e){const t=At().$implicit;Te(1),Xt(t.title)}}function BB(e,n){if(1&e&&(ce(0,"p",16),Me(1),fe()),2&e){const t=At().$implicit;Te(1),rr(" ",t.cost," points")}}function OB(e,n){if(1&e&&(ce(0,"div",17)(1,"p",15),Me(2),fe(),ce(3,"p",16),Me(4),fe()()),2&e){const t=At().$implicit;Te(2),Xt(t.title),Te(2),rr("",t.cost," points")}}function LB(e,n){if(1&e){const t=Nn();ce(0,"div",11),yt("click",function(){const o=En(t).$implicit;return Sn(At().verifyClaim(o))}),ht(1,kB,2,1,"p",12),ht(2,BB,2,1,"p",13),ht(3,OB,5,2,"div",14),fe()}if(2&e){const t=n.$implicit;Ve("ngClass",Ef(4,eS,t.isPremium,t.owned)),Te(1),Ve("ngIf",!t.isPremium),Te(1),Ve("ngIf",!t.isPremium),Te(1),Ve("ngIf",t.isPremium)}}function FB(e,n){1&e&&(ce(0,"div",21)(1,"h1",5),Me(2,"Loading..."),fe(),ce(3,"div",22),ct(4,"app-loading"),fe()())}function UB(e,n){1&e&&(ce(0,"h1",5),Me(1,"Ooops"),fe())}function VB(e,n){1&e&&(ce(0,"h1",5),Me(1,"Hooray"),fe())}function HB(e,n){if(1&e){const t=Nn();ce(0,"div",21),ht(1,UB,2,0,"h1",23),ht(2,VB,2,0,"h1",23),ce(3,"p",5),Me(4),fe(),ce(5,"div",24)(6,"app-submit-button",25),yt("onClick",function(){En(t);const i=At(2);return Sn(i.currentPageState=i.pageState.idle)}),fe()()()}if(2&e){const t=At(2);Te(1),Ve("ngIf",t.currentPageState==t.pageState.error),Te(1),Ve("ngIf",t.currentPageState==t.pageState.success),Te(2),Xt(t.pageText),Te(2),Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function jB(e,n){if(1&e&&(ce(0,"div",18)(1,"div",19),ht(2,FB,5,0,"div",20),ht(3,HB,7,5,"div",20),fe()()),2&e){const t=At();Te(2),Ve("ngIf",t.currentPageState==t.pageState.loading),Te(1),Ve("ngIf",t.currentPageState==t.pageState.error||t.currentPageState==t.pageState.success)}}let $B=(()=>{class e{constructor(t,r){this.connections=t,this.storage=r,this.pageState=et,this.freeItems=[],this.paidItems=[],this.currentPageState=et.loading,this.pageText="Idle",this.points=0}ngOnInit(){this.freeItems=[{id:"a1",title:"Dog Toy",subtitle:"How Fun!",imgLink:"https://kmartau.mo.cloudinary.net/04bb6faa-349e-4c47-89f3-d5902a23f66f.jpg?tx=w_600,h_600",cost:10,owned:!1},{id:"a2",title:"Bed",subtitle:"Time for bed",imgLink:"https://www.fancyhomes.com.au/wp/wp-content/uploads/2019/02/TANIKA-7.jpg",cost:20,owned:!1,isPremium:!0},{id:"a3",title:"Play Pit",subtitle:"Weewoo",imgLink:"https://davesonlinedeals.com.au/wp-content/uploads/2019/03/plum-large-octagonal-sandpit.jpg",cost:30,owned:!1}],this.paidItems=[{id:"b1",title:"Gacha Pull",subtitle:"Gambling is profitable in the long term",imgLink:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Gachapon.jpg/220px-Gachapon.jpg",cost:10,owned:!1},{id:"b2",title:"Robot Toy",subtitle:"He is in the rain",imgLink:"https://pbs.twimg.com/media/EFTDraSU8AA98Dn.jpg:large",cost:20,owned:!1,isPremium:!0},{id:"b3",title:"Little Guy",subtitle:"What a silly guy",imgLink:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMHBhQQERIWFRITFxoXGBYVGBcXGRgYGBkaGBkcFRUYHCggHRsmHRcdIjUhJS0rLi4yGSA1ODMvNyo5LisBCgoKDg0OGhAQGysmHyUyLy83LzUyLS8tNS0rKy8vLS0tNjgtLS8tLSstLS0tLS02NS0tLi0vLTUtLTUtLS0rLf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAABQYEBwECAwj/xAA9EAACAQIFAQUECAQFBQAAAAAAAQIDEQQFEiExQQYTUWGBByJxsRQVMkJSkaHBI3KS0WKC4fDxk6KywtL/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAgMEAQUG/8QAKBEBAAICAQMDAwUBAAAAAAAAAAECAxEhBBIxEzJBInGhI1FhwfAz/9oADAMBAAIRAxEAPwDeIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABw3pV3skByCpZ17Rsvymbi63ezXMaC7zjo53UE/K55ZF7S8DnOJVLVOjOTtFV4xipPolOMpRu+ibVzupNrkDzr1o4ek5zkoxXMpNJL4tnocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKV2t9ouGyHFRpQkqtWNVRrU4ptwhpbk1L7OtPT7rd9y6mpfbnS1YzBe7H3lWTlbfburXfNknJ2O1jcuSq2e+0LG5zXbVaWHpP7NKg7St/iqK0m/O6/lKxi8dWxS01atWa8Kk5z/wDJnmk4bq9rX2503tdnFSalH7bfx/5ZbpDbzDV0SOVZFic3f8CjOa/Fa0P65Wj6XJ2r7O8XQw7qTqYaEYq8nOrKKiurlLRZL1IzescTKcUtPiEdlHaGUM0oTxs6+IoUZRl3TqyavDeDUZvS7NJ22va17H0L2fzmnn+VQxNHV3c9Vta0v3ZOLuvimfO+C7Pxxlfu447Buo7qEY1ZNzn92MW4KLbe3PU3x2AxdLF9kqHcw7tQj3cqe94VIe7OMr731Ju73d79SMzE+He2Y8rCACIAAAAAAAAAAAAAAAAAAAAAAAAA6zmoLd2+J2AGuvbfgu+7NUqy5o1lf+WpFxf/AHaTYpXe2eVxzzL1hqkpxpyak9DSb0u6TbT2vZ+iOTeKRuUq07501D7M630fM8RWau4YfTFfilKcFGK820o+pLY/s1FYui8fjZ08VXmlH6NGlRpxnL7MV7uqd3sm7t2d/Eisjy36o7dVqC1S7n34JN3lGM6dRXivty7pyaX4ki2dr8ir9o8bgquFrQ+jwqwq1bydpqnJOm4Wi7tKdTa6W69KMlt33PG2mkapxzqUrh8yWSYPu8bXjqppWrStHvY3smor762Tir9H1ssLH43C9po6E1Wo4dOvVpvVBuUF/ChOE0npfvS3Vvdj0JaUI47PYytGSw0ZrU0npq1HCyi+klGDv4a4+IzWhKdaM4xUnplTlBtLvKcl70U3xJWum9uU7arrNtp1xwj+z+Lo9pMtqwnRgvo9epQlFJaVKk1aVOzdtmmmns+Gens9qywfazMcJKV1enWi+rcopSlL/E1ou+rTfUw+yGUU+ymVSw+Gp4io5zc2qsVG0nGMd6llDStN9nJ82vwTfZfI6uG7U1cXNxcalCMJNdarqSm0l+GMNEU3ykvM0YpjvnXhmyxPpxvyuQANLIAAAAAAAAAAAAAAAAAAAAABj4nEKm9LbTktn4GQR2Y05vfmPw3RDJMxHCeOIm2pYlWs50tMt2nszOePUKEXy3yvmRd9jAedUqWJSacop7uPHp4lOCmXJMxjjbRm9OkR3zpcTzq0o1V7yudqc1UpqSd00mn4p8HY0zHxLJEqtWyyjHNHX7qHfK8e80rXbi2rnjYj85+iZVh5YjEWpQutco94k3J2TqKnzd2V2i04/BuctUeeq/sQuZYGGZYGdCrHVConGS/3w09/Qw3rNbcvQx2i1eGRhcH3eGiqUEqdlpUEtNumlR2scug4yu4tPxszSGc+z3HZPXk8G6koveM6E9Dfhrgmt/NbeZKdieyucVsbGpjcbiqFCLu6axNRzqeVozajF9W9/BdVKK0mN7dyd9LREanf7f3+zbRLZXHThr+L/wBDDwuEeIld7R8fH4f3JeMdMbLhE8NJ33KM+SNdsOQAaWUAAAAAAAAAAAAAAAAAAAAAAABBdq8K55Y5U473Wq3Lj12XnYplNQjRbe8nsoq+3nJ/sjaBSO0mSPCVXVpq9N7tL7j/APn5HpdBmrH6c8b5ZuopM/UkuyucqrSVCo7SirQf4l0XxRZTVcEnNXdl48/l5kj9eYinT0Ks2vGyb/qauW9R0HdfdJ8oY+o1GrLtmWZ08tp3qS3fEVvJ/BfvwVrE9oJY6/d04xcVdarttLndNWfUg4U5Yqbk5X3WqUm2+G238FH5HOE99zgvvxaXxXvJetrepKnQ4q1+rmfwT1F5njhJT7S4eg9NSoozSTaV2t0nz6nStmk60O8pSUaaUZJ7Sb1q8V1V/LpYq+de/mc7riy+zp4ilw91wTdGThlim/vU4QWzV+re/NlHnzMvT9LijLM639/uvy9RkmkRtK5d2pq0Klqv8SPXZKS+FrJ/B/mWrAZpSzCP8Oab6xe0l6M1/Sw6qW34laXw8f0f6HhSqujVUotxkt01yjZl6PFl32cT+Gaua1fPLaYIvIM1WaYS72qR2kvk15P+5KHjXpNLTW3ltrMTG4AARdAAAAAAAAAAAAAAAAAAAAAHWbtE8nzvvsezV0cKCSArmY9mIV5aqb7tvlWvH0XT5GGuyUutWNvKLf7lv07WGhWNNeszVjUWVThpPw19neC+ra8aSm5PRd9Fa7srXfh8jBoNwrxa5TTXxv8A6GVneK+l5pUkuL6V8I7frz6mLho68RFc3a223387L8z2scW9OO7zpitMd3CMzbfNKt+k2uXL9Xu+CUbby+gumhtbt9d/hwtvIhMbPVi5/wA8uiX3n4EvR3yyk7WupK9kr2k+qd36pGLp/wDovy+1zC0pxUntffyXl6GbjcreEx7pOceNSe/HO6V2nZcHGS1FTxyT6pxXk3b/AI9TIzhKhi7raTSkmvxJtP8ANfqkXXz2jqIxfxv/AH2RjFHpep/LxybGfV+ZRkpXi3pla9mm/Pw59DYiZTOzuRPFTVaptC91HrL+0fmXJQSlcw9datsnHn5XYImK8uwAMK8AAAAAAAAAAAAAAAAAAAAAAAAOlZ6aMn4J/I7nWorwa8hA1hg6fe14rot2/CK3bfoeuGkqmPTeybb+75v7/u/me+ZYGpl+B7yUZU6XM03tFp2V3+HfrwRmCzWjSranWgrKXE4J8PjV8j6OclbVm0TDze2YmI0gJYlN30z3/wAD+aViey6aqZRB2s9Ulvovz10+9+ZQcOrwafSLf5Ft7O42nT7PqEqkYyVWT0ylBbNLe32vXgw9Pb9SGjJH0p5e7TpT6RdpfFSct/R/oWqnlUcyrxlP7MOi+9fi78Nv1KjlN8wrOFCSneynptNJPhyS44dvhsXrs1h3hsu0uEo+89p8tbK78OOCPXRq1b1tzG/yl09vpmkxxOvwlYrSrLg5APMaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB1qQVSm4ySaas0900+U14GhO2eFp5d2ir0qEdFJSSte++iEpJN7papceRv0+c8+xP0zOa1S99dWpL4XnK1v8ti7D5QuxIOXdtJvTezS4u79P8r/ACGHko11d2V0nxw+eduCQw1B/UMqi5eJpQX/AEqzIqe8H8C5B9G5Nk9HJMGqVCCjHl9XJ+MpPdszzzw1TvcPGXjFP81c9DGuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY+YYj6LgKlT8EJS/pTf7HzdJuyurWS+XPrz6n0B2zn3fZPFO9r0ai/qi1+5oCSb35JVzY8funTvo3v7Y2sWDoKp7P6kntpxsG34LutP/ALlZe6LDlueUY9iq+Du1XdaFVKS2snBW+K08PnVdXs7QE4NR2tfwfX16HJ63DXzKcdFmt8PovIKvf5Fh5/io03+cEzPNf+zbtlDMMNDBVId1UpxUKfSNSMVayu37yS+D5XgtgEK3reN1cvjtSe2wACSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiu1GUvPez9bCqeh1oadVtVt0+Lq/BrWl7IcTTo2+sIXVkl3N1bzeu/gbfBC+Ot/dC3HmvjjVZaaqeyjHN6fpOGlF7NuNROz5tFKzdul0S2G9j0I0Ep4+vKS6wjCCt/K9T/U2eCMYMcfCc9Vln5a+yv2V0suzOlXWMxEnSqRqKLcEm4SUkpWjw7bmwQCdaxXxCq+S1/dIACSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//2Q==",cost:30,owned:!1}],this.connections.getData(this.storage.email,this.storage.userToken,"battlePassScore").then(t=>{t&&(this.points=parseInt(t)),this.checkClaimedItems().then(()=>{this.currentPageState=et.idle})})}checkClaimedItems(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{if(i){let o=JSON.parse(i),s=[];o.forEach(a=>{s.push(a.id)}),this.freeItems.forEach(a=>{s.includes(a.id)&&(a.owned=!0)}),this.paidItems.forEach(a=>{s.includes(a.id)&&(a.owned=!0)}),t()}r()})})}verifyClaim(t){return t.cost>this.points?(this.currentPageState=et.error,void(this.pageText="You don't have enough points to claim "+t.title)):t.owned?(this.currentPageState=et.error,void(this.pageText="You have already claimed "+t.title)):(t.owned=!0,this.currentPageState=et.loading,void this.connections.getData(this.storage.email,this.storage.userToken,"items").then(r=>{if(console.log(r),r){let i=JSON.parse(r);i.push(t),this.connections.setData(this.storage.email,this.storage.userToken,"items",JSON.stringify(i)).then(()=>{console.log(i),this.checkClaimedItems().then(()=>{this.currentPageState=et.success,this.pageText="Claim Successfull, You can see your item in the inventory"})})}else this.currentPageState=et.error,this.pageText=r}))}}return e.\u0275fac=function(t){return new(t||e)(Ne(Or),Ne(Lr))},e.\u0275cmp=Yt({type:e,selectors:[["app-battlepass"]],decls:18,vars:4,consts:[[1,"component-container"],[1,"window-container"],[1,"centered","centered-text"],[1,"battlepass-container"],[1,"battlepass-column","battlepass-column-free"],[1,"centered-text"],["class","battlepass-item centered-text",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"battlepass-column"],[1,"bar-container"],["currentPage","battlepass"],["class","status-container",4,"ngIf"],[1,"battlepass-item","centered-text",3,"ngClass","click"],["class","battlepass-item-title",4,"ngIf"],["class","battlepass-item-points",4,"ngIf"],["class","battlepass-item-premium-inner",4,"ngIf"],[1,"battlepass-item-title"],[1,"battlepass-item-points"],[1,"battlepass-item-premium-inner"],[1,"status-container"],[1,"status-window"],["class","status-content",4,"ngIf"],[1,"status-content"],[1,"status-loading"],["class","centered-text",4,"ngIf"],[1,"status-button"],[3,"buttonText","buttonState","onClick"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Me(3,"Battlepass"),fe(),ce(4,"h2",2),Me(5),fe(),ce(6,"div",3)(7,"div",4)(8,"h2",5),Me(9,"Free"),fe(),ht(10,PB,4,7,"div",6),fe(),ce(11,"div",7)(12,"h2",5),Me(13,"Free++"),fe(),ht(14,LB,4,7,"div",6),fe()()(),ce(15,"div",8),ct(16,"app-bottom-bar",9),fe()(),ht(17,jB,4,2,"div",10)),2&t&&(Te(5),rr("You have ",r.points," points"),Te(5),Ve("ngForOf",r.freeItems),Te(4),Ve("ngForOf",r.paidItems),Te(3),Ve("ngIf",r.currentPageState!=r.pageState.idle))},dependencies:[pa,ga,Si,mo,Ql,La],styles:[".battlepass-container[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:row;margin-top:5px}.battlepass-column[_ngcontent-%COMP%]{width:100%}.battlepass-column-free[_ngcontent-%COMP%]{border-right:3px #fff solid}.battlepass-item[_ngcontent-%COMP%]{width:80%;aspect-ratio:4/1;margin:auto auto 10px;height:auto;border:5px var(--attention-color) solid;border-radius:30px;transition:all .5s ease;background:var(--neutral-color)}.battlepass-item-completed[_ngcontent-%COMP%]{background-color:var(--secondary-color)}.battlepass-item-premium[_ngcontent-%COMP%]{width:30%;aspect-ratio:1/1;transform:rotate(45deg);margin-top:50px;margin-bottom:50px;display:grid;place-items:center}.battlepass-item-premium-inner[_ngcontent-%COMP%]{transform:rotate(-45deg)}.battlepass-item-points[_ngcontent-%COMP%]{background-color:#0006;width:-moz-fit-content;width:fit-content;padding:5px;border-radius:15px;margin:15px auto auto}.battlepass-item[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-10px,-10px)}.battlepass-item[_ngcontent-%COMP%]:hover-premium{transform:translate(-10px,-10px) rotate(45deg)!important}.battlepass-item-premium[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-15px,-15px) rotate(45deg)!important}"]}),e})();const up=["none","rgba(0, 255, 255)","rgba(0, 0, 255)","rgba(255, 132, 0)","rgba(255, 255, 0)","rgba(0, 255, 0)","rgba(255, 0, 255)","rgba(255, 0, 0)"],nS=["none","rgba(132, 255, 255)","rgba(132, 132, 255)","rgba(255, 195, 132)","rgba(255, 255, 132)","rgba(132, 255, 132)","rgba(255, 132, 255)","rgba(255, 132, 132)"],rS=["none","rgba(0, 132, 132)","rgba(0, 0, 132)","rgba(132, 65, 0)","rgba(132, 132, 0)","rgba(0, 132, 0)","rgba(132, 0, 132)","rgba(132, 0, 0)"],zB=[[],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[2,0,0],[2,2,2],[0,0,0]],[[0,0,3],[3,3,3],[0,0,0]],[[4,4],[4,4]],[[0,5,5],[5,5,0],[0,0,0]],[[0,6,0],[6,6,6],[0,0,0]],[[7,7,0],[0,7,7],[0,0,0]]];let iS,oS,Ii,vs=(()=>{class e{}return e.SINGLE=100,e.DOUBLE=300,e.TRIPLE=500,e.TETRIS=800,e.SOFT_DROP=1,e.HARD_DROP=2,e})();class jt{}jt[0]=800,jt[1]=720,jt[2]=630,jt[3]=550,jt[4]=470,jt[5]=380,jt[6]=300,jt[7]=220,jt[8]=130,jt[9]=100,jt[10]=80,jt[11]=80,jt[12]=80,jt[13]=70,jt[14]=70,jt[15]=70,jt[16]=50,jt[17]=50,jt[18]=50,jt[19]=30,jt[20]=30;class lp{constructor(n){this.ctx=n,this.spawn()}spawn(){const n=this.randomizeTetrominoType(up.length-1);this.shape=zB[n],this.color=up[n],this.colorLighter=nS[n],this.colorDarker=rS[n],this.x=4===n?4:3,this.y=0}add3D(n,t,r){n.fillStyle=this.colorDarker,n.fillRect(t+.9,r,.1,1),n.fillRect(t,r+.9,1,.1),n.fillRect(t+.65,r+.3,.05,.3),n.fillRect(t+.3,r+.6,.4,.05),n.fillStyle=this.colorLighter,n.fillRect(t+.3,r+.3,.05,.3),n.fillRect(t+.3,r+.3,.4,.05),n.fillRect(t,r,.05,1),n.fillRect(t,r,.1,.95),n.fillRect(t,r,1,.05),n.fillRect(t,r,.95,.1)}addNextShadow(n,t,r){n.fillStyle="black",n.fillRect(t,r,1.025,1.025)}draw(){this.shape.forEach((n,t)=>{n.forEach((r,i)=>{if(r>0){this.ctx.fillStyle=this.color;const o=this.x+i,s=this.y+t;this.ctx.fillRect(o,s,1,1),this.add3D(this.ctx,o,s)}})})}drawNext(n){n.clearRect(0,0,n.canvas.width,n.canvas.height),this.shape.forEach((t,r)=>{t.forEach((i,o)=>{i>0&&this.addNextShadow(n,o,r)})}),n.fillStyle=this.color,this.shape.forEach((t,r)=>{t.forEach((i,o)=>{if(i>0){n.fillStyle=this.color;const s=o+.025,a=r+.025;n.fillRect(s,a,.975,.975),this.add3D(n,s,a)}})})}move(n){this.x=n.x,this.y=n.y,this.shape=n.shape}randomizeTetrominoType(n){return Math.floor(Math.random()*n+1)}}class KB{static start(n){const t=function GB(e){return oS=e,iS=(n=1,t=.05,r=220,i=0,o=0,s=.1,a=0,l=1,g=0,I=0,L=0,K=0,X=0,ie=0,le=0,me=0,Se=0,se=2*Math.PI,Ae=44100,Ke=(Xl=>2*Xl*Math.random()-Xl),at=(Xl=>0<Xl?1:-1),Nt=(g*=500*se/Math.pow(Ae,2)),Ti=(r*=(1+Ke(t))*se/Ae),cp=at(le)*se/4,Cs=[],sS=0,aS=0,Fr=0,Ua=1,uS=0,lS=0,Rn=0,AO=.5,Va,dp,fp=Ii.createBufferSource())=>{for(i=50+i*Ae|0,o=o*Ae|0,s=s*Ae|0,Se=Se*Ae|0,I*=500*se/Math.pow(Ae,3),Va=i+o+s+Se,le*=se/Ae,L*=se/Ae,K*=Ae,X*=Ae;Fr<Va;Cs[Fr++]=Rn)++lS>100*me&&(lS=0,Rn=sS*r*Math.sin(aS*le-cp),Rn=a?1<a?2<a?3<a?4<a?at((Rn/se%1+1)%1-(AO+=1e3*l/Ae)%1):Math.sin(Math.pow(Rn%se,3)):Math.max(Math.min(Math.tan(Rn),1),-1):1-(2*Rn/se%2+2)%2:1-4*Math.abs(Math.round(Rn/se)-Rn/se):Math.sin(Rn),5>a&&(Rn=at(Rn)*Math.pow(Math.abs(Rn),l)),Rn*=n*oS*(Fr<i?Fr/i:Fr<i+o?1:Fr<Va-Se?1-(Fr-i-o)/s:0),Rn=Se?Rn/2+(Se>Fr?0:(Fr<Va-Se?1:(Fr-Va)/Se)*Cs[Fr-Se]/2):Rn),sS+=1+Ke(ie),aS+=1+Ke(ie),r+=g+=I,Ua&&++Ua>K&&(Ti+=L,r+=L,Ua=0),X&&++uS>X&&(r=Ti,g=Nt,uS=1,Ua=Ua||1);(dp=Ii.createBuffer(1,Cs.length,Ae)).getChannelData(0).set(Cs),fp.buffer=dp,fp.connect(Ii.destination),fp.start()},Ii=new(window.AudioContext||webkitAudioContext),Ii.z=Ii.createBufferSource,Ii.createBufferSource=(n=Ii.z())=>(n.start=n.start||(t=>Ii.noteOn(t)),n),iS}(n);return r=>{t(...r)}}}let WB=(()=>{class e{valid(t,r){return t.shape.every((i,o)=>i.every((s,a)=>{let l=t.x+a,g=t.y+o;return this.isEmpty(s)||this.insideWalls(l)&&this.aboveFloor(g)&&this.notOccupied(r,l,g)}))}isEmpty(t){return 0===t}insideWalls(t){return t>=0&&t<10}aboveFloor(t){return t<=20}notOccupied(t,r,i){return t[i]&&0===t[i][r]}rotate(t){let r=JSON.parse(JSON.stringify(t));for(let i=0;i<r.shape.length;++i)for(let o=0;o<i;++o)[r.shape[o][i],r.shape[i][o]]=[r.shape[i][o],r.shape[o][i]];return r.shape.forEach(i=>i.reverse()),r}getLinesClearedPoints(t,r){return(r+1)*(1===t?vs.SINGLE:2===t?vs.DOUBLE:3===t?vs.TRIPLE:4===t?vs.TETRIS:0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qB=["board"],QB=["next"];function YB(e,n){if(1&e){const t=Nn();ce(0,"button",9),yt("click",function(){return En(t),Sn(At().play())}),Me(1," Play "),fe()}}function XB(e,n){if(1&e){const t=Nn();ce(0,"button",10),yt("click",function(){return En(t),Sn(At().gameOver())}),Me(1," Reset "),fe()}}let ZB=(()=>{class e{keyEvent(t){if("Escape"===t.key)this.gameOver();else if(this.moves[t.key]){t.preventDefault();let r=this.moves[t.key](this.piece);if(" "==t.key)for(;this.service.valid(r,this.board);)this.points+=vs.HARD_DROP,this.piece.move(r),r=this.moves.ArrowDown(this.piece);else this.service.valid(r,this.board)&&(this.piece.move(r),"ArrowDown"===t.key&&(this.points+=vs.SOFT_DROP))}}constructor(t,r,i,o){this.service=t,this.storage=r,this.mongo=i,this.pets=o,this.moves={ArrowLeft:s=>({...s,x:s.x-1}),ArrowRight:s=>({...s,x:s.x+1}),ArrowDown:s=>({...s,y:s.y+1}),Space:s=>({...s,y:s.y+1}),ArrowUp:s=>this.service.rotate(s)}}ngOnInit(){this.initBoard(),this.initSound(),this.initNext(),this.resetGame(),this.highScore=0}initSound(){this.playSoundFn=KB.start(.2)}initBoard(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.canvas.width=300,this.ctx.canvas.height=600,this.ctx.scale(30,30)}initNext(){this.mongo.getData(this.storage.email,this.storage.userToken,"THighscore").then(t=>{this.highScore=JSON.parse(t)}),this.ctxNext=this.canvasNext.nativeElement.getContext("2d"),this.ctxNext.canvas.width=122,this.ctxNext.canvas.height=120,this.ctxNext.scale(30,30)}play(){this.gameStarted=!0,this.resetGame(),this.next=new lp(this.ctx),this.piece=new lp(this.ctx),this.next.drawNext(this.ctxNext),this.time.start=performance.now(),this.requestId&&cancelAnimationFrame(this.requestId),this.animate()}resetGame(){this.points=0,this.lines=0,this.level=0,this.board=this.getEmptyBoard(),this.time={start:0,elapsed:0,level:jt[this.level]},this.paused=!1,this.addOutlines()}animate(t=0){this.time.elapsed=t-this.time.start,this.time.elapsed>this.time.level&&(this.time.start=t,!this.drop())?this.gameOver():(this.draw(),this.requestId=requestAnimationFrame(this.animate.bind(this)))}draw(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.piece.draw(),this.drawBoard()}drop(){let t=this.moves.ArrowDown(this.piece);if(this.service.valid(t,this.board))this.piece.move(t);else{if(this.freeze(),this.clearLines(),0===this.piece.y)return!1;this.playSoundFn([,,224,.02,.02,.08,1,1.7,-13.9,,,,,,6.7]),this.piece=this.next,this.next=new lp(this.ctx),this.next.drawNext(this.ctxNext)}return!0}clearLines(){let t=0;this.board.forEach((r,i)=>{r.every(o=>0!==o)&&(t++,this.board.splice(i,1),this.board.unshift(Array(10).fill(0)))}),t>0&&(this.points+=this.service.getLinesClearedPoints(t,this.level),this.lines+=t,this.lines>=10&&(this.level++,this.lines-=10,this.time.level=jt[this.level]))}freeze(){this.piece.shape.forEach((t,r)=>{t.forEach((i,o)=>{i>0&&(this.board[r+this.piece.y][o+this.piece.x]=i)})})}add3D(t,r,i){this.ctx.fillStyle=rS[i],this.ctx.fillRect(t+.9,r,.1,1),this.ctx.fillRect(t,r+.9,1,.1),this.ctx.fillRect(t+.65,r+.3,.05,.3),this.ctx.fillRect(t+.3,r+.6,.4,.05),this.ctx.fillStyle=nS[i],this.ctx.fillRect(t+.3,r+.3,.05,.3),this.ctx.fillRect(t+.3,r+.3,.4,.05),this.ctx.fillRect(t,r,.05,1),this.ctx.fillRect(t,r,.1,.95),this.ctx.fillRect(t,r,1,.05),this.ctx.fillRect(t,r,.95,.1)}addOutlines(){for(let t=1;t<10;t++)this.ctx.fillStyle="#a6c6ff",this.ctx.fillRect(t,0,.025,this.ctx.canvas.height);for(let t=1;t<20;t++)this.ctx.fillStyle="#a6c6ff",this.ctx.fillRect(0,t,this.ctx.canvas.width,.025)}drawBoard(){this.board.forEach((t,r)=>{t.forEach((i,o)=>{i>0&&(this.ctx.fillStyle=up[i],this.ctx.fillRect(o,r,1,1),this.add3D(o,r,i))})}),this.addOutlines()}pause(){this.gameStarted&&(this.paused?this.animate():(this.ctx.font="1px Arial",this.ctx.fillStyle="black",this.ctx.fillText("GAME PAUSED",1.4,4),cancelAnimationFrame(this.requestId)),this.paused=!this.paused)}gameOver(){if(this.gameStarted=!1,cancelAnimationFrame(this.requestId),this.mongo.getData(this.storage.email,this.storage.userToken,"THighscore").then(r=>{this.points>JSON.parse(r)&&(this.highScore=this.points,this.mongo.setData(this.storage.email,this.storage.userToken,"THighscore",JSON.stringify(this.highScore)).then(()=>{}))}),this.points>1e3){var t=Math.floor(this.points/1e3);this.mongo.getData(this.storage.email,this.storage.userToken,"funds").then(r=>{var i=JSON.parse(r)+t;this.mongo.setData(this.storage.email,this.storage.userToken,"funds",JSON.stringify(i)).then(o=>{}),this.pets.increaseHappiness(Math.floor(i/2))})}this.ctx.fillStyle="black",this.ctx.fillRect(1,3,8,1.2),this.ctx.font="1px Arial",this.ctx.fillStyle="red",this.ctx.fillText("GAME OVER",1.8,4)}getEmptyBoard(){return Array.from({length:20},()=>Array(10).fill(0))}}return e.\u0275fac=function(t){return new(t||e)(Ne(WB),Ne(Lr),Ne(Or),Ne(ys))},e.\u0275cmp=Yt({type:e,selectors:[["game-board"]],viewQuery:function(t,r){if(1&t&&(Nf(qB,7),Nf(QB,7)),2&t){let i;ul(i=ll())&&(r.canvas=i.first),ul(i=ll())&&(r.canvasNext=i.first)}},hostBindings:function(t,r){1&t&&yt("keydown",function(o){return r.keyEvent(o)},0,G0)},decls:23,vars:8,consts:[[1,"grid"],[1,"game-board"],["board",""],[1,"next"],["next",""],[1,"button-container"],["class","play-button button",3,"click",4,"ngIf"],["class","reset-button button",3,"click",4,"ngIf"],[1,"pause-button","button",3,"click"],[1,"play-button","button",3,"click"],[1,"reset-button","button",3,"click"]],template:function(t,r){1&t&&(ce(0,"div",0),ct(1,"canvas",1,2),ce(3,"div")(4,"h1"),Me(5,"TETRIS"),fe(),ce(6,"p"),Me(7),fe(),ce(8,"p"),Me(9),fe(),ce(10,"p"),Me(11),fe(),ce(12,"p"),Me(13),fe(),ce(14,"p"),Me(15,"Next Block:"),fe(),ct(16,"canvas",3,4),ce(18,"div",5),ht(19,YB,2,0,"button",6),ht(20,XB,2,0,"button",7),ce(21,"button",8),yt("click",function(){return r.pause()}),Me(22," Pause "),fe()()()()),2&t&&(Te(7),rr("Score: ",r.points,""),Te(2),rr("Lines: ",r.lines,""),Te(2),rr("Level: ",r.level,""),Te(2),rr("High Score: ",r.highScore,""),Te(6),Ve("ngIf",!r.gameStarted),Te(1),Ve("ngIf",r.gameStarted),Te(1),uf("button-disabled",!r.gameStarted))},dependencies:[Si],styles:['*[_ngcontent-%COMP%] {\n    font-family: "Oxygen";\n}\n\n.grid[_ngcontent-%COMP%] {\n  transform: scale(.8);\n  display: flex;\n  grid-template-columns: 240px 150px;\n}\n\n.right-column[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: right;\n  width: 150px;\n}\n.button-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: left;\n\n  .play-button {\n    background-color: #4caf50;\n  }\n\n  .reset-button {\n    background-color: red;\n  }\n\n  .pause-button {\n    background-color: #4caf50;\n\n    &.button-disabled {\n      background-color: #cccccc;\n    }\n  }\n\n  .button {\n    font-size: 12px;\n    padding: 11px 22px;\n    cursor: pointer;\n    width: 105px; \n    border: 1px solid black;\n  }\n}\n\n.game-board[_ngcontent-%COMP%] {\n  border: solid 2px #fff;\n}']}),e})();function JB(e,n){if(1&e){const t=Nn();ce(0,"div",10),yt("click",function(){const o=En(t).$implicit;return Sn(At(2).openGame(o.slug))}),ce(1,"div",11),ct(2,"img",12),fe(),ce(3,"div",13)(4,"h2",14),Me(5),fe(),ce(6,"p",15),Me(7),fe()()()}if(2&e){const t=n.$implicit;Te(2),Fi("src",t.imgLink,to),Te(3),Xt(t.title),Te(2),Xt(t.description)}}function eO(e,n){if(1&e&&(ce(0,"div",6)(1,"h1",7),Me(2,"Games"),fe(),ce(3,"div",8),ht(4,JB,8,3,"div",9),fe()()),2&e){const t=At();Te(4),Ve("ngForOf",t.gamesList)}}function tO(e,n){1&e&&(ce(0,"div",16),ct(1,"game-board"),fe())}function nO(e,n){if(1&e){const t=Nn();ce(0,"div",17)(1,"img",18),yt("click",function(){return En(t),Sn(At().openGame("none"))}),fe()()}}let rO=(()=>{class e{constructor(t){this.router=t,this.gamesList=[],this.displayedGame="none"}ngOnInit(){this.gamesList=[{title:"Tetris",description:"Stack the Blocks",imgLink:"https://play-lh.googleusercontent.com/za2Nu_qjMw5GzWfbzet4zeiZT1xvJlTRi4NJzGpJWX9grxFAAko5dGBwe7qeqK01THw",slug:"tetris"}]}openGame(t){this.displayedGame=t}}return e.\u0275fac=function(t){return new(t||e)(Ne(vn))},e.\u0275cmp=Yt({type:e,selectors:[["app-minigames"]],decls:6,vars:3,consts:[[1,"component-container"],["class","window-container",4,"ngIf"],["class","game-container",4,"ngIf"],["class","exit-container",4,"ngIf"],[1,"bar-container"],["currentPage","games"],[1,"window-container"],[1,"centered-text"],[1,"list-container"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-thumbnail-container"],["alt","",1,"list-thumbnail",3,"src"],[1,"list-item-text"],[1,"list-title"],[1,"list-subtitle"],[1,"game-container"],[1,"exit-container"],["src","https://www.svgrepo.com/show/506172/cross.svg","alt","",1,"exit-img",3,"click"]],template:function(t,r){1&t&&(ce(0,"div",0),ht(1,eO,5,1,"div",1),ht(2,tO,2,0,"div",2),ht(3,nO,2,0,"div",3),ce(4,"div",4),ct(5,"app-bottom-bar",5),fe()()),2&t&&(Te(1),Ve("ngIf","none"==r.displayedGame),Te(1),Ve("ngIf","tetris"==r.displayedGame),Te(1),Ve("ngIf","none"!=r.displayedGame))},dependencies:[ga,Si,ZB,La],styles:[".list-item[_ngcontent-%COMP%]{cursor:pointer}.game-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:auto}.exit-container[_ngcontent-%COMP%]{aspect-ratio:1/1;height:40px;position:absolute;top:2%;left:2%;filter:invert(100%) sepia(83%) saturate(697%) hue-rotate(294deg) brightness(125%) contrast(105%);cursor:pointer}.exit-img[_ngcontent-%COMP%]{width:100%}"]}),e})();function iO(e,n){if(1&e){const t=Nn();ce(0,"div",8),yt("click",function(){const o=En(t).$implicit;return Sn(At().openElem(o))}),ce(1,"div",9),ct(2,"img",10),fe(),ce(3,"div",11)(4,"h2"),Me(5),fe(),ce(6,"p"),Me(7),fe()()()}if(2&e){const t=n.$implicit;Te(2),Fi("src",t.imgLink,to),Te(3),Xt(t.title),Te(2),Xt(t.subtitle)}}function oO(e,n){1&e&&(ce(0,"p",2),Me(1,"There is nothing here :("),fe())}let sO=(()=>{class e{constructor(t,r,i){this.storage=t,this.connections=r,this.router=i,this.inventory=[]}ngOnInit(){this.getInventoryItems()}getInventoryItems(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{i&&(this.inventory=JSON.parse(i))})})}openElem(t){console.log(t.title),"Gacha Pull"==t.title&&this.router.navigateByUrl("gacha")}}return e.\u0275fac=function(t){return new(t||e)(Ne(Lr),Ne(Or),Ne(vn))},e.\u0275cmp=Yt({type:e,selectors:[["app-inventory"]],decls:9,vars:2,consts:[[1,"component-container"],[1,"window-container"],[1,"centered-text"],[1,"list-container"],["class","list-item inventory-item",3,"click",4,"ngFor","ngForOf"],["class","centered-text",4,"ngIf"],[1,"bar-container"],["currentPage","inventory"],[1,"list-item","inventory-item",3,"click"],[1,"list-thumbnail-container"],["alt","",1,"list-thumbnail",3,"src"],[1,"list-item-text"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Me(3,"Your Stuff"),fe(),ce(4,"div",3),ht(5,iO,8,3,"div",4),fe(),ht(6,oO,2,0,"p",5),fe(),ce(7,"div",6),ct(8,"app-bottom-bar",7),fe()()),2&t&&(Te(5),Ve("ngForOf",r.inventory),Te(1),Ve("ngIf",0==r.inventory.length))},dependencies:[ga,Si,La],styles:[".inventory-item[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),aO=(()=>{class e{constructor(t){this.router=t,this.currentPageState=et.idle}setPage(t){this.router.navigateByUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(Ne(vn))},e.\u0275cmp=Yt({type:e,selectors:[["app-welcome"]],decls:9,vars:2,consts:[[1,"component-container"],[1,"centered","window-container"],[1,"centered-text"],[1,"button-container"],["buttonText","Make Account",1,"button-elem",3,"buttonState","onClick"],["buttonText","Login",1,"button-elem",3,"buttonState","onClick"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Me(3,"Welcome to Gabeogatchi!"),fe(),ce(4,"h2",2),Me(5,"Developed by 3 penguins in a trenchcoat"),fe(),ce(6,"div",3)(7,"app-submit-button",4),yt("onClick",function(){return r.setPage("create")}),fe(),ce(8,"app-submit-button",5),yt("onClick",function(){return r.setPage("login")}),fe()()()()),2&t&&(Te(7),Ve("buttonState",r.currentPageState),Te(1),Ve("buttonState",r.currentPageState))},dependencies:[mo],styles:[".button-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;display:flex;flex-direction:row;justify-content:center;gap:45px}.button-elem[_ngcontent-%COMP%]{width:50%;min-width:300px;min-height:50px}.window-container[_ngcontent-%COMP%]{height:auto!important;min-height:0px!important;padding-bottom:450px!important}"]}),e})();const uO=function(e){return{hidden:e}};let lO=(()=>{class e{constructor(t,r){this.auth=t,this.router=r,this.pageState=et,this.formState=et.idle}validateAuth(t,r,i){i&&i.preventDefault(),this.formState=et.loading,this.auth.createAccount(t,r).then(o=>{console.log(o),o?(this.formState=et.idle,this.router.navigateByUrl("/")):this.formState=et.error})}}return e.\u0275fac=function(t){return new(t||e)(Ne(JE),Ne(vn))},e.\u0275cmp=Yt({type:e,selectors:[["app-create-account"]],decls:22,vars:4,consts:[[1,"component-container"],[1,"centered","form-container"],[1,"centered-text"],[1,"centered","form-wrapper",3,"submit"],[1,"entry-container"],["userNameEntry",""],["inputType","password"],["passwordEntry",""],[1,"centered","submit-container"],["buttonText","Create",3,"buttonState","onClick"],[1,"centered","error-container",3,"ngClass"],[1,"error-text"]],template:function(t,r){if(1&t){const i=Nn();ce(0,"div",0)(1,"div",1)(2,"h1",2),Me(3," Welcome! Please make an Account "),fe(),ce(4,"form",3),yt("submit",function(s){En(i);const a=Zr(9),l=Zr(14);return Sn(r.validateAuth(a.value,l.value,s))}),ce(5,"p"),Me(6,"Email"),fe(),ce(7,"div",4),ct(8,"app-text-entry",null,5),fe(),ce(10,"p"),Me(11,"Password"),fe(),ce(12,"div",4),ct(13,"app-text-entry",6,7),fe(),ce(15,"div",8)(16,"app-submit-button",9),yt("onClick",function(s){En(i);const a=Zr(9),l=Zr(14);return Sn(r.validateAuth(a.value,l.value,s))}),fe()()(),ce(17,"div",10)(18,"h3",11),Me(19,"Oopsie!"),fe(),ce(20,"p",11),Me(21,"This email is already registered with Gabeogatchi"),fe()()()()}2&t&&(Te(16),Ve("buttonState",r.formState),Te(1),Ve("ngClass",Sr(2,uO,r.formState!=r.pageState.error)))},dependencies:[pa,ap,mo],styles:[".form-container[_ngcontent-%COMP%]{width:85%;height:-moz-fit-content;height:fit-content;max-width:850px;margin-top:2%;background-color:var(--elem-bg);padding:15px}.form-wrapper[_ngcontent-%COMP%]{width:85%;display:grid;grid-template-columns:1fr 1fr;place-items:center}.entry-container[_ngcontent-%COMP%]{width:100%;height:50%}.submit-container[_ngcontent-%COMP%]{width:50%;height:50px;margin:auto;grid-column:1/span 2}.error-container[_ngcontent-%COMP%]{width:75%;margin:15px auto auto;background-color:var(--attention-color);transition:opacity .5s ease}.error-text[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:0}"]}),e})(),cO=(()=>{class e{checkRecentValues(t,r,i){return!(t.length>r)||t.slice(-r).includes(i)||t.slice(-r).includes(i)}randoItemByCategory(t,r){const i=t.filter(s=>s.rarity===r.toString());return i[Math.floor(Math.random()*i.length)]}generateRandomItem(t){return new Promise((r,i)=>{const o=this.ls.userToken,s=this.ls.email,a=Math.random();return this.mongo.getData(s,o,"previousGachaPulls").then(g=>{let I=JSON.parse(g);this.checkRecentValues(I,89,5)?this.checkRecentValues(I,9,4)&&this.checkRecentValues(I,9,5)?this.checkRecentValues(I,14,3)?this.checkRecentValues(I,75,5)?r(this.randoItemByCategory(t,a<.005?5:a<.055?4:a<.255?3:a<.555?2:1)):r(this.randoItemByCategory(t,a<.25?5:a<.3?4:a<.5?3:a<.8?2:1)):r(this.randoItemByCategory(t,a<.005?5:a<.05?4:3)):r(this.randoItemByCategory(t,a<.005?5:4)):r(this.randoItemByCategory(t,5))}),t[0]})}givePlayerItem(t){const r=this.ls.userToken,i=this.ls.email;return this.mongo.getData(i,r,"items").then(a=>{let l=JSON.parse(a);l.push(t),l=JSON.stringify(l),this.mongo.setData(i,r,"items",l)}),this.mongo.getData(i,r,"previousGachaPulls").then(a=>{let l=JSON.parse(a);l.push(t.rarity),l=JSON.stringify(l),this.mongo.setData(i,r,"previousGachaPulls",l)}),t.title}pullOnBanner(){return new Promise((t,r)=>{this.generateRandomItem(dO).then(i=>{this.givePlayerItem(i),t(i)})})}constructor(t,r){this.ls=t,this.mongo=r}}return e.\u0275fac=function(t){return new(t||e)(Ue(Lr),Ue(Or))},e.\u0275prov=Ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const dO=[{id:"gachaPull",title:"Special Pet Type B",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"5"},{id:"gachaPull",title:"Special Pet Type C ",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"5"},{id:"gachaPull",title:"Very Premium Food 1",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Very Premium Food 2",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Very Premium Cleaning Product 1",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Very Premium Cleaning Product 2",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Food 1 but a lot",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Food 2 but a lot",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 1",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 2",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 3",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 4",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Cleaning Product 3 but a lot",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Cleaning Product 4 but a lot",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Food 1",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Food 2",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Food 3",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Food 4",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 1",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 2",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 3",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 4",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Quality Food 1",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 2",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 3",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 4",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 5",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Cleaning Product",subtitle:"Cleaning: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Cleaning Product",subtitle:"Cleaning: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Low Quality Food",subtitle:"Food: 5",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"1"}];function fO(e,n){1&e&&(ce(0,"div",8)(1,"h1",9),Me(2,"Loading..."),fe(),ce(3,"div",10),ct(4,"app-loading"),fe()())}function hO(e,n){if(1&e){const t=Nn();ce(0,"div",8)(1,"h1",9),Me(2,"Congratulations! You Win"),fe(),ce(3,"div",11),ct(4,"img",12),ce(5,"h3",13),Me(6),fe()(),ce(7,"div",14)(8,"app-submit-button",15),yt("onClick",function(){return En(t),Sn(At(2).router.navigateByUrl("/inventory"))}),fe()()()}if(2&e){const t=At(2);Te(4),Fi("src",t.pullItem.imgLink,to),Te(2),Xt(t.pullItem.title),Te(2),Ve("buttonText","Claim")("buttonState",t.pageState.idle)}}function pO(e,n){1&e&&(ce(0,"h1",9),Me(1,"Ooops"),fe())}function gO(e,n){1&e&&(ce(0,"h1",9),Me(1,"Hooray"),fe())}function mO(e,n){if(1&e){const t=Nn();ce(0,"app-submit-button",15),yt("onClick",function(){return En(t),Sn(At(3).router.navigateByUrl("/"))}),fe()}if(2&e){const t=At(3);Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function yO(e,n){if(1&e){const t=Nn();ce(0,"app-submit-button",15),yt("onClick",function(){En(t);const i=At(3);return Sn(i.currentPageState=i.pageState.idle)}),fe()}if(2&e){const t=At(3);Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function vO(e,n){if(1&e&&(ce(0,"div",8),ht(1,pO,2,0,"h1",16),ht(2,gO,2,0,"h1",16),ce(3,"p",1),Me(4),fe(),ce(5,"div",14),ht(6,mO,1,2,"app-submit-button",17),ht(7,yO,1,2,"app-submit-button",17),fe()()),2&e){const t=At(2);Te(1),Ve("ngIf",t.currentPageState==t.pageState.error),Te(1),Ve("ngIf",t.currentPageState==t.pageState.success),Te(2),Xt(t.pageText),Te(2),Ve("ngIf","You do not have a gacha pod at the moment, unlock one from the store"==t.pageText),Te(1),Ve("ngIf","You do not have a gacha pod at the moment, unlock one from the store"!=t.pageText)}}function CO(e,n){if(1&e&&(ce(0,"div",5)(1,"div",6),ht(2,fO,5,0,"div",7),ht(3,hO,9,4,"div",7),ht(4,vO,8,5,"div",7),fe()()),2&e){const t=At();Te(2),Ve("ngIf",t.currentPageState==t.pageState.loading),Te(1),Ve("ngIf",null!=t.pullItem),Te(1),Ve("ngIf",t.currentPageState==t.pageState.error||t.currentPageState==t.pageState.success)}}const EO=[{path:"",component:CB},{path:"welcome",component:aO},{path:"create",component:lO},{path:"login",component:DB},{path:"store",component:wB},{path:"battlepass",component:$B},{path:"inventory",component:sO},{path:"games",component:rO},{path:"gacha",component:(()=>{class e{constructor(t,r,i,o){this.storage=t,this.connections=r,this.router=i,this.gacha=o,this.pageState=et,this.currentPageState=et.loading,this.pageText="Idle",this.pullItem=null}ngOnInit(){this.currentPageState=et.idle,this.checkGacha().then(t=>{t?this.currentPageState=et.idle:(this.currentPageState=et.error,this.pageText="You do not have a gacha pod at the moment, unlock one from the store")})}checkGacha(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{if(i){let o=JSON.parse(i),s=[];o.forEach(a=>{s.push(a.title)}),console.log(s),s.includes("Gacha Pull")?t(!0):t(!1)}else this.currentPageState=et.error,this.pageText="Cannot find your inventory",r(!1)})})}removeGacha(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{if(i){let o=JSON.parse(i);for(let s=0;s<o.length;s++)if("Gacha Pull"==o[s].title){o.splice(s,1);break}this.connections.setData(this.storage.email,this.storage.userToken,"items",JSON.stringify(o)).then(s=>{t()})}})})}pullGacha(){this.currentPageState=et.loading,this.removeGacha().then(()=>{this.gacha.pullOnBanner().then(t=>{this.currentPageState=et.idle,this.pullItem=t})})}}return e.\u0275fac=function(t){return new(t||e)(Ne(Lr),Ne(Or),Ne(vn),Ne(cO))},e.\u0275cmp=Yt({type:e,selectors:[["app-gacha"]],decls:6,vars:1,consts:[[1,"component-container"],[1,"centered-text"],[1,"gacha-container",3,"click"],["src","https://media.istockphoto.com/id/603904698/vector/colorful-bubblegum-gumball-machine.jpg?s=612x612&w=0&k=20&c=ohF_YoN4Y-qD0Zpes_AELRrTPohtkISB5xL2MZnd5mc=","alt","",1,"gacha-img"],["class","status-container",4,"ngIf"],[1,"status-container"],[1,"status-window"],["class","status-content",4,"ngIf"],[1,"status-content"],[1,"centered-text","status-text"],[1,"status-loading"],[1,"win-card"],["alt","",1,"win-img","centered",3,"src"],[1,"centered-text","win-text"],[1,"status-button"],[3,"buttonText","buttonState","onClick"],["class","centered-text status-text",4,"ngIf"],[3,"buttonText","buttonState","onClick",4,"ngIf"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"h1",1),Me(2,"Open Your Gacha here!"),fe(),ce(3,"div",2),yt("click",function(){return r.pullGacha()}),ct(4,"img",3),fe()(),ht(5,CO,5,3,"div",4)),2&t&&(Te(5),Ve("ngIf",r.currentPageState!=r.pageState.idle||null!=r.pullItem))},dependencies:[Si,mo,Ql],styles:[".gacha-container[_ngcontent-%COMP%]{background-color:#e1b4d2;padding:15px;border-radius:15px;margin:auto;aspect-ratio:1/1;height:60%;display:grid;place-items:center;transition:all .5s ease;box-shadow:0 0 0 var(--attention-color)}.gacha-container[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-20px,-20px);box-shadow:20px 20px 0 var(--attention-color)}.gacha-img[_ngcontent-%COMP%]{width:100%;height:auto}.status-text[_ngcontent-%COMP%]{font-size:2.5rem}.win-card[_ngcontent-%COMP%]{height:50vh;aspect-ratio:2/3;width:auto;margin:auto auto 15px;background-color:var(--attention-color);border-radius:15px;padding:15px 15px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_danceMonkeyDance 1s linear infinite}.win-img[_ngcontent-%COMP%]{width:100%;height:auto}.win-text[_ngcontent-%COMP%]{font-size:1rem}.status-window[_ngcontent-%COMP%]{margin-top:30px!important}@keyframes _ngcontent-%COMP%_danceMonkeyDance{0%{transform:scale(1) translate(0) rotate(0)}25%{transform:scale(1.06) translate(5px,5px) rotate(5deg)}50%{transform:scale(1) translate(0) rotate(0)}75%{transform:scale(1.06) translate(-5px,-5px) rotate(-5deg)}to{transform:scale(1) translate(0) rotate(0)}}"]}),e})()}];let SO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mi({type:e}),e.\u0275inj=si({imports:[XE.forRoot(EO),XE]}),e})(),DO=(()=>{class e{constructor(t,r,i){this.storageManager=t,this.router=r,this.connections=i,this.title="Gabeogatchi"}ngOnInit(){if(!this.storageManager.isSignedIn()){let t=window.location.href.split("/");["welcome","login","create"].includes(t[t.length-1])||this.router.navigateByUrl("/welcome")}}}return e.\u0275fac=function(t){return new(t||e)(Ne(Lr),Ne(vn),Ne(Or))},e.\u0275cmp=Yt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[Xh]}),e})(),bO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Mi({type:e,bootstrap:[DO]}),e.\u0275inj=si({imports:[YR,SO,xM]}),e})();qR().bootstrapModule(bO).catch(e=>console.error(e))},298:(_e,tt,Y)=>{var d=Y(659);function u(_,B){d.cipher.registerAlgorithm(_,function(){return new d.aes.Algorithm(_,B)})}Y(311),Y(481),Y(747),_e.exports=d.aes=d.aes||{},d.aes.startEncrypting=function(_,B,D,T){var h=M({key:_,output:D,decrypt:!1,mode:T});return h.start(B),h},d.aes.createEncryptionCipher=function(_,B){return M({key:_,output:null,decrypt:!1,mode:B})},d.aes.startDecrypting=function(_,B,D,T){var h=M({key:_,output:D,decrypt:!0,mode:T});return h.start(B),h},d.aes.createDecryptionCipher=function(_,B){return M({key:_,output:null,decrypt:!0,mode:B})},d.aes.Algorithm=function(_,B){p||C();var D=this;D.name=_,D.mode=new B({blockSize:16,cipher:{encrypt:function(T,h){return G(D._w,T,h,!1)},decrypt:function(T,h){return G(D._w,T,h,!0)}}}),D._init=!1},d.aes.Algorithm.prototype.initialize=function(_){if(!this._init){var D,B=_.key;if("string"!=typeof B||16!==B.length&&24!==B.length&&32!==B.length){if(d.util.isArray(B)&&(16===B.length||24===B.length||32===B.length)){D=B,B=d.util.createBuffer();for(var T=0;T<D.length;++T)B.putByte(D[T])}}else B=d.util.createBuffer(B);if(!d.util.isArray(B)){D=B,B=[];var h=D.length();if(16===h||24===h||32===h)for(h>>>=2,T=0;T<h;++T)B.push(D.getInt32())}if(!d.util.isArray(B)||4!==B.length&&6!==B.length&&8!==B.length)throw new Error("Invalid key parameter.");var A=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=O(B,_.decrypt&&!A),this._init=!0}},d.aes._expandKey=function(_,B){return p||C(),O(_,B)},d.aes._updateBlock=G,u("AES-ECB",d.cipher.modes.ecb),u("AES-CBC",d.cipher.modes.cbc),u("AES-CFB",d.cipher.modes.cfb),u("AES-OFB",d.cipher.modes.ofb),u("AES-CTR",d.cipher.modes.ctr),u("AES-GCM",d.cipher.modes.gcm);var w,P,b,E,f,p=!1,N=4;function C(){p=!0,b=[0,1,2,4,8,16,32,64,128,27,54];for(var _=new Array(256),B=0;B<128;++B)_[B]=B<<1,_[B+128]=B+128<<1^283;for(w=new Array(256),P=new Array(256),E=new Array(4),f=new Array(4),B=0;B<4;++B)E[B]=new Array(256),f[B]=new Array(256);var h,v,A,F,H,W,S,D=0,T=0;for(B=0;B<256;++B){w[D]=F=(F=T^T<<1^T<<2^T<<3^T<<4)>>8^255&F^99,P[F]=D,W=(H=_[F])<<24^F<<16^F<<8^F^H,S=((h=_[D])^(v=_[h])^(A=_[v]))<<24^(D^A)<<16^(D^v^A)<<8^D^h^A;for(var x=0;x<4;++x)E[x][D]=W,f[x][F]=S,W=W<<24|W>>>8,S=S<<24|S>>>8;0===D?D=T=1:(D=h^_[_[_[h^A]]],T^=_[_[T]])}}function O(_,B){for(var T,D=_.slice(0),h=1,v=D.length,F=N*(v+6+1),H=v;H<F;++H)T=D[H-1],H%v==0?(T=w[T>>>16&255]<<24^w[T>>>8&255]<<16^w[255&T]<<8^w[T>>>24]^b[h]<<24,h++):v>6&&H%v==4&&(T=w[T>>>24]<<24^w[T>>>16&255]<<16^w[T>>>8&255]<<8^w[255&T]),D[H]=D[H-v]^T;if(B){for(var W,S=f[0],x=f[1],V=f[2],c=f[3],j=D.slice(0),Q=(H=0,(F=D.length)-N);H<F;H+=N,Q-=N)if(0===H||H===F-N)j[H]=D[Q],j[H+1]=D[Q+3],j[H+2]=D[Q+2],j[H+3]=D[Q+1];else for(var $=0;$<N;++$)j[H+(3&-$)]=S[w[(W=D[Q+$])>>>24]]^x[w[W>>>16&255]]^V[w[W>>>8&255]]^c[w[255&W]];D=j}return D}function G(_,B,D,T){var v,A,F,H,W,S,x,V,c,j,Q,$,h=_.length/4-1;T?(v=f[0],A=f[1],F=f[2],H=f[3],W=P):(v=E[0],A=E[1],F=E[2],H=E[3],W=w),S=B[0]^_[0],x=B[T?3:1]^_[1],V=B[2]^_[2],c=B[T?1:3]^_[3];for(var te=3,ee=1;ee<h;++ee)j=v[S>>>24]^A[x>>>16&255]^F[V>>>8&255]^H[255&c]^_[++te],Q=v[x>>>24]^A[V>>>16&255]^F[c>>>8&255]^H[255&S]^_[++te],$=v[V>>>24]^A[c>>>16&255]^F[S>>>8&255]^H[255&x]^_[++te],c=v[c>>>24]^A[S>>>16&255]^F[x>>>8&255]^H[255&V]^_[++te],S=j,x=Q,V=$;D[0]=W[S>>>24]<<24^W[x>>>16&255]<<16^W[V>>>8&255]<<8^W[255&c]^_[++te],D[T?3:1]=W[x>>>24]<<24^W[V>>>16&255]<<16^W[c>>>8&255]<<8^W[255&S]^_[++te],D[2]=W[V>>>24]<<24^W[c>>>16&255]<<16^W[S>>>8&255]<<8^W[255&x]^_[++te],D[T?1:3]=W[c>>>24]<<24^W[S>>>16&255]<<16^W[x>>>8&255]<<8^W[255&V]^_[++te]}function M(_){var T,D="AES-"+((_=_||{}).mode||"CBC").toUpperCase(),h=(T=_.decrypt?d.cipher.createDecipher(D,_.key):d.cipher.createCipher(D,_.key)).start;return T.start=function(v,A){var F=null;A instanceof d.util.ByteBuffer&&(F=A,A={}),(A=A||{}).output=F,A.iv=v,h.call(T,A)},T}},683:(_e,tt,Y)=>{var d=Y(659);Y(298),Y(266);var u=_e.exports=d.tls;function p(f,C,O){var G=C.entity===d.tls.ConnectionEnd.client;f.read.cipherState={init:!1,cipher:d.cipher.createDecipher("AES-CBC",G?O.keys.server_write_key:O.keys.client_write_key),iv:G?O.keys.server_write_IV:O.keys.client_write_IV},f.write.cipherState={init:!1,cipher:d.cipher.createCipher("AES-CBC",G?O.keys.client_write_key:O.keys.server_write_key),iv:G?O.keys.client_write_IV:O.keys.server_write_IV},f.read.cipherFunction=b,f.write.cipherFunction=N,f.read.macLength=f.write.macLength=O.mac_length,f.read.macFunction=f.write.macFunction=u.hmac_sha1}function N(f,C){var M,O=!1,G=C.macFunction(C.macKey,C.sequenceNumber,f);f.fragment.putBytes(G),C.updateSequenceNumber(),M=f.version.minor===u.Versions.TLS_1_0.minor?C.cipherState.init?null:C.cipherState.iv:d.random.getBytesSync(16),C.cipherState.init=!0;var _=C.cipherState.cipher;return _.start({iv:M}),f.version.minor>=u.Versions.TLS_1_1.minor&&_.output.putBytes(M),_.update(f.fragment),_.finish(w)&&(f.fragment=_.output,f.length=f.fragment.length(),O=!0),O}function w(f,C,O){if(!O){var G=f-C.length()%f;C.fillWithByte(G-1,G)}return!0}function P(f,C,O){var G=!0;if(O){for(var M=C.length(),_=C.last(),B=M-1-_;B<M-1;++B)G=G&&C.at(B)==_;G&&C.truncate(_+1)}return G}function b(f,C){var G,O=!1;G=f.version.minor===u.Versions.TLS_1_0.minor?C.cipherState.init?null:C.cipherState.iv:f.fragment.getBytes(16),C.cipherState.init=!0;var M=C.cipherState.cipher;M.start({iv:G}),M.update(f.fragment),O=M.finish(P);var _=C.macLength,B=d.random.getBytesSync(_),D=M.output.length();D>=_?(f.fragment=M.output.getBytes(D-_),B=M.output.getBytes(_)):f.fragment=M.output.getBytes(),f.fragment=d.util.createBuffer(f.fragment),f.length=f.fragment.length();var T=C.macFunction(C.macKey,C.sequenceNumber,f);return C.updateSequenceNumber(),O=function E(f,C,O){var G=d.hmac.create();return G.start("SHA1",f),G.update(C),C=G.digest().getBytes(),G.start(null,null),G.update(O),C===(O=G.digest().getBytes())}(C.macKey,B,T)&&O,O}u.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=u.BulkCipherAlgorithm.aes,f.cipher_type=u.CipherType.block,f.enc_key_length=16,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=u.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:p},u.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=u.BulkCipherAlgorithm.aes,f.cipher_type=u.CipherType.block,f.enc_key_length=32,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=u.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:p}},877:(_e,tt,Y)=>{var d=Y(659);Y(791);var u=d.asn1;tt.privateKeyValidator={name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},tt.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},791:(_e,tt,Y)=>{var d=Y(659);Y(747),Y(78);var u=_e.exports=d.asn1=d.asn1||{};function p(b,E,f){if(f>E){var C=new Error("Too few bytes to parse DER.");throw C.available=b.length(),C.remaining=E,C.requested=f,C}}function w(b,E,f,C){var O;p(b,E,2);var G=b.getByte();E--;var M=192&G,_=31&G;O=b.length();var B=function(b,E){var f=b.getByte();if(E--,128!==f){var C;if(128&f){var G=127&f;p(b,E,G),C=b.getInt(G<<3)}else C=f;if(C<0)throw new Error("Negative length: "+C);return C}}(b,E);if(E-=O-b.length(),void 0!==B&&B>E){if(C.strict){var D=new Error("Too few bytes to read ASN.1 value.");throw D.available=b.length(),D.remaining=E,D.requested=B,D}B=E}var T,h,v=32==(32&G);if(v)if(T=[],void 0===B)for(;;){if(p(b,E,2),b.bytes(2)===String.fromCharCode(0,0)){b.getBytes(2),E-=2;break}O=b.length(),T.push(w(b,E,f+1,C)),E-=O-b.length()}else for(;B>0;)O=b.length(),T.push(w(b,B,f+1,C)),E-=O-b.length(),B-=O-b.length();if(void 0===T&&M===u.Class.UNIVERSAL&&_===u.Type.BITSTRING&&(h=b.bytes(B)),void 0===T&&C.decodeBitStrings&&M===u.Class.UNIVERSAL&&_===u.Type.BITSTRING&&B>1){var A=b.read,F=E,H=0;if(_===u.Type.BITSTRING&&(p(b,E,1),H=b.getByte(),E--),0===H)try{O=b.length();var S=w(b,E,f+1,{strict:!0,decodeBitStrings:!0}),x=O-b.length();E-=x,_==u.Type.BITSTRING&&x++;var V=S.tagClass;x===B&&(V===u.Class.UNIVERSAL||V===u.Class.CONTEXT_SPECIFIC)&&(T=[S])}catch{}void 0===T&&(b.read=A,E=F)}if(void 0===T){if(void 0===B){if(C.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");B=E}if(_===u.Type.BMPSTRING)for(T="";B>0;B-=2)p(b,E,2),T+=String.fromCharCode(b.getInt16()),E-=2;else T=b.getBytes(B),E-=B}return u.create(M,_,v,T,void 0===h?null:{bitStringContents:h})}u.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},u.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},u.create=function(b,E,f,C,O){if(d.util.isArray(C)){for(var G=[],M=0;M<C.length;++M)void 0!==C[M]&&G.push(C[M]);C=G}var _={tagClass:b,type:E,constructed:f,composed:f||d.util.isArray(C),value:C};return O&&"bitStringContents"in O&&(_.bitStringContents=O.bitStringContents,_.original=u.copy(_)),_},u.copy=function(b,E){var f;if(d.util.isArray(b)){f=[];for(var C=0;C<b.length;++C)f.push(u.copy(b[C],E));return f}return"string"==typeof b?b:(f={tagClass:b.tagClass,type:b.type,constructed:b.constructed,composed:b.composed,value:u.copy(b.value,E)},E&&!E.excludeBitStringContents&&(f.bitStringContents=b.bitStringContents),f)},u.equals=function(b,E,f){if(d.util.isArray(b)){if(!d.util.isArray(E)||b.length!==E.length)return!1;for(var C=0;C<b.length;++C)if(!u.equals(b[C],E[C]))return!1;return!0}if(typeof b!=typeof E)return!1;if("string"==typeof b)return b===E;var O=b.tagClass===E.tagClass&&b.type===E.type&&b.constructed===E.constructed&&b.composed===E.composed&&u.equals(b.value,E.value);return f&&f.includeBitStringContents&&(O=O&&b.bitStringContents===E.bitStringContents),O},u.getBerValueLength=function(b){var E=b.getByte();if(128!==E)return 128&E?b.getInt((127&E)<<3):E},u.fromDer=function(b,E){void 0===E&&(E={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof E&&(E={strict:E,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in E||(E.strict=!0),"parseAllBytes"in E||(E.parseAllBytes=!0),"decodeBitStrings"in E||(E.decodeBitStrings=!0),"string"==typeof b&&(b=d.util.createBuffer(b));var f=b.length(),C=w(b,b.length(),0,E);if(E.parseAllBytes&&0!==b.length()){var O=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw O.byteCount=f,O.remaining=b.length(),O}return C},u.toDer=function(b){var E=d.util.createBuffer(),f=b.tagClass|b.type,C=d.util.createBuffer(),O=!1;if("bitStringContents"in b&&(O=!0,b.original&&(O=u.equals(b,b.original))),O)C.putBytes(b.bitStringContents);else if(b.composed){b.constructed?f|=32:C.putByte(0);for(var G=0;G<b.value.length;++G)void 0!==b.value[G]&&C.putBuffer(u.toDer(b.value[G]))}else if(b.type===u.Type.BMPSTRING)for(G=0;G<b.value.length;++G)C.putInt16(b.value.charCodeAt(G));else b.type===u.Type.INTEGER&&b.value.length>1&&(0===b.value.charCodeAt(0)&&!(128&b.value.charCodeAt(1))||255===b.value.charCodeAt(0)&&128==(128&b.value.charCodeAt(1)))?C.putBytes(b.value.substr(1)):C.putBytes(b.value);if(E.putByte(f),C.length()<=127)E.putByte(127&C.length());else{var M=C.length(),_="";do{_+=String.fromCharCode(255&M),M>>>=8}while(M>0);for(E.putByte(128|_.length),G=_.length-1;G>=0;--G)E.putByte(_.charCodeAt(G))}return E.putBuffer(C),E},u.oidToDer=function(b){var E=b.split("."),f=d.util.createBuffer();f.putByte(40*parseInt(E[0],10)+parseInt(E[1],10));for(var C,O,G,M,_=2;_<E.length;++_){C=!0,O=[],G=parseInt(E[_],10);do{M=127&G,G>>>=7,C||(M|=128),O.push(M),C=!1}while(G>0);for(var B=O.length-1;B>=0;--B)f.putByte(O[B])}return f},u.derToOid=function(b){var E;"string"==typeof b&&(b=d.util.createBuffer(b));var f=b.getByte();E=Math.floor(f/40)+"."+f%40;for(var C=0;b.length()>0;)C<<=7,128&(f=b.getByte())?C+=127&f:(E+="."+(C+f),C=0);return E},u.utcTimeToDate=function(b){var E=new Date,f=parseInt(b.substr(0,2),10);f=f>=50?1900+f:2e3+f;var C=parseInt(b.substr(2,2),10)-1,O=parseInt(b.substr(4,2),10),G=parseInt(b.substr(6,2),10),M=parseInt(b.substr(8,2),10),_=0;if(b.length>11){var B=b.charAt(10),D=10;"+"!==B&&"-"!==B&&(_=parseInt(b.substr(10,2),10),D+=2)}if(E.setUTCFullYear(f,C,O),E.setUTCHours(G,M,_,0),D&&("+"===(B=b.charAt(D))||"-"===B)){var v=60*parseInt(b.substr(D+1,2),10)+parseInt(b.substr(D+4,2),10);v*=6e4,E.setTime("+"===B?+E-v:+E+v)}return E},u.generalizedTimeToDate=function(b){var E=new Date,f=parseInt(b.substr(0,4),10),C=parseInt(b.substr(4,2),10)-1,O=parseInt(b.substr(6,2),10),G=parseInt(b.substr(8,2),10),M=parseInt(b.substr(10,2),10),_=parseInt(b.substr(12,2),10),B=0,D=0,T=!1;"Z"===b.charAt(b.length-1)&&(T=!0);var h=b.length-5,v=b.charAt(h);return"+"!==v&&"-"!==v||(D=60*parseInt(b.substr(h+1,2),10)+parseInt(b.substr(h+4,2),10),D*=6e4,"+"===v&&(D*=-1),T=!0),"."===b.charAt(14)&&(B=1e3*parseFloat(b.substr(14),10)),T?(E.setUTCFullYear(f,C,O),E.setUTCHours(G,M,_,B),E.setTime(+E+D)):(E.setFullYear(f,C,O),E.setHours(G,M,_,B)),E},u.dateToUtcTime=function(b){if("string"==typeof b)return b;var E="",f=[];f.push((""+b.getUTCFullYear()).substr(2)),f.push(""+(b.getUTCMonth()+1)),f.push(""+b.getUTCDate()),f.push(""+b.getUTCHours()),f.push(""+b.getUTCMinutes()),f.push(""+b.getUTCSeconds());for(var C=0;C<f.length;++C)f[C].length<2&&(E+="0"),E+=f[C];return E+"Z"},u.dateToGeneralizedTime=function(b){if("string"==typeof b)return b;var E="",f=[];f.push(""+b.getUTCFullYear()),f.push(""+(b.getUTCMonth()+1)),f.push(""+b.getUTCDate()),f.push(""+b.getUTCHours()),f.push(""+b.getUTCMinutes()),f.push(""+b.getUTCSeconds());for(var C=0;C<f.length;++C)f[C].length<2&&(E+="0"),E+=f[C];return E+"Z"},u.integerToDer=function(b){var E=d.util.createBuffer();if(b>=-128&&b<128)return E.putSignedInt(b,8);if(b>=-32768&&b<32768)return E.putSignedInt(b,16);if(b>=-8388608&&b<8388608)return E.putSignedInt(b,24);if(b>=-2147483648&&b<2147483648)return E.putSignedInt(b,32);var f=new Error("Integer too large; max is 32-bits.");throw f.integer=b,f},u.derToInteger=function(b){"string"==typeof b&&(b=d.util.createBuffer(b));var E=8*b.length();if(E>32)throw new Error("Integer too large; max is 32-bits.");return b.getSignedInt(E)},u.validate=function(b,E,f,C){var O=!1;if((b.tagClass===E.tagClass||typeof E.tagClass>"u")&&(b.type===E.type||typeof E.type>"u"))if(b.constructed===E.constructed||typeof E.constructed>"u"){if(O=!0,E.value&&d.util.isArray(E.value))for(var G=0,M=0;O&&M<E.value.length;++M)O=E.value[M].optional||!1,b.value[G]&&((O=u.validate(b.value[G],E.value[M],f,C))?++G:E.value[M].optional&&(O=!0)),!O&&C&&C.push("["+E.name+'] Tag class "'+E.tagClass+'", type "'+E.type+'" expected value length "'+E.value.length+'", got "'+b.value.length+'"');if(O&&f&&(E.capture&&(f[E.capture]=b.value),E.captureAsn1&&(f[E.captureAsn1]=b),E.captureBitStringContents&&"bitStringContents"in b&&(f[E.captureBitStringContents]=b.bitStringContents),E.captureBitStringValue&&"bitStringContents"in b))if(b.bitStringContents.length<2)f[E.captureBitStringValue]="";else{if(0!==b.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");f[E.captureBitStringValue]=b.bitStringContents.slice(1)}}else C&&C.push("["+E.name+'] Expected constructed "'+E.constructed+'", got "'+b.constructed+'"');else C&&(b.tagClass!==E.tagClass&&C.push("["+E.name+'] Expected tag class "'+E.tagClass+'", got "'+b.tagClass+'"'),b.type!==E.type&&C.push("["+E.name+'] Expected type "'+E.type+'", got "'+b.type+'"'));return O};var P=/[^\\u0000-\\u00ff]/;u.prettyPrint=function(b,E,f){var C="";f=f||2,(E=E||0)>0&&(C+="\n");for(var O="",G=0;G<E*f;++G)O+=" ";switch(C+=O+"Tag: ",b.tagClass){case u.Class.UNIVERSAL:C+="Universal:";break;case u.Class.APPLICATION:C+="Application:";break;case u.Class.CONTEXT_SPECIFIC:C+="Context-Specific:";break;case u.Class.PRIVATE:C+="Private:"}if(b.tagClass===u.Class.UNIVERSAL)switch(C+=b.type,b.type){case u.Type.NONE:C+=" (None)";break;case u.Type.BOOLEAN:C+=" (Boolean)";break;case u.Type.INTEGER:C+=" (Integer)";break;case u.Type.BITSTRING:C+=" (Bit string)";break;case u.Type.OCTETSTRING:C+=" (Octet string)";break;case u.Type.NULL:C+=" (Null)";break;case u.Type.OID:C+=" (Object Identifier)";break;case u.Type.ODESC:C+=" (Object Descriptor)";break;case u.Type.EXTERNAL:C+=" (External or Instance of)";break;case u.Type.REAL:C+=" (Real)";break;case u.Type.ENUMERATED:C+=" (Enumerated)";break;case u.Type.EMBEDDED:C+=" (Embedded PDV)";break;case u.Type.UTF8:C+=" (UTF8)";break;case u.Type.ROID:C+=" (Relative Object Identifier)";break;case u.Type.SEQUENCE:C+=" (Sequence)";break;case u.Type.SET:C+=" (Set)";break;case u.Type.PRINTABLESTRING:C+=" (Printable String)";break;case u.Type.IA5String:C+=" (IA5String (ASCII))";break;case u.Type.UTCTIME:C+=" (UTC time)";break;case u.Type.GENERALIZEDTIME:C+=" (Generalized time)";break;case u.Type.BMPSTRING:C+=" (BMP String)"}else C+=b.type;if(C+="\n",C+=O+"Constructed: "+b.constructed+"\n",b.composed){var M=0,_="";for(G=0;G<b.value.length;++G)void 0!==b.value[G]&&(M+=1,_+=u.prettyPrint(b.value[G],E+1,f),G+1<b.value.length&&(_+=","));C+=O+"Sub values: "+M+_}else{if(C+=O+"Value: ",b.type===u.Type.OID){var B=u.derToOid(b.value);C+=B,d.pki&&d.pki.oids&&B in d.pki.oids&&(C+=" ("+d.pki.oids[B]+") ")}if(b.type===u.Type.INTEGER)try{C+=u.derToInteger(b.value)}catch{C+="0x"+d.util.bytesToHex(b.value)}else if(b.type===u.Type.BITSTRING){if(C+=b.value.length>1?"0x"+d.util.bytesToHex(b.value.slice(1)):"(none)",b.value.length>0){var D=b.value.charCodeAt(0);1==D?C+=" (1 unused bit shown)":D>1&&(C+=" ("+D+" unused bits shown)")}}else if(b.type===u.Type.OCTETSTRING)P.test(b.value)||(C+="("+b.value+") "),C+="0x"+d.util.bytesToHex(b.value);else if(b.type===u.Type.UTF8)try{C+=d.util.decodeUtf8(b.value)}catch(T){if("URI malformed"!==T.message)throw T;C+="0x"+d.util.bytesToHex(b.value)+" (malformed UTF8)"}else b.type===u.Type.PRINTABLESTRING||b.type===u.Type.IA5String?C+=b.value:P.test(b.value)?C+="0x"+d.util.bytesToHex(b.value):C+=0===b.value.length?"[null]":b.value}return C}},20:_e=>{var tt={};_e.exports=tt;var Y={};tt.encode=function(u,p,N){if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');if(void 0!==N&&"number"!=typeof N)throw new TypeError('"maxline" must be a number.');var w="";if(u instanceof Uint8Array){var P=0,b=p.length,E=p.charAt(0),f=[0];for(P=0;P<u.length;++P){for(var C=0,O=u[P];C<f.length;++C)f[C]=(O+=f[C]<<8)%b,O=O/b|0;for(;O>0;)f.push(O%b),O=O/b|0}for(P=0;0===u[P]&&P<u.length-1;++P)w+=E;for(P=f.length-1;P>=0;--P)w+=p[f[P]]}else w=function d(u,p){var N=0,w=p.length,P=p.charAt(0),b=[0];for(N=0;N<u.length();++N){for(var E=0,f=u.at(N);E<b.length;++E)b[E]=(f+=b[E]<<8)%w,f=f/w|0;for(;f>0;)b.push(f%w),f=f/w|0}var C="";for(N=0;0===u.at(N)&&N<u.length()-1;++N)C+=P;for(N=b.length-1;N>=0;--N)C+=p[b[N]];return C}(u,p);if(N){var G=new RegExp(".{1,"+N+"}","g");w=w.match(G).join("\r\n")}return w},tt.decode=function(u,p){if("string"!=typeof u)throw new TypeError('"input" must be a string.');if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');var N=Y[p];if(!N){N=Y[p]=[];for(var w=0;w<p.length;++w)N[p.charCodeAt(w)]=w}u=u.replace(/\s/g,"");var P=p.length,b=p.charAt(0),E=[0];for(w=0;w<u.length;w++){var f=N[u.charCodeAt(w)];if(void 0===f)return;for(var C=0,O=f;C<E.length;++C)E[C]=255&(O+=E[C]*P),O>>=8;for(;O>0;)E.push(255&O),O>>=8}for(var G=0;u[G]===b&&G<u.length-1;++G)E.push(0);return typeof Buffer<"u"?Buffer.from(E.reverse()):new Uint8Array(E.reverse())}},311:(_e,tt,Y)=>{var d=Y(659);Y(747),_e.exports=d.cipher=d.cipher||{},d.cipher.algorithms=d.cipher.algorithms||{},d.cipher.createCipher=function(p,N){var w=p;if("string"==typeof w&&(w=d.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+p);return new d.cipher.BlockCipher({algorithm:w,key:N,decrypt:!1})},d.cipher.createDecipher=function(p,N){var w=p;if("string"==typeof w&&(w=d.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+p);return new d.cipher.BlockCipher({algorithm:w,key:N,decrypt:!0})},d.cipher.registerAlgorithm=function(p,N){p=p.toUpperCase(),d.cipher.algorithms[p]=N},d.cipher.getAlgorithm=function(p){return(p=p.toUpperCase())in d.cipher.algorithms?d.cipher.algorithms[p]:null};var u=d.cipher.BlockCipher=function(p){this.algorithm=p.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=p.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=p.decrypt,this.algorithm.initialize(p)};u.prototype.start=function(p){p=p||{};var N={};for(var w in p)N[w]=p[w];N.decrypt=this._decrypt,this._finish=!1,this._input=d.util.createBuffer(),this.output=p.output||d.util.createBuffer(),this.mode.start(N)},u.prototype.update=function(p){for(p&&this._input.putBuffer(p);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},u.prototype.finish=function(p){p&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(w){return p(this.blockSize,w,!1)},this.mode.unpad=function(w){return p(this.blockSize,w,!0)});var N={};return N.decrypt=this._decrypt,N.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,N)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,N))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,N))}},481:(_e,tt,Y)=>{var d=Y(659);Y(747),d.cipher=d.cipher||{};var u=_e.exports=d.cipher.modes=d.cipher.modes||{};function p(P,b){if("string"==typeof P&&(P=d.util.createBuffer(P)),d.util.isArray(P)&&P.length>4){var E=P;P=d.util.createBuffer();for(var f=0;f<E.length;++f)P.putByte(E[f])}if(P.length()<b)throw new Error("Invalid IV length; got "+P.length()+" bytes and expected "+b+" bytes.");if(!d.util.isArray(P)){var C=[],O=b/4;for(f=0;f<O;++f)C.push(P.getInt32());P=C}return P}function N(P){P[P.length-1]=P[P.length-1]+1&4294967295}function w(P){return[P/4294967296|0,4294967295&P]}u.ecb=function(P){P=P||{},this.name="ECB",this.cipher=P.cipher,this.blockSize=P.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},u.ecb.prototype.start=function(P){},u.ecb.prototype.encrypt=function(P,b,E){if(P.length()<this.blockSize&&!(E&&P.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=P.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._outBlock[f])},u.ecb.prototype.decrypt=function(P,b,E){if(P.length()<this.blockSize&&!(E&&P.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=P.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._outBlock[f])},u.ecb.prototype.pad=function(P,b){var E=P.length()===this.blockSize?this.blockSize:this.blockSize-P.length();return P.fillWithByte(E,E),!0},u.ecb.prototype.unpad=function(P,b){if(b.overflow>0)return!1;var E=P.length(),f=P.at(E-1);return!(f>this.blockSize<<2||(P.truncate(f),0))},u.cbc=function(P){P=P||{},this.name="CBC",this.cipher=P.cipher,this.blockSize=P.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},u.cbc.prototype.start=function(P){if(null===P.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in P))throw new Error("Invalid IV parameter.");this._iv=p(P.iv,this.blockSize),this._prev=this._iv.slice(0)}},u.cbc.prototype.encrypt=function(P,b,E){if(P.length()<this.blockSize&&!(E&&P.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=this._prev[f]^P.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._outBlock[f]);this._prev=this._outBlock},u.cbc.prototype.decrypt=function(P,b,E){if(P.length()<this.blockSize&&!(E&&P.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=P.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._prev[f]^this._outBlock[f]);this._prev=this._inBlock.slice(0)},u.cbc.prototype.pad=function(P,b){var E=P.length()===this.blockSize?this.blockSize:this.blockSize-P.length();return P.fillWithByte(E,E),!0},u.cbc.prototype.unpad=function(P,b){if(b.overflow>0)return!1;var E=P.length(),f=P.at(E-1);return!(f>this.blockSize<<2||(P.truncate(f),0))},u.cfb=function(P){P=P||{},this.name="CFB",this.cipher=P.cipher,this.blockSize=P.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0},u.cfb.prototype.start=function(P){if(!("iv"in P))throw new Error("Invalid IV parameter.");this._iv=p(P.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},u.cfb.prototype.encrypt=function(P,b,E){var f=P.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)this._inBlock[C]=P.getInt32()^this._outBlock[C],b.putInt32(this._inBlock[C]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialBlock[C]=P.getInt32()^this._outBlock[C],this._partialOutput.putInt32(this._partialBlock[C]);if(O>0)P.read-=this.blockSize;else for(C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!E)return b.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},u.cfb.prototype.decrypt=function(P,b,E){var f=P.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)this._inBlock[C]=P.getInt32(),b.putInt32(this._inBlock[C]^this._outBlock[C]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialBlock[C]=P.getInt32(),this._partialOutput.putInt32(this._partialBlock[C]^this._outBlock[C]);if(O>0)P.read-=this.blockSize;else for(C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!E)return b.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},u.ofb=function(P){P=P||{},this.name="OFB",this.cipher=P.cipher,this.blockSize=P.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0},u.ofb.prototype.start=function(P){if(!("iv"in P))throw new Error("Invalid IV parameter.");this._iv=p(P.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},u.ofb.prototype.encrypt=function(P,b,E){var f=P.length();if(0===P.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)b.putInt32(P.getInt32()^this._outBlock[C]),this._inBlock[C]=this._outBlock[C];else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialOutput.putInt32(P.getInt32()^this._outBlock[C]);if(O>0)P.read-=this.blockSize;else for(C=0;C<this._ints;++C)this._inBlock[C]=this._outBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!E)return b.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},u.ofb.prototype.decrypt=u.ofb.prototype.encrypt,u.ctr=function(P){P=P||{},this.name="CTR",this.cipher=P.cipher,this.blockSize=P.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0},u.ctr.prototype.start=function(P){if(!("iv"in P))throw new Error("Invalid IV parameter.");this._iv=p(P.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},u.ctr.prototype.encrypt=function(P,b,E){var f=P.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)b.putInt32(P.getInt32()^this._outBlock[C]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialOutput.putInt32(P.getInt32()^this._outBlock[C]);if(O>0&&(P.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!E)return b.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}N(this._inBlock)},u.ctr.prototype.decrypt=u.ctr.prototype.encrypt,u.gcm=function(P){P=P||{},this.name="GCM",this.cipher=P.cipher,this.blockSize=P.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0,this._R=3774873600},u.gcm.prototype.start=function(P){if(!("iv"in P))throw new Error("Invalid IV parameter.");var E,b=d.util.createBuffer(P.iv);if(this._cipherLength=0,E="additionalData"in P?d.util.createBuffer(P.additionalData):d.util.createBuffer(),this._tagLength="tagLength"in P?P.tagLength:128,this._tag=null,P.decrypt&&(this._tag=d.util.createBuffer(P.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var f=b.length();if(12===f)this._j0=[b.getInt32(),b.getInt32(),b.getInt32(),1];else{for(this._j0=[0,0,0,0];b.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[b.getInt32(),b.getInt32(),b.getInt32(),b.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(w(8*f)))}this._inBlock=this._j0.slice(0),N(this._inBlock),this._partialBytes=0,E=d.util.createBuffer(E),this._aDataLength=w(8*E.length());var C=E.length()%this.blockSize;for(C&&E.fillWithByte(0,this.blockSize-C),this._s=[0,0,0,0];E.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[E.getInt32(),E.getInt32(),E.getInt32(),E.getInt32()])},u.gcm.prototype.encrypt=function(P,b,E){var f=P.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize){for(var C=0;C<this._ints;++C)b.putInt32(this._outBlock[C]^=P.getInt32());this._cipherLength+=this.blockSize}else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialOutput.putInt32(P.getInt32()^this._outBlock[C]);if(O<=0||E){if(E){var G=f%this.blockSize;this._cipherLength+=G,this._partialOutput.truncate(this.blockSize-G)}else this._cipherLength+=this.blockSize;for(C=0;C<this._ints;++C)this._outBlock[C]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!E)return P.read-=this.blockSize,b.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),N(this._inBlock)},u.gcm.prototype.decrypt=function(P,b,E){var f=P.length();if(f<this.blockSize&&!(E&&f>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),N(this._inBlock),this._hashBlock[0]=P.getInt32(),this._hashBlock[1]=P.getInt32(),this._hashBlock[2]=P.getInt32(),this._hashBlock[3]=P.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var C=0;C<this._ints;++C)b.putInt32(this._outBlock[C]^this._hashBlock[C]);this._cipherLength+=f<this.blockSize?f%this.blockSize:this.blockSize},u.gcm.prototype.afterFinish=function(P,b){var E=!0;b.decrypt&&b.overflow&&P.truncate(this.blockSize-b.overflow),this.tag=d.util.createBuffer();var f=this._aDataLength.concat(w(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,f);var C=[];this.cipher.encrypt(this._j0,C);for(var O=0;O<this._ints;++O)this.tag.putInt32(this._s[O]^C[O]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),b.decrypt&&this.tag.bytes()!==this._tag&&(E=!1),E},u.gcm.prototype.multiply=function(P,b){for(var E=[0,0,0,0],f=b.slice(0),C=0;C<128;++C)P[C/32|0]&1<<31-C%32&&(E[0]^=f[0],E[1]^=f[1],E[2]^=f[2],E[3]^=f[3]),this.pow(f,f);return E},u.gcm.prototype.pow=function(P,b){for(var E=1&P[3],f=3;f>0;--f)b[f]=P[f]>>>1|(1&P[f-1])<<31;b[0]=P[0]>>>1,E&&(b[0]^=this._R)},u.gcm.prototype.tableMultiply=function(P){for(var b=[0,0,0,0],E=0;E<32;++E){var O=this._m[E][P[E/8|0]>>>4*(7-E%8)&15];b[0]^=O[0],b[1]^=O[1],b[2]^=O[2],b[3]^=O[3]}return b},u.gcm.prototype.ghash=function(P,b,E){return b[0]^=E[0],b[1]^=E[1],b[2]^=E[2],b[3]^=E[3],this.tableMultiply(b)},u.gcm.prototype.generateHashTable=function(P,b){for(var E=8/b,f=4*E,C=16*E,O=new Array(C),G=0;G<C;++G){var M=[0,0,0,0];M[G/f|0]=1<<b-1<<(f-1-G%f)*b,O[G]=this.generateSubHashTable(this.multiply(M,P),b)}return O},u.gcm.prototype.generateSubHashTable=function(P,b){var E=1<<b,f=E>>>1,C=new Array(E);C[f]=P.slice(0);for(var O=f>>>1;O>0;)this.pow(C[2*O],C[O]=[]),O>>=1;for(O=2;O<f;){for(var G=1;G<O;++G){var M=C[O],_=C[G];C[O+G]=[M[0]^_[0],M[1]^_[1],M[2]^_[2],M[3]^_[3]]}O*=2}for(C[0]=[0,0,0,0],O=f+1;O<E;++O){var B=C[O^f];C[O]=[P[0]^B[0],P[1]^B[1],P[2]^B[2],P[3]^B[3]]}return C}},279:(_e,tt,Y)=>{var d=Y(659);function u(_,B){d.cipher.registerAlgorithm(_,function(){return new d.des.Algorithm(_,B)})}Y(311),Y(481),Y(747),_e.exports=d.des=d.des||{},d.des.startEncrypting=function(_,B,D,T){var h=M({key:_,output:D,decrypt:!1,mode:T||(null===B?"ECB":"CBC")});return h.start(B),h},d.des.createEncryptionCipher=function(_,B){return M({key:_,output:null,decrypt:!1,mode:B})},d.des.startDecrypting=function(_,B,D,T){var h=M({key:_,output:D,decrypt:!0,mode:T||(null===B?"ECB":"CBC")});return h.start(B),h},d.des.createDecryptionCipher=function(_,B){return M({key:_,output:null,decrypt:!0,mode:B})},d.des.Algorithm=function(_,B){var D=this;D.name=_,D.mode=new B({blockSize:8,cipher:{encrypt:function(T,h){return G(D._keys,T,h,!1)},decrypt:function(T,h){return G(D._keys,T,h,!0)}}}),D._init=!1},d.des.Algorithm.prototype.initialize=function(_){if(!this._init){var B=d.util.createBuffer(_.key);if(0===this.name.indexOf("3DES")&&24!==B.length())throw new Error("Invalid Triple-DES key size: "+8*B.length());this._keys=function O(_){for(var ne,B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],D=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],T=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],h=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],v=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],A=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],F=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],H=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],W=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],S=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],x=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],V=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],c=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],j=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Q=_.length()>8?3:1,$=[],te=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],ee=0,de=0;de<Q;de++){var pe=_.getInt32(),ye=_.getInt32();pe^=(ne=252645135&(pe>>>4^ye))<<4,pe^=ne=65535&((ye^=ne)>>>-16^pe),pe^=(ne=858993459&(pe>>>2^(ye^=ne<<-16)))<<2,pe^=ne=65535&((ye^=ne)>>>-16^pe),pe^=(ne=1431655765&(pe>>>1^(ye^=ne<<-16)))<<1,pe^=ne=16711935&((ye^=ne)>>>8^pe),ne=(pe^=(ne=1431655765&(pe>>>1^(ye^=ne<<8)))<<1)<<8|(ye^=ne)>>>20&240,pe=ye<<24|ye<<8&16711680|ye>>>8&65280|ye>>>24&240,ye=ne;for(var be=0;be<te.length;++be){te[be]?(pe=pe<<2|pe>>>26,ye=ye<<2|ye>>>26):(pe=pe<<1|pe>>>27,ye=ye<<1|ye>>>27);var Le=B[(pe&=-15)>>>28]|D[pe>>>24&15]|T[pe>>>20&15]|h[pe>>>16&15]|v[pe>>>12&15]|A[pe>>>8&15]|F[pe>>>4&15],rt=H[(ye&=-15)>>>28]|W[ye>>>24&15]|S[ye>>>20&15]|x[ye>>>16&15]|V[ye>>>12&15]|c[ye>>>8&15]|j[ye>>>4&15];$[ee++]=Le^(ne=65535&(rt>>>16^Le)),$[ee++]=rt^ne<<16}}return $}(B),this._init=!0}},u("DES-ECB",d.cipher.modes.ecb),u("DES-CBC",d.cipher.modes.cbc),u("DES-CFB",d.cipher.modes.cfb),u("DES-OFB",d.cipher.modes.ofb),u("DES-CTR",d.cipher.modes.ctr),u("3DES-ECB",d.cipher.modes.ecb),u("3DES-CBC",d.cipher.modes.cbc),u("3DES-CFB",d.cipher.modes.cfb),u("3DES-OFB",d.cipher.modes.ofb),u("3DES-CTR",d.cipher.modes.ctr);var p=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],N=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],w=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],P=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],b=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],E=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],C=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function G(_,B,D,T){var v,h=32===_.length?3:9;v=3===h?T?[30,-2,-2]:[0,32,2]:T?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var A,F=B[0],H=B[1];F^=(A=252645135&(F>>>4^H))<<4,F^=(A=65535&(F>>>16^(H^=A)))<<16,F^=A=858993459&((H^=A)>>>2^F),F^=A=16711935&((H^=A<<2)>>>8^F),F=(F^=(A=1431655765&(F>>>1^(H^=A<<8)))<<1)<<1|F>>>31,H=(H^=A)<<1|H>>>31;for(var W=0;W<h;W+=3){for(var S=v[W+1],x=v[W+2],V=v[W];V!=S;V+=x){var c=H^_[V],j=(H>>>4|H<<28)^_[V+1];A=F,F=H,H=A^(N[c>>>24&63]|P[c>>>16&63]|E[c>>>8&63]|C[63&c]|p[j>>>24&63]|w[j>>>16&63]|b[j>>>8&63]|f[63&j])}A=F,F=H,H=A}H=H>>>1|H<<31,H^=A=1431655765&((F=F>>>1|F<<31)>>>1^H),H^=(A=16711935&(H>>>8^(F^=A<<1)))<<8,H^=(A=858993459&(H>>>2^(F^=A)))<<2,H^=A=65535&((F^=A)>>>16^H),H^=A=252645135&((F^=A<<16)>>>4^H),D[0]=F^=A<<4,D[1]=H}function M(_){var T,D="DES-"+((_=_||{}).mode||"CBC").toUpperCase(),h=(T=_.decrypt?d.cipher.createDecipher(D,_.key):d.cipher.createCipher(D,_.key)).start;return T.start=function(v,A){var F=null;A instanceof d.util.ByteBuffer&&(F=A,A={}),(A=A||{}).output=F,A.iv=v,h.call(T,A)},T}},187:(_e,tt,Y)=>{var d=Y(659);Y(730),Y(365),Y(985),Y(747);var u=Y(877),p=u.publicKeyValidator,N=u.privateKeyValidator;if(typeof w>"u")var w=d.jsbn.BigInteger;var P=d.util.ByteBuffer,b=typeof Buffer>"u"?Uint8Array:Buffer;d.pki=d.pki||{},_e.exports=d.pki.ed25519=d.ed25519=d.ed25519||{};var E=d.ed25519;function f(ae){var oe=ae.message;if(oe instanceof Uint8Array||oe instanceof b)return oe;var y=ae.encoding;if(void 0===oe){if(!ae.md)throw new TypeError('"options.message" or "options.md" not specified.');oe=ae.md.digest().getBytes(),y="binary"}if("string"==typeof oe&&!y)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof oe){if(typeof Buffer<"u")return Buffer.from(oe,y);oe=new P(oe,y)}else if(!(oe instanceof P))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var m=new b(oe.length()),k=0;k<m.length;++k)m[k]=oe.at(k);return m}E.constants={},E.constants.PUBLIC_KEY_BYTE_LENGTH=32,E.constants.PRIVATE_KEY_BYTE_LENGTH=64,E.constants.SEED_BYTE_LENGTH=32,E.constants.SIGN_BYTE_LENGTH=64,E.constants.HASH_BYTE_LENGTH=64,E.generateKeyPair=function(ae){var oe=(ae=ae||{}).seed;if(void 0===oe)oe=d.random.getBytesSync(E.constants.SEED_BYTE_LENGTH);else if("string"==typeof oe){if(oe.length!==E.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+E.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(oe instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');oe=f({message:oe,encoding:"binary"});for(var y=new b(E.constants.PUBLIC_KEY_BYTE_LENGTH),m=new b(E.constants.PRIVATE_KEY_BYTE_LENGTH),k=0;k<32;++k)m[k]=oe[k];return function v(ae,oe){var m,y=[Ce(),Ce(),Ce(),Ce()],k=h(oe,32);for(k[0]&=248,k[31]&=127,k[31]|=64,ye(y,k),V(ae,y),m=0;m<32;++m)oe[m+32]=ae[m]}(y,m),{publicKey:y,privateKey:m}},E.privateKeyFromAsn1=function(ae){var oe={},y=[];if(!d.asn1.validate(ae,N,oe,y)){var k=new Error("Invalid Key.");throw k.errors=y,k}var q=d.asn1.derToOid(oe.privateKeyOid),J=d.oids.EdDSA25519;if(q!==J)throw new Error('Invalid OID "'+q+'"; OID must be "'+J+'".');return{privateKeyBytes:f({message:d.asn1.fromDer(oe.privateKey).value,encoding:"binary"})}},E.publicKeyFromAsn1=function(ae){var oe={},y=[];if(!d.asn1.validate(ae,p,oe,y)){var k=new Error("Invalid Key.");throw k.errors=y,k}var q=d.asn1.derToOid(oe.publicKeyOid),J=d.oids.EdDSA25519;if(q!==J)throw new Error('Invalid OID "'+q+'"; OID must be "'+J+'".');var ue=oe.ed25519PublicKey;if(ue.length!==E.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return f({message:ue,encoding:"binary"})},E.publicKeyFromPrivateKey=function(ae){var oe=f({message:(ae=ae||{}).privateKey,encoding:"binary"});if(oe.length!==E.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+E.constants.PRIVATE_KEY_BYTE_LENGTH);for(var y=new b(E.constants.PUBLIC_KEY_BYTE_LENGTH),m=0;m<y.length;++m)y[m]=oe[32+m];return y},E.sign=function(ae){var oe=f(ae=ae||{}),y=f({message:ae.privateKey,encoding:"binary"});if(y.length===E.constants.SEED_BYTE_LENGTH)y=E.generateKeyPair({seed:y}).privateKey;else if(y.length!==E.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+E.constants.SEED_BYTE_LENGTH+" or "+E.constants.PRIVATE_KEY_BYTE_LENGTH);var k=new b(E.constants.SIGN_BYTE_LENGTH+oe.length);!function A(ae,oe,y,m){var k,q,J=new Float64Array(64),ue=[Ce(),Ce(),Ce(),Ce()],Z=h(m,32);Z[0]&=248,Z[31]&=127,Z[31]|=64;var De=y+64;for(k=0;k<y;++k)ae[64+k]=oe[k];for(k=0;k<32;++k)ae[32+k]=Z[32+k];var je=h(ae.subarray(32),y+32);for(W(je),ye(ue,je),V(ae,ue),k=32;k<64;++k)ae[k]=m[k];var ze=h(ae,y+64);for(W(ze),k=32;k<64;++k)J[k]=0;for(k=0;k<32;++k)J[k]=je[k];for(k=0;k<32;++k)for(q=0;q<32;q++)J[k+q]+=ze[k]*Z[q];H(ae.subarray(32),J)}(k,oe,oe.length,y);for(var q=new b(E.constants.SIGN_BYTE_LENGTH),J=0;J<q.length;++J)q[J]=k[J];return q},E.verify=function(ae){var oe=f(ae=ae||{});if(void 0===ae.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var y=f({message:ae.signature,encoding:"binary"});if(y.length!==E.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+E.constants.SIGN_BYTE_LENGTH);var m=f({message:ae.publicKey,encoding:"binary"});if(m.length!==E.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+E.constants.PUBLIC_KEY_BYTE_LENGTH);var J,k=new b(E.constants.SIGN_BYTE_LENGTH+oe.length),q=new b(E.constants.SIGN_BYTE_LENGTH+oe.length);for(J=0;J<E.constants.SIGN_BYTE_LENGTH;++J)k[J]=y[J];for(J=0;J<oe.length;++J)k[J+E.constants.SIGN_BYTE_LENGTH]=oe[J];return function F(ae,oe,y,m){var k,J=new b(32),ue=[Ce(),Ce(),Ce(),Ce()],Z=[Ce(),Ce(),Ce(),Ce()];if(-1,y<64||function j(ae,oe){var y=Ce(),m=Ce(),k=Ce(),q=Ce(),J=Ce(),ue=Ce(),Z=Ce();return be(ae[2],O),function Q(ae,oe){var y;for(y=0;y<16;++y)ae[y]=oe[2*y]+(oe[2*y+1]<<8);ae[15]&=32767}(ae[1],oe),vt(k,ae[1]),Oe(q,k,G),we(k,k,ae[2]),Ye(q,ae[2],q),vt(J,q),vt(ue,J),Oe(Z,ue,J),Oe(y,Z,k),Oe(y,y,q),function $(ae,oe){var m,y=Ce();for(m=0;m<16;++m)y[m]=oe[m];for(m=250;m>=0;--m)vt(y,y),1!==m&&Oe(y,y,oe);for(m=0;m<16;++m)ae[m]=y[m]}(y,y),Oe(y,y,k),Oe(y,y,q),Oe(y,y,q),Oe(ae[0],y,q),vt(m,ae[0]),Oe(m,m,q),te(m,k)&&Oe(ae[0],ae[0],T),vt(m,ae[0]),Oe(m,m,q),te(m,k)?-1:(de(ae[0])===oe[31]>>7&&we(ae[0],C,ae[0]),Oe(ae[3],ae[0],ae[1]),0)}(Z,m))return-1;for(k=0;k<y;++k)ae[k]=oe[k];for(k=0;k<32;++k)ae[k+32]=m[k];var De=h(ae,y);if(W(De),pe(ue,Z,De),ye(Z,oe.subarray(32)),S(ue,Z),V(J,ue),y-=64,ee(oe,0,J,0)){for(k=0;k<y;++k)ae[k]=0;return-1}for(k=0;k<y;++k)ae[k]=oe[k+64];return y}(q,k,k.length,m)>=0};var C=Ce(),O=Ce([1]),G=Ce([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),M=Ce([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=Ce([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),B=Ce([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),T=Ce([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(ae,oe){var y=d.md.sha512.create(),m=new P(ae);y.update(m.getBytes(oe),"binary");var k=y.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(k,"binary");for(var q=new b(E.constants.HASH_BYTE_LENGTH),J=0;J<64;++J)q[J]=k.charCodeAt(J);return q}function H(ae,oe){var y,m,k,q;for(m=63;m>=32;--m){for(y=0,k=m-32,q=m-12;k<q;++k)oe[k]+=y-16*oe[m]*D[k-(m-32)],oe[k]-=256*(y=oe[k]+128>>8);oe[k]+=y,oe[m]=0}for(y=0,k=0;k<32;++k)oe[k]+=y-(oe[31]>>4)*D[k],y=oe[k]>>8,oe[k]&=255;for(k=0;k<32;++k)oe[k]-=y*D[k];for(m=0;m<32;++m)oe[m+1]+=oe[m]>>8,ae[m]=255&oe[m]}function W(ae){for(var oe=new Float64Array(64),y=0;y<64;++y)oe[y]=ae[y],ae[y]=0;H(ae,oe)}function S(ae,oe){var y=Ce(),m=Ce(),k=Ce(),q=Ce(),J=Ce(),ue=Ce(),Z=Ce(),De=Ce(),je=Ce();we(y,ae[1],ae[0]),we(je,oe[1],oe[0]),Oe(y,y,je),Ye(m,ae[0],ae[1]),Ye(je,oe[0],oe[1]),Oe(m,m,je),Oe(k,ae[3],oe[3]),Oe(k,k,M),Oe(q,ae[2],oe[2]),Ye(q,q,q),we(J,m,y),we(ue,q,k),Ye(Z,q,k),Ye(De,m,y),Oe(ae[0],J,ue),Oe(ae[1],De,Z),Oe(ae[2],Z,ue),Oe(ae[3],J,De)}function x(ae,oe,y){for(var m=0;m<4;++m)We(ae[m],oe[m],y)}function V(ae,oe){var y=Ce(),m=Ce(),k=Ce();(function Le(ae,oe){var m,y=Ce();for(m=0;m<16;++m)y[m]=oe[m];for(m=253;m>=0;--m)vt(y,y),2!==m&&4!==m&&Oe(y,y,oe);for(m=0;m<16;++m)ae[m]=y[m]})(k,oe[2]),Oe(y,oe[0],k),Oe(m,oe[1],k),c(ae,m),ae[31]^=de(y)<<7}function c(ae,oe){var y,m,k,q=Ce(),J=Ce();for(y=0;y<16;++y)J[y]=oe[y];for(rt(J),rt(J),rt(J),m=0;m<2;++m){for(q[0]=J[0]-65517,y=1;y<15;++y)q[y]=J[y]-65535-(q[y-1]>>16&1),q[y-1]&=65535;q[15]=J[15]-32767-(q[14]>>16&1),k=q[15]>>16&1,q[14]&=65535,We(J,q,1-k)}for(y=0;y<16;y++)ae[2*y]=255&J[y],ae[2*y+1]=J[y]>>8}function te(ae,oe){var y=new b(32),m=new b(32);return c(y,ae),c(m,oe),ee(y,0,m,0)}function ee(ae,oe,y,m){return function ne(ae,oe,y,m,k){var q,J=0;for(q=0;q<k;++q)J|=ae[oe+q]^y[m+q];return(1&J-1>>>8)-1}(ae,oe,y,m,32)}function de(ae){var oe=new b(32);return c(oe,ae),1&oe[0]}function pe(ae,oe,y){var m,k;for(be(ae[0],C),be(ae[1],O),be(ae[2],O),be(ae[3],C),k=255;k>=0;--k)x(ae,oe,m=y[k/8|0]>>(7&k)&1),S(oe,ae),S(ae,ae),x(ae,oe,m)}function ye(ae,oe){var y=[Ce(),Ce(),Ce(),Ce()];be(y[0],_),be(y[1],B),be(y[2],O),Oe(y[3],_,B),pe(ae,y,oe)}function be(ae,oe){var y;for(y=0;y<16;y++)ae[y]=0|oe[y]}function rt(ae){var oe,y,m=1;for(oe=0;oe<16;++oe)y=ae[oe]+m+65535,m=Math.floor(y/65536),ae[oe]=y-65536*m;ae[0]+=m-1+37*(m-1)}function We(ae,oe,y){for(var m,k=~(y-1),q=0;q<16;++q)ae[q]^=m=k&(ae[q]^oe[q]),oe[q]^=m}function Ce(ae){var oe,y=new Float64Array(16);if(ae)for(oe=0;oe<ae.length;++oe)y[oe]=ae[oe];return y}function Ye(ae,oe,y){for(var m=0;m<16;++m)ae[m]=oe[m]+y[m]}function we(ae,oe,y){for(var m=0;m<16;++m)ae[m]=oe[m]-y[m]}function vt(ae,oe){Oe(ae,oe,oe)}function Oe(ae,oe,y){var m,k,q=0,J=0,ue=0,Z=0,De=0,je=0,ze=0,ge=0,Be=0,Xe=0,ft=0,it=0,Pt=0,Lt=0,Bt=0,St=0,tn=0,In=0,nn=0,Mn=0,xn=0,Gn=0,Kn=0,gr=0,Ar=0,Ur=0,Ir=0,Vr=0,oi=0,xi=0,Gi=0,rn=y[0],Gt=y[1],Kt=y[2],Wt=y[3],qt=y[4],It=y[5],on=y[6],sn=y[7],an=y[8],un=y[9],Qt=y[10],ln=y[11],cn=y[12],wt=y[13],Ot=y[14],pt=y[15];q+=(m=oe[0])*rn,J+=m*Gt,ue+=m*Kt,Z+=m*Wt,De+=m*qt,je+=m*It,ze+=m*on,ge+=m*sn,Be+=m*an,Xe+=m*un,ft+=m*Qt,it+=m*ln,Pt+=m*cn,Lt+=m*wt,Bt+=m*Ot,St+=m*pt,J+=(m=oe[1])*rn,ue+=m*Gt,Z+=m*Kt,De+=m*Wt,je+=m*qt,ze+=m*It,ge+=m*on,Be+=m*sn,Xe+=m*an,ft+=m*un,it+=m*Qt,Pt+=m*ln,Lt+=m*cn,Bt+=m*wt,St+=m*Ot,tn+=m*pt,ue+=(m=oe[2])*rn,Z+=m*Gt,De+=m*Kt,je+=m*Wt,ze+=m*qt,ge+=m*It,Be+=m*on,Xe+=m*sn,ft+=m*an,it+=m*un,Pt+=m*Qt,Lt+=m*ln,Bt+=m*cn,St+=m*wt,tn+=m*Ot,In+=m*pt,Z+=(m=oe[3])*rn,De+=m*Gt,je+=m*Kt,ze+=m*Wt,ge+=m*qt,Be+=m*It,Xe+=m*on,ft+=m*sn,it+=m*an,Pt+=m*un,Lt+=m*Qt,Bt+=m*ln,St+=m*cn,tn+=m*wt,In+=m*Ot,nn+=m*pt,De+=(m=oe[4])*rn,je+=m*Gt,ze+=m*Kt,ge+=m*Wt,Be+=m*qt,Xe+=m*It,ft+=m*on,it+=m*sn,Pt+=m*an,Lt+=m*un,Bt+=m*Qt,St+=m*ln,tn+=m*cn,In+=m*wt,nn+=m*Ot,Mn+=m*pt,je+=(m=oe[5])*rn,ze+=m*Gt,ge+=m*Kt,Be+=m*Wt,Xe+=m*qt,ft+=m*It,it+=m*on,Pt+=m*sn,Lt+=m*an,Bt+=m*un,St+=m*Qt,tn+=m*ln,In+=m*cn,nn+=m*wt,Mn+=m*Ot,xn+=m*pt,ze+=(m=oe[6])*rn,ge+=m*Gt,Be+=m*Kt,Xe+=m*Wt,ft+=m*qt,it+=m*It,Pt+=m*on,Lt+=m*sn,Bt+=m*an,St+=m*un,tn+=m*Qt,In+=m*ln,nn+=m*cn,Mn+=m*wt,xn+=m*Ot,Gn+=m*pt,ge+=(m=oe[7])*rn,Be+=m*Gt,Xe+=m*Kt,ft+=m*Wt,it+=m*qt,Pt+=m*It,Lt+=m*on,Bt+=m*sn,St+=m*an,tn+=m*un,In+=m*Qt,nn+=m*ln,Mn+=m*cn,xn+=m*wt,Gn+=m*Ot,Kn+=m*pt,Be+=(m=oe[8])*rn,Xe+=m*Gt,ft+=m*Kt,it+=m*Wt,Pt+=m*qt,Lt+=m*It,Bt+=m*on,St+=m*sn,tn+=m*an,In+=m*un,nn+=m*Qt,Mn+=m*ln,xn+=m*cn,Gn+=m*wt,Kn+=m*Ot,gr+=m*pt,Xe+=(m=oe[9])*rn,ft+=m*Gt,it+=m*Kt,Pt+=m*Wt,Lt+=m*qt,Bt+=m*It,St+=m*on,tn+=m*sn,In+=m*an,nn+=m*un,Mn+=m*Qt,xn+=m*ln,Gn+=m*cn,Kn+=m*wt,gr+=m*Ot,Ar+=m*pt,ft+=(m=oe[10])*rn,it+=m*Gt,Pt+=m*Kt,Lt+=m*Wt,Bt+=m*qt,St+=m*It,tn+=m*on,In+=m*sn,nn+=m*an,Mn+=m*un,xn+=m*Qt,Gn+=m*ln,Kn+=m*cn,gr+=m*wt,Ar+=m*Ot,Ur+=m*pt,it+=(m=oe[11])*rn,Pt+=m*Gt,Lt+=m*Kt,Bt+=m*Wt,St+=m*qt,tn+=m*It,In+=m*on,nn+=m*sn,Mn+=m*an,xn+=m*un,Gn+=m*Qt,Kn+=m*ln,gr+=m*cn,Ar+=m*wt,Ur+=m*Ot,Ir+=m*pt,Pt+=(m=oe[12])*rn,Lt+=m*Gt,Bt+=m*Kt,St+=m*Wt,tn+=m*qt,In+=m*It,nn+=m*on,Mn+=m*sn,xn+=m*an,Gn+=m*un,Kn+=m*Qt,gr+=m*ln,Ar+=m*cn,Ur+=m*wt,Ir+=m*Ot,Vr+=m*pt,Lt+=(m=oe[13])*rn,Bt+=m*Gt,St+=m*Kt,tn+=m*Wt,In+=m*qt,nn+=m*It,Mn+=m*on,xn+=m*sn,Gn+=m*an,Kn+=m*un,gr+=m*Qt,Ar+=m*ln,Ur+=m*cn,Ir+=m*wt,Vr+=m*Ot,oi+=m*pt,Bt+=(m=oe[14])*rn,St+=m*Gt,tn+=m*Kt,In+=m*Wt,nn+=m*qt,Mn+=m*It,xn+=m*on,Gn+=m*sn,Kn+=m*an,gr+=m*un,Ar+=m*Qt,Ur+=m*ln,Ir+=m*cn,Vr+=m*wt,oi+=m*Ot,xi+=m*pt,St+=(m=oe[15])*rn,J+=38*(In+=m*Kt),ue+=38*(nn+=m*Wt),Z+=38*(Mn+=m*qt),De+=38*(xn+=m*It),je+=38*(Gn+=m*on),ze+=38*(Kn+=m*sn),ge+=38*(gr+=m*an),Be+=38*(Ar+=m*un),Xe+=38*(Ur+=m*Qt),ft+=38*(Ir+=m*ln),it+=38*(Vr+=m*cn),Pt+=38*(oi+=m*wt),Lt+=38*(xi+=m*Ot),Bt+=38*(Gi+=m*pt),q=(m=(q+=38*(tn+=m*Gt))+(k=1)+65535)-65536*(k=Math.floor(m/65536)),J=(m=J+k+65535)-65536*(k=Math.floor(m/65536)),ue=(m=ue+k+65535)-65536*(k=Math.floor(m/65536)),Z=(m=Z+k+65535)-65536*(k=Math.floor(m/65536)),De=(m=De+k+65535)-65536*(k=Math.floor(m/65536)),je=(m=je+k+65535)-65536*(k=Math.floor(m/65536)),ze=(m=ze+k+65535)-65536*(k=Math.floor(m/65536)),ge=(m=ge+k+65535)-65536*(k=Math.floor(m/65536)),Be=(m=Be+k+65535)-65536*(k=Math.floor(m/65536)),Xe=(m=Xe+k+65535)-65536*(k=Math.floor(m/65536)),ft=(m=ft+k+65535)-65536*(k=Math.floor(m/65536)),it=(m=it+k+65535)-65536*(k=Math.floor(m/65536)),Pt=(m=Pt+k+65535)-65536*(k=Math.floor(m/65536)),Lt=(m=Lt+k+65535)-65536*(k=Math.floor(m/65536)),Bt=(m=Bt+k+65535)-65536*(k=Math.floor(m/65536)),St=(m=St+k+65535)-65536*(k=Math.floor(m/65536)),q=(m=(q+=k-1+37*(k-1))+(k=1)+65535)-65536*(k=Math.floor(m/65536)),J=(m=J+k+65535)-65536*(k=Math.floor(m/65536)),ue=(m=ue+k+65535)-65536*(k=Math.floor(m/65536)),Z=(m=Z+k+65535)-65536*(k=Math.floor(m/65536)),De=(m=De+k+65535)-65536*(k=Math.floor(m/65536)),je=(m=je+k+65535)-65536*(k=Math.floor(m/65536)),ze=(m=ze+k+65535)-65536*(k=Math.floor(m/65536)),ge=(m=ge+k+65535)-65536*(k=Math.floor(m/65536)),Be=(m=Be+k+65535)-65536*(k=Math.floor(m/65536)),Xe=(m=Xe+k+65535)-65536*(k=Math.floor(m/65536)),ft=(m=ft+k+65535)-65536*(k=Math.floor(m/65536)),it=(m=it+k+65535)-65536*(k=Math.floor(m/65536)),Pt=(m=Pt+k+65535)-65536*(k=Math.floor(m/65536)),Lt=(m=Lt+k+65535)-65536*(k=Math.floor(m/65536)),Bt=(m=Bt+k+65535)-65536*(k=Math.floor(m/65536)),St=(m=St+k+65535)-65536*(k=Math.floor(m/65536)),ae[0]=q+=k-1+37*(k-1),ae[1]=J,ae[2]=ue,ae[3]=Z,ae[4]=De,ae[5]=je,ae[6]=ze,ae[7]=ge,ae[8]=Be,ae[9]=Xe,ae[10]=ft,ae[11]=it,ae[12]=Pt,ae[13]=Lt,ae[14]=Bt,ae[15]=St}},659:_e=>{_e.exports={options:{usePureJavaScript:!1}}},32:(_e,tt,Y)=>{var d=Y(659);Y(979),Y(747),(_e.exports=d.hmac=d.hmac||{}).create=function(){var p=null,N=null,w=null,P=null,b={start:function(E,f){if(null!==E)if("string"==typeof E){if(!((E=E.toLowerCase())in d.md.algorithms))throw new Error('Unknown hash algorithm "'+E+'"');N=d.md.algorithms[E].create()}else N=E;if(null===f)f=p;else{if("string"==typeof f)f=d.util.createBuffer(f);else if(d.util.isArray(f)){var C=f;f=d.util.createBuffer();for(var O=0;O<C.length;++O)f.putByte(C[O])}var G=f.length();for(G>N.blockLength&&(N.start(),N.update(f.bytes()),f=N.digest()),w=d.util.createBuffer(),P=d.util.createBuffer(),G=f.length(),O=0;O<G;++O)C=f.at(O),w.putByte(54^C),P.putByte(92^C);if(G<N.blockLength)for(C=N.blockLength-G,O=0;O<C;++O)w.putByte(54),P.putByte(92);p=f,w=w.bytes(),P=P.bytes()}N.start(),N.update(w)},update:function(E){N.update(E)},getMac:function(){var E=N.digest().bytes();return N.start(),N.update(P),N.update(E),N.digest()}};return b.digest=b.getMac,b}},592:(_e,tt,Y)=>{_e.exports=Y(659),Y(298),Y(683),Y(791),Y(311),Y(279),Y(187),Y(32),Y(196),Y(113),Y(752),Y(449),Y(949),Y(604),Y(246),Y(562),Y(422),Y(965),Y(709),Y(473),Y(256),Y(365),Y(209),Y(15),Y(266),Y(747)},730:(_e,tt,Y)=>{var u,d=Y(659);function w(R,U,z){this.data=[],null!=R&&("number"==typeof R?this.fromNumber(R,U,z):this.fromString(R,null==U&&"string"!=typeof R?256:U))}function P(){return new w(null)}function f(R,U,z,re,ve,he){for(var Re=16383&U,Ie=U>>14;--he>=0;){var Dt=16383&this.data[R],fn=this.data[R++]>>14,Pn=Ie*Dt+fn*Re;ve=((Dt=Re*Dt+((16383&Pn)<<14)+z.data[re]+ve)>>28)+(Pn>>14)+Ie*fn,z.data[re++]=268435455&Dt}return ve}_e.exports=d.jsbn=d.jsbn||{},d.jsbn.BigInteger=w,typeof navigator>"u"?(w.prototype.am=f,u=28):"Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function E(R,U,z,re,ve,he){for(var Re=32767&U,Ie=U>>15;--he>=0;){var Dt=32767&this.data[R],fn=this.data[R++]>>15,Pn=Ie*Dt+fn*Re;ve=((Dt=Re*Dt+((32767&Pn)<<15)+z.data[re]+(1073741823&ve))>>>30)+(Pn>>>15)+Ie*fn+(ve>>>30),z.data[re++]=1073741823&Dt}return ve},u=30):"Netscape"!=navigator.appName?(w.prototype.am=function b(R,U,z,re,ve,he){for(;--he>=0;){var Re=U*this.data[R++]+z.data[re]+ve;ve=Math.floor(Re/67108864),z.data[re++]=67108863&Re}return ve},u=26):(w.prototype.am=f,u=28),w.prototype.DB=u,w.prototype.DM=(1<<u)-1,w.prototype.DV=1<<u,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-u,w.prototype.F2=2*u-52;var M,_,G=new Array;for(M="0".charCodeAt(0),_=0;_<=9;++_)G[M++]=_;for(M="a".charCodeAt(0),_=10;_<36;++_)G[M++]=_;for(M="A".charCodeAt(0),_=10;_<36;++_)G[M++]=_;function B(R){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(R)}function D(R,U){return G[R.charCodeAt(U)]??-1}function v(R){var U=P();return U.fromInt(R),U}function V(R){var z,U=1;return 0!=(z=R>>>16)&&(R=z,U+=16),0!=(z=R>>8)&&(R=z,U+=8),0!=(z=R>>4)&&(R=z,U+=4),0!=(z=R>>2)&&(R=z,U+=2),0!=(z=R>>1)&&(R=z,U+=1),U}function be(R){this.m=R}function vt(R){this.m=R,this.mp=R.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<R.DB-15)-1,this.mt2=2*R.t}function tn(R,U){return R&U}function nn(R,U){return R|U}function xn(R,U){return R^U}function Kn(R,U){return R&~U}function Vr(R){if(0==R)return-1;var U=0;return 65535&R||(R>>=16,U+=16),255&R||(R>>=8,U+=8),15&R||(R>>=4,U+=4),3&R||(R>>=2,U+=2),1&R||++U,U}function xi(R){for(var U=0;0!=R;)R&=R-1,++U;return U}function Ot(){}function pt(R){return R}function Hr(R){this.r2=P(),this.q3=P(),w.ONE.dlShiftTo(2*R.t,this.r2),this.mu=this.r2.divide(R),this.m=R}be.prototype.convert=function Le(R){return R.s<0||R.compareTo(this.m)>=0?R.mod(this.m):R},be.prototype.revert=function rt(R){return R},be.prototype.reduce=function We(R){R.divRemTo(this.m,null,R)},be.prototype.mulTo=function Ce(R,U,z){R.multiplyTo(U,z),this.reduce(z)},be.prototype.sqrTo=function Ye(R,U){R.squareTo(U),this.reduce(U)},vt.prototype.convert=function Oe(R){var U=P();return R.abs().dlShiftTo(this.m.t,U),U.divRemTo(this.m,null,U),R.s<0&&U.compareTo(w.ZERO)>0&&this.m.subTo(U,U),U},vt.prototype.revert=function ae(R){var U=P();return R.copyTo(U),this.reduce(U),U},vt.prototype.reduce=function oe(R){for(;R.t<=this.mt2;)R.data[R.t++]=0;for(var U=0;U<this.m.t;++U){var z=32767&R.data[U],re=z*this.mpl+((z*this.mph+(R.data[U]>>15)*this.mpl&this.um)<<15)&R.DM;for(R.data[z=U+this.m.t]+=this.m.am(0,re,R,U,0,this.m.t);R.data[z]>=R.DV;)R.data[z]-=R.DV,R.data[++z]++}R.clamp(),R.drShiftTo(this.m.t,R),R.compareTo(this.m)>=0&&R.subTo(this.m,R)},vt.prototype.mulTo=function m(R,U,z){R.multiplyTo(U,z),this.reduce(z)},vt.prototype.sqrTo=function y(R,U){R.squareTo(U),this.reduce(U)},w.prototype.copyTo=function T(R){for(var U=this.t-1;U>=0;--U)R.data[U]=this.data[U];R.t=this.t,R.s=this.s},w.prototype.fromInt=function h(R){this.t=1,this.s=R<0?-1:0,R>0?this.data[0]=R:R<-1?this.data[0]=R+this.DV:this.t=0},w.prototype.fromString=function A(R,U){var z;if(16==U)z=4;else if(8==U)z=3;else if(256==U)z=8;else if(2==U)z=1;else if(32==U)z=5;else{if(4!=U)return void this.fromRadix(R,U);z=2}this.t=0,this.s=0;for(var re=R.length,ve=!1,he=0;--re>=0;){var Re=8==z?255&R[re]:D(R,re);Re<0?"-"==R.charAt(re)&&(ve=!0):(ve=!1,0==he?this.data[this.t++]=Re:he+z>this.DB?(this.data[this.t-1]|=(Re&(1<<this.DB-he)-1)<<he,this.data[this.t++]=Re>>this.DB-he):this.data[this.t-1]|=Re<<he,(he+=z)>=this.DB&&(he-=this.DB))}8==z&&128&R[0]&&(this.s=-1,he>0&&(this.data[this.t-1]|=(1<<this.DB-he)-1<<he)),this.clamp(),ve&&w.ZERO.subTo(this,this)},w.prototype.clamp=function F(){for(var R=this.s&this.DM;this.t>0&&this.data[this.t-1]==R;)--this.t},w.prototype.dlShiftTo=function j(R,U){var z;for(z=this.t-1;z>=0;--z)U.data[z+R]=this.data[z];for(z=R-1;z>=0;--z)U.data[z]=0;U.t=this.t+R,U.s=this.s},w.prototype.drShiftTo=function Q(R,U){for(var z=R;z<this.t;++z)U.data[z-R]=this.data[z];U.t=Math.max(this.t-R,0),U.s=this.s},w.prototype.lShiftTo=function $(R,U){var Ie,z=R%this.DB,re=this.DB-z,ve=(1<<re)-1,he=Math.floor(R/this.DB),Re=this.s<<z&this.DM;for(Ie=this.t-1;Ie>=0;--Ie)U.data[Ie+he+1]=this.data[Ie]>>re|Re,Re=(this.data[Ie]&ve)<<z;for(Ie=he-1;Ie>=0;--Ie)U.data[Ie]=0;U.data[he]=Re,U.t=this.t+he+1,U.s=this.s,U.clamp()},w.prototype.rShiftTo=function te(R,U){U.s=this.s;var z=Math.floor(R/this.DB);if(z>=this.t)U.t=0;else{var re=R%this.DB,ve=this.DB-re,he=(1<<re)-1;U.data[0]=this.data[z]>>re;for(var Re=z+1;Re<this.t;++Re)U.data[Re-z-1]|=(this.data[Re]&he)<<ve,U.data[Re-z]=this.data[Re]>>re;re>0&&(U.data[this.t-z-1]|=(this.s&he)<<ve),U.t=this.t-z,U.clamp()}},w.prototype.subTo=function ee(R,U){for(var z=0,re=0,ve=Math.min(R.t,this.t);z<ve;)re+=this.data[z]-R.data[z],U.data[z++]=re&this.DM,re>>=this.DB;if(R.t<this.t){for(re-=R.s;z<this.t;)re+=this.data[z],U.data[z++]=re&this.DM,re>>=this.DB;re+=this.s}else{for(re+=this.s;z<R.t;)re-=R.data[z],U.data[z++]=re&this.DM,re>>=this.DB;re-=R.s}U.s=re<0?-1:0,re<-1?U.data[z++]=this.DV+re:re>0&&(U.data[z++]=re),U.t=z,U.clamp()},w.prototype.multiplyTo=function ne(R,U){var z=this.abs(),re=R.abs(),ve=z.t;for(U.t=ve+re.t;--ve>=0;)U.data[ve]=0;for(ve=0;ve<re.t;++ve)U.data[ve+z.t]=z.am(0,re.data[ve],U,ve,0,z.t);U.s=0,U.clamp(),this.s!=R.s&&w.ZERO.subTo(U,U)},w.prototype.squareTo=function de(R){for(var U=this.abs(),z=R.t=2*U.t;--z>=0;)R.data[z]=0;for(z=0;z<U.t-1;++z){var re=U.am(z,U.data[z],R,2*z,0,1);(R.data[z+U.t]+=U.am(z+1,2*U.data[z],R,2*z+1,re,U.t-z-1))>=U.DV&&(R.data[z+U.t]-=U.DV,R.data[z+U.t+1]=1)}R.t>0&&(R.data[R.t-1]+=U.am(z,U.data[z],R,2*z,0,1)),R.s=0,R.clamp()},w.prototype.divRemTo=function pe(R,U,z){var re=R.abs();if(!(re.t<=0)){var ve=this.abs();if(ve.t<re.t)return U?.fromInt(0),void(null!=z&&this.copyTo(z));null==z&&(z=P());var he=P(),Re=this.s,Ie=R.s,Dt=this.DB-V(re.data[re.t-1]);Dt>0?(re.lShiftTo(Dt,he),ve.lShiftTo(Dt,z)):(re.copyTo(he),ve.copyTo(z));var fn=he.t,Pn=he.data[fn-1];if(0!=Pn){var $e=Pn*(1<<this.F1)+(fn>1?he.data[fn-2]>>this.F2:0),or=this.FV/$e,wi=(1<<this.F1)/$e,yr=1<<this.F2,qn=z.t,xe=qn-fn,sr=U??P();for(he.dlShiftTo(xe,sr),z.compareTo(sr)>=0&&(z.data[z.t++]=1,z.subTo(sr,z)),w.ONE.dlShiftTo(fn,sr),sr.subTo(he,he);he.t<fn;)he.data[he.t++]=0;for(;--xe>=0;){var Ze=z.data[--qn]==Pn?this.DM:Math.floor(z.data[qn]*or+(z.data[qn-1]+yr)*wi);if((z.data[qn]+=he.am(0,Ze,z,xe,0,fn))<Ze)for(he.dlShiftTo(xe,sr),z.subTo(sr,z);z.data[qn]<--Ze;)z.subTo(sr,z)}null!=U&&(z.drShiftTo(fn,U),Re!=Ie&&w.ZERO.subTo(U,U)),z.t=fn,z.clamp(),Dt>0&&z.rShiftTo(Dt,z),Re<0&&w.ZERO.subTo(z,z)}}},w.prototype.invDigit=function we(){if(this.t<1)return 0;var R=this.data[0];if(!(1&R))return 0;var U=3&R;return(U=(U=(U=(U=U*(2-(15&R)*U)&15)*(2-(255&R)*U)&255)*(2-((65535&R)*U&65535))&65535)*(2-R*U%this.DV)%this.DV)>0?this.DV-U:-U},w.prototype.isEven=function k(){return 0==(this.t>0?1&this.data[0]:this.s)},w.prototype.exp=function q(R,U){if(R>4294967295||R<1)return w.ONE;var z=P(),re=P(),ve=U.convert(this),he=V(R)-1;for(ve.copyTo(z);--he>=0;)if(U.sqrTo(z,re),(R&1<<he)>0)U.mulTo(re,ve,z);else{var Re=z;z=re,re=Re}return U.revert(z)},w.prototype.toString=function H(R){if(this.s<0)return"-"+this.negate().toString(R);var U;if(16==R)U=4;else if(8==R)U=3;else if(2==R)U=1;else if(32==R)U=5;else{if(4!=R)return this.toRadix(R);U=2}var re,z=(1<<U)-1,ve=!1,he="",Re=this.t,Ie=this.DB-Re*this.DB%U;if(Re-- >0)for(Ie<this.DB&&(re=this.data[Re]>>Ie)>0&&(ve=!0,he=B(re));Re>=0;)Ie<U?(re=(this.data[Re]&(1<<Ie)-1)<<U-Ie,re|=this.data[--Re]>>(Ie+=this.DB-U)):(re=this.data[Re]>>(Ie-=U)&z,Ie<=0&&(Ie+=this.DB,--Re)),re>0&&(ve=!0),ve&&(he+=B(re));return ve?he:"0"},w.prototype.negate=function W(){var R=P();return w.ZERO.subTo(this,R),R},w.prototype.abs=function S(){return this.s<0?this.negate():this},w.prototype.compareTo=function x(R){var U=this.s-R.s;if(0!=U)return U;var z=this.t;if(0!=(U=z-R.t))return this.s<0?-U:U;for(;--z>=0;)if(0!=(U=this.data[z]-R.data[z]))return U;return 0},w.prototype.bitLength=function c(){return this.t<=0?0:this.DB*(this.t-1)+V(this.data[this.t-1]^this.s&this.DM)},w.prototype.mod=function ye(R){var U=P();return this.abs().divRemTo(R,null,U),this.s<0&&U.compareTo(w.ZERO)>0&&R.subTo(U,U),U},w.prototype.modPowInt=function J(R,U){var z;return z=R<256||U.isEven()?new be(U):new vt(U),this.exp(R,z)},w.ZERO=v(0),w.ONE=v(1),Ot.prototype.convert=pt,Ot.prototype.revert=pt,Ot.prototype.mulTo=function _i(R,U,z){R.multiplyTo(U,z)},Ot.prototype.sqrTo=function mr(R,U){R.squareTo(U)},Hr.prototype.convert=function ec(R){if(R.s<0||R.t>2*this.m.t)return R.mod(this.m);if(R.compareTo(this.m)<0)return R;var U=P();return R.copyTo(U),this.reduce(U),U},Hr.prototype.revert=function Ki(R){return R},Hr.prototype.reduce=function tc(R){for(R.drShiftTo(this.m.t-1,this.r2),R.t>this.m.t+1&&(R.t=this.m.t+1,R.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);R.compareTo(this.r2)<0;)R.dAddOffset(1,this.m.t+1);for(R.subTo(this.r2,R);R.compareTo(this.m)>=0;)R.subTo(this.m,R)},Hr.prototype.mulTo=function ja(R,U,z){R.multiplyTo(U,z),this.reduce(z)},Hr.prototype.sqrTo=function Ha(R,U){R.squareTo(U),this.reduce(U)};var Wn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],sc=(1<<26)/Wn[Wn.length-1];w.prototype.chunkSize=function ze(R){return Math.floor(Math.LN2*this.DB/Math.log(R))},w.prototype.toRadix=function Be(R){if(null==R&&(R=10),0==this.signum()||R<2||R>36)return"0";var U=this.chunkSize(R),z=Math.pow(R,U),re=v(z),ve=P(),he=P(),Re="";for(this.divRemTo(re,ve,he);ve.signum()>0;)Re=(z+he.intValue()).toString(R).substr(1)+Re,ve.divRemTo(re,ve,he);return he.intValue().toString(R)+Re},w.prototype.fromRadix=function Xe(R,U){this.fromInt(0),null==U&&(U=10);for(var z=this.chunkSize(U),re=Math.pow(U,z),ve=!1,he=0,Re=0,Ie=0;Ie<R.length;++Ie){var Dt=D(R,Ie);Dt<0?"-"==R.charAt(Ie)&&0==this.signum()&&(ve=!0):(Re=U*Re+Dt,++he>=z&&(this.dMultiply(re),this.dAddOffset(Re,0),he=0,Re=0))}he>0&&(this.dMultiply(Math.pow(U,he)),this.dAddOffset(Re,0)),ve&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function ft(R,U,z){if("number"==typeof U)if(R<2)this.fromInt(1);else for(this.fromNumber(R,z),this.testBit(R-1)||this.bitwiseTo(w.ONE.shiftLeft(R-1),nn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(U);)this.dAddOffset(2,0),this.bitLength()>R&&this.subTo(w.ONE.shiftLeft(R-1),this);else{var re=new Array,ve=7&R;re.length=1+(R>>3),U.nextBytes(re),ve>0?re[0]&=(1<<ve)-1:re[0]=0,this.fromString(re,256)}},w.prototype.bitwiseTo=function St(R,U,z){var re,ve,he=Math.min(R.t,this.t);for(re=0;re<he;++re)z.data[re]=U(this.data[re],R.data[re]);if(R.t<this.t){for(ve=R.s&this.DM,re=he;re<this.t;++re)z.data[re]=U(this.data[re],ve);z.t=this.t}else{for(ve=this.s&this.DM,re=he;re<R.t;++re)z.data[re]=U(ve,R.data[re]);z.t=R.t}z.s=U(this.s,R.s),z.clamp()},w.prototype.changeBit=function Gt(R,U){var z=w.ONE.shiftLeft(R);return this.bitwiseTo(z,U,z),z},w.prototype.addTo=function It(R,U){for(var z=0,re=0,ve=Math.min(R.t,this.t);z<ve;)re+=this.data[z]+R.data[z],U.data[z++]=re&this.DM,re>>=this.DB;if(R.t<this.t){for(re+=R.s;z<this.t;)re+=this.data[z],U.data[z++]=re&this.DM,re>>=this.DB;re+=this.s}else{for(re+=this.s;z<R.t;)re+=R.data[z],U.data[z++]=re&this.DM,re>>=this.DB;re+=R.s}U.s=re<0?-1:0,re>0?U.data[z++]=re:re<-1&&(U.data[z++]=this.DV+re),U.t=z,U.clamp()},w.prototype.dMultiply=function cn(R){this.data[this.t]=this.am(0,R-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function wt(R,U){if(0!=R){for(;this.t<=U;)this.data[this.t++]=0;for(this.data[U]+=R;this.data[U]>=this.DV;)this.data[U]-=this.DV,++U>=this.t&&(this.data[this.t++]=0),++this.data[U]}},w.prototype.multiplyLowerTo=function Zl(R,U,z){var ve,re=Math.min(this.t+R.t,U);for(z.s=0,z.t=re;re>0;)z.data[--re]=0;for(ve=z.t-this.t;re<ve;++re)z.data[re+this.t]=this.am(0,R.data[re],z,re,0,this.t);for(ve=Math.min(R.t,U);re<ve;++re)this.am(0,R.data[re],z,re,0,U-re);z.clamp()},w.prototype.multiplyUpperTo=function Jl(R,U,z){--U;var re=z.t=this.t+R.t-U;for(z.s=0;--re>=0;)z.data[re]=0;for(re=Math.max(U-this.t,0);re<R.t;++re)z.data[this.t+re-U]=this.am(U-re,R.data[re],z,0,0,this.t+re-U);z.clamp(),z.drShiftTo(1,z)},w.prototype.modInt=function ic(R){if(R<=0)return 0;var U=this.DV%R,z=this.s<0?R-1:0;if(this.t>0)if(0==U)z=this.data[0]%R;else for(var re=this.t-1;re>=0;--re)z=(U*z+this.data[re])%R;return z},w.prototype.millerRabin=function dn(R){var U=this.subtract(w.ONE),z=U.getLowestSetBit();if(z<=0)return!1;for(var he,re=U.shiftRight(z),ve=function uc(){return{nextBytes:function(R){for(var U=0;U<R.length;++U)R[U]=Math.floor(256*Math.random())}}}(),Re=0;Re<R;++Re){do{he=new w(this.bitLength(),ve)}while(he.compareTo(w.ONE)<=0||he.compareTo(U)>=0);var Ie=he.modPow(re,this);if(0!=Ie.compareTo(w.ONE)&&0!=Ie.compareTo(U)){for(var Dt=1;Dt++<z&&0!=Ie.compareTo(U);)if(0==(Ie=Ie.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=Ie.compareTo(U))return!1}}return!0},w.prototype.clone=function ue(){var R=P();return this.copyTo(R),R},w.prototype.intValue=function Z(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},w.prototype.byteValue=function De(){return 0==this.t?this.s:this.data[0]<<24>>24},w.prototype.shortValue=function je(){return 0==this.t?this.s:this.data[0]<<16>>16},w.prototype.signum=function ge(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},w.prototype.toByteArray=function it(){var R=this.t,U=new Array;U[0]=this.s;var re,z=this.DB-R*this.DB%8,ve=0;if(R-- >0)for(z<this.DB&&(re=this.data[R]>>z)!=(this.s&this.DM)>>z&&(U[ve++]=re|this.s<<this.DB-z);R>=0;)z<8?(re=(this.data[R]&(1<<z)-1)<<8-z,re|=this.data[--R]>>(z+=this.DB-8)):(re=this.data[R]>>(z-=8)&255,z<=0&&(z+=this.DB,--R)),128&re&&(re|=-256),0==ve&&(128&this.s)!=(128&re)&&++ve,(ve>0||re!=this.s)&&(U[ve++]=re);return U},w.prototype.equals=function Pt(R){return 0==this.compareTo(R)},w.prototype.min=function Lt(R){return this.compareTo(R)<0?this:R},w.prototype.max=function Bt(R){return this.compareTo(R)>0?this:R},w.prototype.and=function In(R){var U=P();return this.bitwiseTo(R,tn,U),U},w.prototype.or=function Mn(R){var U=P();return this.bitwiseTo(R,nn,U),U},w.prototype.xor=function Gn(R){var U=P();return this.bitwiseTo(R,xn,U),U},w.prototype.andNot=function gr(R){var U=P();return this.bitwiseTo(R,Kn,U),U},w.prototype.not=function Ar(){for(var R=P(),U=0;U<this.t;++U)R.data[U]=this.DM&~this.data[U];return R.t=this.t,R.s=~this.s,R},w.prototype.shiftLeft=function Ur(R){var U=P();return R<0?this.rShiftTo(-R,U):this.lShiftTo(R,U),U},w.prototype.shiftRight=function Ir(R){var U=P();return R<0?this.lShiftTo(-R,U):this.rShiftTo(R,U),U},w.prototype.getLowestSetBit=function oi(){for(var R=0;R<this.t;++R)if(0!=this.data[R])return R*this.DB+Vr(this.data[R]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function Gi(){for(var R=0,U=this.s&this.DM,z=0;z<this.t;++z)R+=xi(this.data[z]^U);return R},w.prototype.testBit=function rn(R){var U=Math.floor(R/this.DB);return U>=this.t?0!=this.s:0!=(this.data[U]&1<<R%this.DB)},w.prototype.setBit=function Kt(R){return this.changeBit(R,nn)},w.prototype.clearBit=function Wt(R){return this.changeBit(R,Kn)},w.prototype.flipBit=function qt(R){return this.changeBit(R,xn)},w.prototype.add=function on(R){var U=P();return this.addTo(R,U),U},w.prototype.subtract=function sn(R){var U=P();return this.subTo(R,U),U},w.prototype.multiply=function an(R){var U=P();return this.multiplyTo(R,U),U},w.prototype.divide=function un(R){var U=P();return this.divRemTo(R,U,null),U},w.prototype.remainder=function Qt(R){var U=P();return this.divRemTo(R,null,U),U},w.prototype.divideAndRemainder=function ln(R){var U=P(),z=P();return this.divRemTo(R,U,z),new Array(U,z)},w.prototype.modPow=function nc(R,U){var re,he,z=R.bitLength(),ve=v(1);if(z<=0)return ve;re=z<18?1:z<48?3:z<144?4:z<768?5:6,he=z<8?new be(U):U.isEven()?new Hr(U):new vt(U);var Re=new Array,Ie=3,Dt=re-1,fn=(1<<re)-1;if(Re[1]=he.convert(this),re>1){var Pn=P();for(he.sqrTo(Re[1],Pn);Ie<=fn;)Re[Ie]=P(),he.mulTo(Pn,Re[Ie-2],Re[Ie]),Ie+=2}var or,qn,$e=R.t-1,wi=!0,yr=P();for(z=V(R.data[$e])-1;$e>=0;){for(z>=Dt?or=R.data[$e]>>z-Dt&fn:(or=(R.data[$e]&(1<<z+1)-1)<<Dt-z,$e>0&&(or|=R.data[$e-1]>>this.DB+z-Dt)),Ie=re;!(1&or);)or>>=1,--Ie;if((z-=Ie)<0&&(z+=this.DB,--$e),wi)Re[or].copyTo(ve),wi=!1;else{for(;Ie>1;)he.sqrTo(ve,yr),he.sqrTo(yr,ve),Ie-=2;Ie>0?he.sqrTo(ve,yr):(qn=ve,ve=yr,yr=qn),he.mulTo(yr,Re[or],ve)}for(;$e>=0&&!(R.data[$e]&1<<z);)he.sqrTo(ve,yr),qn=ve,ve=yr,yr=qn,--z<0&&(z=this.DB-1,--$e)}return he.revert(ve)},w.prototype.modInverse=function oc(R){var U=R.isEven();if(this.isEven()&&U||0==R.signum())return w.ZERO;for(var z=R.clone(),re=this.clone(),ve=v(1),he=v(0),Re=v(0),Ie=v(1);0!=z.signum();){for(;z.isEven();)z.rShiftTo(1,z),U?((!ve.isEven()||!he.isEven())&&(ve.addTo(this,ve),he.subTo(R,he)),ve.rShiftTo(1,ve)):he.isEven()||he.subTo(R,he),he.rShiftTo(1,he);for(;re.isEven();)re.rShiftTo(1,re),U?((!Re.isEven()||!Ie.isEven())&&(Re.addTo(this,Re),Ie.subTo(R,Ie)),Re.rShiftTo(1,Re)):Ie.isEven()||Ie.subTo(R,Ie),Ie.rShiftTo(1,Ie);z.compareTo(re)>=0?(z.subTo(re,z),U&&ve.subTo(Re,ve),he.subTo(Ie,he)):(re.subTo(z,re),U&&Re.subTo(ve,Re),Ie.subTo(he,Ie))}return 0!=re.compareTo(w.ONE)?w.ZERO:Ie.compareTo(R)>=0?Ie.subtract(R):Ie.signum()<0?(Ie.addTo(R,Ie),Ie.signum()<0?Ie.add(R):Ie):Ie},w.prototype.pow=function hp(R){return this.exp(R,new Ot)},w.prototype.gcd=function rc(R){var U=this.s<0?this.negate():this.clone(),z=R.s<0?R.negate():R.clone();if(U.compareTo(z)<0){var re=U;U=z,z=re}var ve=U.getLowestSetBit(),he=z.getLowestSetBit();if(he<0)return U;for(ve<he&&(he=ve),he>0&&(U.rShiftTo(he,U),z.rShiftTo(he,z));U.signum()>0;)(ve=U.getLowestSetBit())>0&&U.rShiftTo(ve,U),(ve=z.getLowestSetBit())>0&&z.rShiftTo(ve,z),U.compareTo(z)>=0?(U.subTo(z,U),U.rShiftTo(1,U)):(z.subTo(U,z),z.rShiftTo(1,z));return he>0&&z.lShiftTo(he,z),z},w.prototype.isProbablePrime=function ac(R){var U,z=this.abs();if(1==z.t&&z.data[0]<=Wn[Wn.length-1]){for(U=0;U<Wn.length;++U)if(z.data[0]==Wn[U])return!0;return!1}if(z.isEven())return!1;for(U=1;U<Wn.length;){for(var re=Wn[U],ve=U+1;ve<Wn.length&&re<sc;)re*=Wn[ve++];for(re=z.modInt(re);U<ve;)if(re%Wn[U++]==0)return!1}return z.millerRabin(R)}},196:(_e,tt,Y)=>{var d=Y(659);Y(747),Y(365),Y(730),_e.exports=d.kem=d.kem||{};var u=d.jsbn.BigInteger;function p(N,w,P,b){N.generate=function(E,f){for(var C=new d.util.ByteBuffer,O=Math.ceil(f/b)+P,G=new d.util.ByteBuffer,M=P;M<O;++M){G.putInt32(M),w.start(),w.update(E+G.getBytes());var _=w.digest();C.putBytes(_.getBytes(b))}return C.truncate(C.length()-f),C.getBytes()}}d.kem.rsa={},d.kem.rsa.create=function(N,w){var P=(w=w||{}).prng||d.random;return{encrypt:function(E,f){var O,C=Math.ceil(E.n.bitLength()/8);do{O=new u(d.util.bytesToHex(P.getBytesSync(C)),16).mod(E.n)}while(O.compareTo(u.ONE)<=0);var G=C-(O=d.util.hexToBytes(O.toString(16))).length;return G>0&&(O=d.util.fillString(String.fromCharCode(0),G)+O),{encapsulation:E.encrypt(O,"NONE"),key:N.generate(O,f)}},decrypt:function(E,f,C){var O=E.decrypt(f,"NONE");return N.generate(O,C)}}},d.kem.kdf1=function(N,w){p(this,N,0,w||N.digestLength)},d.kem.kdf2=function(N,w){p(this,N,1,w||N.digestLength)}},113:(_e,tt,Y)=>{var d=Y(659);Y(747),_e.exports=d.log=d.log||{},d.log.levels=["none","error","warning","info","debug","verbose","max"];var u={},p=[],N=null;d.log.LEVEL_LOCKED=2,d.log.NO_LEVEL_CHECK=4,d.log.INTERPOLATE=8;for(var w=0;w<d.log.levels.length;++w){var P=d.log.levels[w];u[P]={index:w,name:P.toUpperCase()}}d.log.logMessage=function(M){for(var _=u[M.level].index,B=0;B<p.length;++B){var D=p[B];D.flags&d.log.NO_LEVEL_CHECK?D.f(M):_<=u[D.level].index&&D.f(D,M)}},d.log.prepareStandard=function(M){"standard"in M||(M.standard=u[M.level].name+" ["+M.category+"] "+M.message)},d.log.prepareFull=function(M){if(!("full"in M)){var _=[M.message];_=_.concat([]),M.full=d.util.format.apply(this,_)}},d.log.prepareStandardFull=function(M){"standardFull"in M||(d.log.prepareStandard(M),M.standardFull=M.standard)};var b=["error","warning","info","debug","verbose"];for(w=0;w<b.length;++w)!function(_){d.log[_]=function(B,D){var T=Array.prototype.slice.call(arguments).slice(2);d.log.logMessage({timestamp:new Date,level:_,category:B,message:D,arguments:T})}}(b[w]);if(d.log.makeLogger=function(M){var _={flags:0,f:M};return d.log.setLevel(_,"none"),_},d.log.setLevel=function(M,_){var B=!1;if(M&&!(M.flags&d.log.LEVEL_LOCKED))for(var D=0;D<d.log.levels.length;++D)if(_==d.log.levels[D]){M.level=_,B=!0;break}return B},d.log.lock=function(M,_){typeof _>"u"||_?M.flags|=d.log.LEVEL_LOCKED:M.flags&=~d.log.LEVEL_LOCKED},d.log.addLogger=function(M){p.push(M)},typeof console<"u"&&"log"in console){var E;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},C=function(M,_){d.log.prepareStandard(_);var B=f[_.level],D=[_.standard];D=D.concat(_.arguments.slice()),B.apply(console,D)};E=d.log.makeLogger(C)}else C=function(_,B){d.log.prepareStandardFull(B),console.log(B.standardFull)},E=d.log.makeLogger(C);d.log.setLevel(E,"debug"),d.log.addLogger(E),N=E}else console={log:function(){}};if(null!==N&&typeof window<"u"&&window.location){var O=new URL(window.location.href).searchParams;O.has("console.level")&&d.log.setLevel(N,O.get("console.level").slice(-1)[0]),O.has("console.lock")&&"true"==O.get("console.lock").slice(-1)[0]&&d.log.lock(N)}d.log.consoleLogger=N},752:(_e,tt,Y)=>{_e.exports=Y(979),Y(687),Y(690),Y(594),Y(985)},979:(_e,tt,Y)=>{var d=Y(659);_e.exports=d.md=d.md||{},d.md.algorithms=d.md.algorithms||{}},687:(_e,tt,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.md5=d.md5||{};d.md.md5=d.md.algorithms.md5=u,u.create=function(){b||function E(){p=String.fromCharCode(128),p+=d.util.fillString(String.fromCharCode(0),64),N=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],w=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],P=new Array(64);for(var C=0;C<64;++C)P[C]=Math.floor(4294967296*Math.abs(Math.sin(C+1)));b=!0}();var C=null,O=d.util.createBuffer(),G=new Array(16),M={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){M.messageLength=0,M.fullMessageLength=M.messageLength64=[];for(var _=M.messageLengthSize/4,B=0;B<_;++B)M.fullMessageLength.push(0);return O=d.util.createBuffer(),C={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},M}};return M.start(),M.update=function(_,B){"utf8"===B&&(_=d.util.encodeUtf8(_));var D=_.length;M.messageLength+=D,D=[D/4294967296>>>0,D>>>0];for(var T=M.fullMessageLength.length-1;T>=0;--T)M.fullMessageLength[T]+=D[1],D[1]=D[0]+(M.fullMessageLength[T]/4294967296>>>0),M.fullMessageLength[T]=M.fullMessageLength[T]>>>0,D[0]=D[1]/4294967296>>>0;return O.putBytes(_),f(C,G,O),(O.read>2048||0===O.length())&&O.compact(),M},M.digest=function(){var _=d.util.createBuffer();_.putBytes(O.bytes()),_.putBytes(p.substr(0,M.blockLength-(M.fullMessageLength[M.fullMessageLength.length-1]+M.messageLengthSize&M.blockLength-1)));for(var T,h=0,v=M.fullMessageLength.length-1;v>=0;--v)h=(T=8*M.fullMessageLength[v]+h)/4294967296>>>0,_.putInt32Le(T>>>0);var A={h0:C.h0,h1:C.h1,h2:C.h2,h3:C.h3};f(A,G,_);var F=d.util.createBuffer();return F.putInt32Le(A.h0),F.putInt32Le(A.h1),F.putInt32Le(A.h2),F.putInt32Le(A.h3),F},M};var p=null,N=null,w=null,P=null,b=!1;function f(C,O,G){for(var M,_,B,D,T,v,A,F=G.length();F>=64;){for(_=C.h0,B=C.h1,D=C.h2,T=C.h3,A=0;A<16;++A)O[A]=G.getInt32Le(),M=_+(T^B&(D^T))+P[A]+O[A],_=T,T=D,D=B,B+=M<<(v=w[A])|M>>>32-v;for(;A<32;++A)M=_+(D^T&(B^D))+P[A]+O[N[A]],_=T,T=D,D=B,B+=M<<(v=w[A])|M>>>32-v;for(;A<48;++A)M=_+(B^D^T)+P[A]+O[N[A]],_=T,T=D,D=B,B+=M<<(v=w[A])|M>>>32-v;for(;A<64;++A)M=_+(D^(B|~T))+P[A]+O[N[A]],_=T,T=D,D=B,B+=M<<(v=w[A])|M>>>32-v;C.h0=C.h0+_|0,C.h1=C.h1+B|0,C.h2=C.h2+D|0,C.h3=C.h3+T|0,F-=64}}},386:(_e,tt,Y)=>{var d=Y(659);Y(449),_e.exports=d.mgf=d.mgf||{},d.mgf.mgf1=d.mgf1},449:(_e,tt,Y)=>{var d=Y(659);Y(747),d.mgf=d.mgf||{},(_e.exports=d.mgf.mgf1=d.mgf1=d.mgf1||{}).create=function(p){return{generate:function(w,P){for(var b=new d.util.ByteBuffer,E=Math.ceil(P/p.digestLength),f=0;f<E;f++){var C=new d.util.ByteBuffer;C.putInt32(f),p.start(),p.update(w+C.getBytes()),b.putBuffer(p.digest())}return b.truncate(b.length()-P),b.getBytes()}}}},78:(_e,tt,Y)=>{var d=Y(659);d.pki=d.pki||{};var u=_e.exports=d.pki.oids=d.oids=d.oids||{};function p(w,P){u[w]=P,u[P]=w}function N(w,P){u[w]=P}p("1.2.840.113549.1.1.1","rsaEncryption"),p("1.2.840.113549.1.1.4","md5WithRSAEncryption"),p("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),p("1.2.840.113549.1.1.7","RSAES-OAEP"),p("1.2.840.113549.1.1.8","mgf1"),p("1.2.840.113549.1.1.9","pSpecified"),p("1.2.840.113549.1.1.10","RSASSA-PSS"),p("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),p("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),p("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),p("1.3.101.112","EdDSA25519"),p("1.2.840.10040.4.3","dsa-with-sha1"),p("1.3.14.3.2.7","desCBC"),p("1.3.14.3.2.26","sha1"),p("1.3.14.3.2.29","sha1WithRSASignature"),p("2.16.840.1.101.3.4.2.1","sha256"),p("2.16.840.1.101.3.4.2.2","sha384"),p("2.16.840.1.101.3.4.2.3","sha512"),p("2.16.840.1.101.3.4.2.4","sha224"),p("2.16.840.1.101.3.4.2.5","sha512-224"),p("2.16.840.1.101.3.4.2.6","sha512-256"),p("1.2.840.113549.2.2","md2"),p("1.2.840.113549.2.5","md5"),p("1.2.840.113549.1.7.1","data"),p("1.2.840.113549.1.7.2","signedData"),p("1.2.840.113549.1.7.3","envelopedData"),p("1.2.840.113549.1.7.4","signedAndEnvelopedData"),p("1.2.840.113549.1.7.5","digestedData"),p("1.2.840.113549.1.7.6","encryptedData"),p("1.2.840.113549.1.9.1","emailAddress"),p("1.2.840.113549.1.9.2","unstructuredName"),p("1.2.840.113549.1.9.3","contentType"),p("1.2.840.113549.1.9.4","messageDigest"),p("1.2.840.113549.1.9.5","signingTime"),p("1.2.840.113549.1.9.6","counterSignature"),p("1.2.840.113549.1.9.7","challengePassword"),p("1.2.840.113549.1.9.8","unstructuredAddress"),p("1.2.840.113549.1.9.14","extensionRequest"),p("1.2.840.113549.1.9.20","friendlyName"),p("1.2.840.113549.1.9.21","localKeyId"),p("1.2.840.113549.1.9.22.1","x509Certificate"),p("1.2.840.113549.1.12.10.1.1","keyBag"),p("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),p("1.2.840.113549.1.12.10.1.3","certBag"),p("1.2.840.113549.1.12.10.1.4","crlBag"),p("1.2.840.113549.1.12.10.1.5","secretBag"),p("1.2.840.113549.1.12.10.1.6","safeContentsBag"),p("1.2.840.113549.1.5.13","pkcs5PBES2"),p("1.2.840.113549.1.5.12","pkcs5PBKDF2"),p("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),p("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),p("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),p("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),p("1.2.840.113549.2.7","hmacWithSHA1"),p("1.2.840.113549.2.8","hmacWithSHA224"),p("1.2.840.113549.2.9","hmacWithSHA256"),p("1.2.840.113549.2.10","hmacWithSHA384"),p("1.2.840.113549.2.11","hmacWithSHA512"),p("1.2.840.113549.3.7","des-EDE3-CBC"),p("2.16.840.1.101.3.4.1.2","aes128-CBC"),p("2.16.840.1.101.3.4.1.22","aes192-CBC"),p("2.16.840.1.101.3.4.1.42","aes256-CBC"),p("2.5.4.3","commonName"),p("2.5.4.4","surname"),p("2.5.4.5","serialNumber"),p("2.5.4.6","countryName"),p("2.5.4.7","localityName"),p("2.5.4.8","stateOrProvinceName"),p("2.5.4.9","streetAddress"),p("2.5.4.10","organizationName"),p("2.5.4.11","organizationalUnitName"),p("2.5.4.12","title"),p("2.5.4.13","description"),p("2.5.4.15","businessCategory"),p("2.5.4.17","postalCode"),p("2.5.4.42","givenName"),p("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),p("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),p("2.16.840.1.113730.1.1","nsCertType"),p("2.16.840.1.113730.1.13","nsComment"),N("2.5.29.1","authorityKeyIdentifier"),N("2.5.29.2","keyAttributes"),N("2.5.29.3","certificatePolicies"),N("2.5.29.4","keyUsageRestriction"),N("2.5.29.5","policyMapping"),N("2.5.29.6","subtreesConstraint"),N("2.5.29.7","subjectAltName"),N("2.5.29.8","issuerAltName"),N("2.5.29.9","subjectDirectoryAttributes"),N("2.5.29.10","basicConstraints"),N("2.5.29.11","nameConstraints"),N("2.5.29.12","policyConstraints"),N("2.5.29.13","basicConstraints"),p("2.5.29.14","subjectKeyIdentifier"),p("2.5.29.15","keyUsage"),N("2.5.29.16","privateKeyUsagePeriod"),p("2.5.29.17","subjectAltName"),p("2.5.29.18","issuerAltName"),p("2.5.29.19","basicConstraints"),N("2.5.29.20","cRLNumber"),N("2.5.29.21","cRLReason"),N("2.5.29.22","expirationDate"),N("2.5.29.23","instructionCode"),N("2.5.29.24","invalidityDate"),N("2.5.29.25","cRLDistributionPoints"),N("2.5.29.26","issuingDistributionPoint"),N("2.5.29.27","deltaCRLIndicator"),N("2.5.29.28","issuingDistributionPoint"),N("2.5.29.29","certificateIssuer"),N("2.5.29.30","nameConstraints"),p("2.5.29.31","cRLDistributionPoints"),p("2.5.29.32","certificatePolicies"),N("2.5.29.33","policyMappings"),N("2.5.29.34","policyConstraints"),p("2.5.29.35","authorityKeyIdentifier"),N("2.5.29.36","policyConstraints"),p("2.5.29.37","extKeyUsage"),N("2.5.29.46","freshestCRL"),N("2.5.29.54","inhibitAnyPolicy"),p("1.3.6.1.4.1.11129.2.4.2","timestampList"),p("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),p("1.3.6.1.5.5.7.3.1","serverAuth"),p("1.3.6.1.5.5.7.3.2","clientAuth"),p("1.3.6.1.5.5.7.3.3","codeSigning"),p("1.3.6.1.5.5.7.3.4","emailProtection"),p("1.3.6.1.5.5.7.3.8","timeStamping")},158:(_e,tt,Y)=>{var d=Y(659);if(Y(298),Y(791),Y(279),Y(979),Y(78),Y(949),Y(604),Y(365),Y(209),Y(517),Y(747),typeof u>"u")var u=d.jsbn.BigInteger;var p=d.asn1,N=d.pki=d.pki||{};_e.exports=N.pbe=d.pbe=d.pbe||{};var w=N.oids,P={name:"EncryptedPrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},b={name:"PBES2Algorithms",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},E={name:"pkcs-12PbeParams",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(M,_){return M.start().update(_).digest().getBytes()}function C(M){var _;if(M){if(!(_=N.oids[p.derToOid(M)])){var B=new Error("Unsupported PRF OID.");throw B.oid=M,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}}else _="hmacWithSHA1";return O(_)}function O(M){var _=d.md;switch(M){case"hmacWithSHA224":_=d.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":M=M.substr(8).toLowerCase();break;default:var B=new Error("Unsupported PRF algorithm.");throw B.algorithm=M,B.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],B}if(!_||!(M in _))throw new Error("Unknown hash algorithm: "+M);return _[M].create()}N.encryptPrivateKeyInfo=function(M,_,B){(B=B||{}).saltSize=B.saltSize||8,B.count=B.count||2048,B.algorithm=B.algorithm||"aes128",B.prfAlgorithm=B.prfAlgorithm||"sha1";var v,A,F,D=d.random.getBytesSync(B.saltSize),T=B.count,h=p.integerToDer(T);if(0===B.algorithm.indexOf("aes")||"des"===B.algorithm){var H,W,S;switch(B.algorithm){case"aes128":v=16,H=16,W=w["aes128-CBC"],S=d.aes.createEncryptionCipher;break;case"aes192":v=24,H=16,W=w["aes192-CBC"],S=d.aes.createEncryptionCipher;break;case"aes256":v=32,H=16,W=w["aes256-CBC"],S=d.aes.createEncryptionCipher;break;case"des":v=8,H=8,W=w.desCBC,S=d.des.createEncryptionCipher;break;default:throw(x=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=B.algorithm,x}var V="hmacWith"+B.prfAlgorithm.toUpperCase(),c=O(V),j=d.pkcs5.pbkdf2(_,D,T,v,c),Q=d.random.getBytesSync(H);($=S(j)).start(Q),$.update(p.toDer(M)),$.finish(),F=$.output.getBytes();var te=function G(M,_,B,D){var T=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,M),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_.getBytes())]);return"hmacWithSHA1"!==D&&T.value.push(p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,d.util.hexToBytes(B.toString(16))),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(N.oids[D]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])),T}(D,h,v,V);A=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(w.pkcs5PBES2).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(w.pkcs5PBKDF2).getBytes()),te]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(W).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,Q)])])])}else{var x;if("3des"!==B.algorithm)throw(x=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=B.algorithm,x;v=24;var $,ee=new d.util.ByteBuffer(D);j=N.pbe.generatePkcs12Key(_,ee,1,T,v),Q=N.pbe.generatePkcs12Key(_,ee,2,T,v),($=d.des.createEncryptionCipher(j)).start(Q),$.update(p.toDer(M)),$.finish(),F=$.output.getBytes(),A=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(w["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,D),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,h.getBytes())])])}return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[A,p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,F)])},N.decryptPrivateKeyInfo=function(M,_){var B=null,D={},T=[];if(!p.validate(M,P,D,T)){var h=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw h.errors=T,h}var v=p.derToOid(D.encryptionOid),A=N.pbe.getCipher(v,D.encryptionParams,_),F=d.util.createBuffer(D.encryptedData);return A.update(F),A.finish()&&(B=p.fromDer(A.output)),B},N.encryptedPrivateKeyToPem=function(M,_){var B={type:"ENCRYPTED PRIVATE KEY",body:p.toDer(M).getBytes()};return d.pem.encode(B,{maxline:_})},N.encryptedPrivateKeyFromPem=function(M){var _=d.pem.decode(M)[0];if("ENCRYPTED PRIVATE KEY"!==_.type){var B=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw B.headerType=_.type,B}if(_.procType&&"ENCRYPTED"===_.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return p.fromDer(_.body)},N.encryptRsaPrivateKey=function(M,_,B){if(!(B=B||{}).legacy){var D=N.wrapRsaPrivateKey(N.privateKeyToAsn1(M));return D=N.encryptPrivateKeyInfo(D,_,B),N.encryptedPrivateKeyToPem(D)}var T,h,v,A;switch(B.algorithm){case"aes128":T="AES-128-CBC",v=16,h=d.random.getBytesSync(16),A=d.aes.createEncryptionCipher;break;case"aes192":T="AES-192-CBC",v=24,h=d.random.getBytesSync(16),A=d.aes.createEncryptionCipher;break;case"aes256":T="AES-256-CBC",v=32,h=d.random.getBytesSync(16),A=d.aes.createEncryptionCipher;break;case"3des":T="DES-EDE3-CBC",v=24,h=d.random.getBytesSync(8),A=d.des.createEncryptionCipher;break;case"des":T="DES-CBC",v=8,h=d.random.getBytesSync(8),A=d.des.createEncryptionCipher;break;default:var F=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+B.algorithm+'".');throw F.algorithm=B.algorithm,F}var W=A(d.pbe.opensslDeriveBytes(_,h.substr(0,8),v));W.start(h),W.update(p.toDer(N.privateKeyToAsn1(M))),W.finish();var S={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:T,parameters:d.util.bytesToHex(h).toUpperCase()},body:W.output.getBytes()};return d.pem.encode(S)},N.decryptRsaPrivateKey=function(M,_){var B=null,D=d.pem.decode(M)[0];if("ENCRYPTED PRIVATE KEY"!==D.type&&"PRIVATE KEY"!==D.type&&"RSA PRIVATE KEY"!==D.type)throw(T=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=T,T;if(D.procType&&"ENCRYPTED"===D.procType.type){var h,v;switch(D.dekInfo.algorithm){case"DES-CBC":h=8,v=d.des.createDecryptionCipher;break;case"DES-EDE3-CBC":h=24,v=d.des.createDecryptionCipher;break;case"AES-128-CBC":h=16,v=d.aes.createDecryptionCipher;break;case"AES-192-CBC":h=24,v=d.aes.createDecryptionCipher;break;case"AES-256-CBC":h=32,v=d.aes.createDecryptionCipher;break;case"RC2-40-CBC":h=5,v=function(S){return d.rc2.createDecryptionCipher(S,40)};break;case"RC2-64-CBC":h=8,v=function(S){return d.rc2.createDecryptionCipher(S,64)};break;case"RC2-128-CBC":h=16,v=function(S){return d.rc2.createDecryptionCipher(S,128)};break;default:var T;throw(T=new Error('Could not decrypt private key; unsupported encryption algorithm "'+D.dekInfo.algorithm+'".')).algorithm=D.dekInfo.algorithm,T}var A=d.util.hexToBytes(D.dekInfo.parameters),H=v(d.pbe.opensslDeriveBytes(_,A.substr(0,8),h));if(H.start(A),H.update(d.util.createBuffer(D.body)),!H.finish())return B;B=H.output.getBytes()}else B=D.body;return null!==(B="ENCRYPTED PRIVATE KEY"===D.type?N.decryptPrivateKeyInfo(p.fromDer(B),_):p.fromDer(B))&&(B=N.privateKeyFromAsn1(B)),B},N.pbe.generatePkcs12Key=function(M,_,B,D,T,h){var v,A;if(typeof h>"u"||null===h){if(!("sha1"in d.md))throw new Error('"sha1" hash algorithm unavailable.');h=d.md.sha1.create()}var F=h.digestLength,H=h.blockLength,W=new d.util.ByteBuffer,S=new d.util.ByteBuffer;if(null!=M){for(A=0;A<M.length;A++)S.putInt16(M.charCodeAt(A));S.putInt16(0)}var x=S.length(),V=_.length(),c=new d.util.ByteBuffer;c.fillWithByte(B,H);var j=H*Math.ceil(V/H),Q=new d.util.ByteBuffer;for(A=0;A<j;A++)Q.putByte(_.at(A%V));var $=H*Math.ceil(x/H),te=new d.util.ByteBuffer;for(A=0;A<$;A++)te.putByte(S.at(A%x));var ee=Q;ee.putBuffer(te);for(var ne=Math.ceil(T/F),de=1;de<=ne;de++){var pe=new d.util.ByteBuffer;pe.putBytes(c.bytes()),pe.putBytes(ee.bytes());for(var ye=0;ye<D;ye++)h.start(),h.update(pe.getBytes()),pe=h.digest();var be=new d.util.ByteBuffer;for(A=0;A<H;A++)be.putByte(pe.at(A%F));var Le=Math.ceil(V/H)+Math.ceil(x/H),rt=new d.util.ByteBuffer;for(v=0;v<Le;v++){var We=new d.util.ByteBuffer(ee.getBytes(H)),Ce=511;for(A=be.length()-1;A>=0;A--)Ce>>=8,Ce+=be.at(A)+We.at(A),We.setAt(A,255&Ce);rt.putBuffer(We)}ee=rt,W.putBuffer(pe)}return W.truncate(W.length()-T),W},N.pbe.getCipher=function(M,_,B){switch(M){case N.oids.pkcs5PBES2:return N.pbe.getCipherForPBES2(M,_,B);case N.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case N.oids["pbewithSHAAnd40BitRC2-CBC"]:return N.pbe.getCipherForPKCS12PBE(M,_,B);default:var D=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw D.oid=M,D.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],D}},N.pbe.getCipherForPBES2=function(M,_,B){var h,D={},T=[];if(!p.validate(_,b,D,T))throw(h=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=T,h;if((M=p.derToOid(D.kdfOid))!==N.oids.pkcs5PBKDF2)throw(h=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=M,h.supportedOids=["pkcs5PBKDF2"],h;if((M=p.derToOid(D.encOid))!==N.oids["aes128-CBC"]&&M!==N.oids["aes192-CBC"]&&M!==N.oids["aes256-CBC"]&&M!==N.oids["des-EDE3-CBC"]&&M!==N.oids.desCBC)throw(h=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=M,h.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],h;var F,H,v=D.kdfSalt,A=d.util.createBuffer(D.kdfIterationCount);switch(A=A.getInt(A.length()<<3),N.oids[M]){case"aes128-CBC":F=16,H=d.aes.createDecryptionCipher;break;case"aes192-CBC":F=24,H=d.aes.createDecryptionCipher;break;case"aes256-CBC":F=32,H=d.aes.createDecryptionCipher;break;case"des-EDE3-CBC":F=24,H=d.des.createDecryptionCipher;break;case"desCBC":F=8,H=d.des.createDecryptionCipher}var W=C(D.prfOid),S=d.pkcs5.pbkdf2(B,v,A,F,W),x=D.encIv,V=H(S);return V.start(x),V},N.pbe.getCipherForPKCS12PBE=function(M,_,B){var D={},T=[];if(!p.validate(_,E,D,T))throw(h=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=T,h;var F,H,W,v=d.util.createBuffer(D.salt),A=d.util.createBuffer(D.iterations);switch(A=A.getInt(A.length()<<3),M){case N.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:F=24,H=8,W=d.des.startDecrypting;break;case N.oids["pbewithSHAAnd40BitRC2-CBC"]:F=5,H=8,W=function(j,Q){var $=d.rc2.createDecryptionCipher(j,40);return $.start(Q,null),$};break;default:var h;throw(h=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=M,h}var S=C(D.prfOid),x=N.pbe.generatePkcs12Key(B,v,1,A,F,S);return S.start(),W(x,N.pbe.generatePkcs12Key(B,v,2,A,H,S))},N.pbe.opensslDeriveBytes=function(M,_,B,D){if(typeof D>"u"||null===D){if(!("md5"in d.md))throw new Error('"md5" hash algorithm unavailable.');D=d.md.md5.create()}null===_&&(_="");for(var T=[f(D,M+_)],h=16,v=1;h<B;++v,h+=16)T.push(f(D,T[v-1]+M+_));return T.join("").substr(0,B)}},949:(_e,tt,Y)=>{var d=Y(659);Y(32),Y(979),Y(747);var p,u=d.pkcs5=d.pkcs5||{};d.util.isNodejs&&!d.options.usePureJavaScript&&(p=Y(819)),_e.exports=d.pbkdf2=u.pbkdf2=function(N,w,P,b,E,f){if("function"==typeof E&&(f=E,E=null),d.util.isNodejs&&!d.options.usePureJavaScript&&p.pbkdf2&&(null===E||"object"!=typeof E)&&(p.pbkdf2Sync.length>4||!E||"sha1"===E))return"string"!=typeof E&&(E="sha1"),N=Buffer.from(N,"binary"),w=Buffer.from(w,"binary"),f?4===p.pbkdf2Sync.length?p.pbkdf2(N,w,P,b,function(W,S){if(W)return f(W);f(null,S.toString("binary"))}):p.pbkdf2(N,w,P,b,E,function(W,S){if(W)return f(W);f(null,S.toString("binary"))}):4===p.pbkdf2Sync.length?p.pbkdf2Sync(N,w,P,b).toString("binary"):p.pbkdf2Sync(N,w,P,b,E).toString("binary");if((typeof E>"u"||null===E)&&(E="sha1"),"string"==typeof E){if(!(E in d.md.algorithms))throw new Error("Unknown hash algorithm: "+E);E=d.md[E].create()}var C=E.digestLength;if(b>4294967295*C){var O=new Error("Derived key is too long.");if(f)return f(O);throw O}var G=Math.ceil(b/C),M=b-(G-1)*C,_=d.hmac.create();_.start(E,N);var D,T,h,B="";if(!f){for(var v=1;v<=G;++v){_.start(null,null),_.update(w),_.update(d.util.int32ToBytes(v)),D=h=_.digest().getBytes();for(var A=2;A<=P;++A)_.start(null,null),_.update(h),T=_.digest().getBytes(),D=d.util.xorBytes(D,T,C),h=T;B+=v<G?D:D.substr(0,M)}return B}function F(){if(v>G)return f(null,B);_.start(null,null),_.update(w),_.update(d.util.int32ToBytes(v)),D=h=_.digest().getBytes(),A=2,H()}function H(){if(A<=P)return _.start(null,null),_.update(h),T=_.digest().getBytes(),D=d.util.xorBytes(D,T,C),h=T,++A,d.util.setImmediate(H);B+=v<G?D:D.substr(0,M),++v,F()}v=1,F()}},604:(_e,tt,Y)=>{var d=Y(659);Y(747);var u=_e.exports=d.pem=d.pem||{};function p(w){for(var P=w.name+": ",b=[],E=function(M,_){return" "+_},f=0;f<w.values.length;++f)b.push(w.values[f].replace(/^(\S+\r\n)/,E));P+=b.join(",")+"\r\n";var C=0,O=-1;for(f=0;f<P.length;++f,++C)if(C>65&&-1!==O){var G=P[O];","===G?(++O,P=P.substr(0,O)+"\r\n "+P.substr(O)):P=P.substr(0,O)+"\r\n"+G+P.substr(O+1),C=f-O-1,O=-1,++f}else(" "===P[f]||"\t"===P[f]||","===P[f])&&(O=f);return P}function N(w){return w.replace(/^\s+/,"")}u.encode=function(w,P){P=P||{};var E,b="-----BEGIN "+w.type+"-----\r\n";if(w.procType&&(b+=p(E={name:"Proc-Type",values:[String(w.procType.version),w.procType.type]})),w.contentDomain&&(b+=p(E={name:"Content-Domain",values:[w.contentDomain]})),w.dekInfo&&(E={name:"DEK-Info",values:[w.dekInfo.algorithm]},w.dekInfo.parameters&&E.values.push(w.dekInfo.parameters),b+=p(E)),w.headers)for(var f=0;f<w.headers.length;++f)b+=p(w.headers[f]);return w.procType&&(b+="\r\n"),(b+=d.util.encode64(w.body,P.maxline||64)+"\r\n")+"-----END "+w.type+"-----\r\n"},u.decode=function(w){for(var C,P=[],b=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,E=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,f=/\r?\n/;C=b.exec(w);){var O=C[1];"NEW CERTIFICATE REQUEST"===O&&(O="CERTIFICATE REQUEST");var G={type:O,procType:null,contentDomain:null,dekInfo:null,headers:[],body:d.util.decode64(C[3])};if(P.push(G),C[2]){for(var M=C[2].split(f),_=0;C&&_<M.length;){for(var B=M[_].replace(/\s+$/,""),D=_+1;D<M.length;++D){var T=M[D];if(!/\s/.test(T[0]))break;B+=T,_=D}if(C=B.match(E)){for(var h={name:C[1],values:[]},v=C[2].split(","),A=0;A<v.length;++A)h.values.push(N(v[A]));if(G.procType)if(G.contentDomain||"Content-Domain"!==h.name)if(G.dekInfo||"DEK-Info"!==h.name)G.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');G.dekInfo={algorithm:v[0],parameters:v[1]||null}}else G.contentDomain=v[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');G.procType={version:v[0],type:v[1]}}}++_}if("ENCRYPTED"===G.procType&&!G.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===P.length)throw new Error("Invalid PEM formatted message.");return P}},246:(_e,tt,Y)=>{var d=Y(659);Y(747),Y(365),Y(690);var u=_e.exports=d.pkcs1=d.pkcs1||{};function p(N,w,P){P||(P=d.md.sha1.create());for(var b="",E=Math.ceil(w/P.digestLength),f=0;f<E;++f){var C=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f);P.start(),P.update(N+C),b+=P.digest().getBytes()}return b.substring(0,w)}u.encode_rsa_oaep=function(N,w,P){var b,E,f,C;"string"==typeof P?(b=P,E=arguments[3]||void 0,f=arguments[4]||void 0):P&&(b=P.label||void 0,E=P.seed||void 0,f=P.md||void 0,P.mgf1&&P.mgf1.md&&(C=P.mgf1.md)),f?f.start():f=d.md.sha1.create(),C||(C=f);var O=Math.ceil(N.n.bitLength()/8),G=O-2*f.digestLength-2;if(w.length>G)throw(M=new Error("RSAES-OAEP input message length is too long.")).length=w.length,M.maxLength=G,M;b||(b=""),f.update(b,"raw");for(var _=f.digest(),B="",D=G-w.length,T=0;T<D;T++)B+="\0";var h=_.getBytes()+B+"\x01"+w;if(E){if(E.length!==f.digestLength){var M;throw(M=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=E.length,M.digestLength=f.digestLength,M}}else E=d.random.getBytes(f.digestLength);var v=p(E,O-f.digestLength-1,C),A=d.util.xorBytes(h,v,h.length),F=p(A,f.digestLength,C);return"\0"+d.util.xorBytes(E,F,E.length)+A},u.decode_rsa_oaep=function(N,w,P){var b,E,f;"string"==typeof P?(b=P,E=arguments[3]||void 0):P&&(b=P.label||void 0,E=P.md||void 0,P.mgf1&&P.mgf1.md&&(f=P.mgf1.md));var C=Math.ceil(N.n.bitLength()/8);if(w.length!==C)throw(A=new Error("RSAES-OAEP encoded message length is invalid.")).length=w.length,A.expectedLength=C,A;if(void 0===E?E=d.md.sha1.create():E.start(),f||(f=E),C<2*E.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");b||(b=""),E.update(b,"raw");for(var O=E.digest().getBytes(),G=w.charAt(0),M=w.substring(1,E.digestLength+1),_=w.substring(1+E.digestLength),B=p(_,E.digestLength,f),T=p(d.util.xorBytes(M,B,M.length),C-E.digestLength-1,f),h=d.util.xorBytes(_,T,_.length),v=h.substring(0,E.digestLength),A="\0"!==G,F=0;F<E.digestLength;++F)A|=O.charAt(F)!==v.charAt(F);for(var H=1,W=E.digestLength,S=E.digestLength;S<h.length;S++){var x=h.charCodeAt(S);A|=x&(H?65534:0),W+=H&=1&x^1}if(A||1!==h.charCodeAt(W))throw new Error("Invalid RSAES-OAEP padding.");return h.substring(W+1)}},562:(_e,tt,Y)=>{var d=Y(659);Y(791),Y(32),Y(78),Y(957),Y(158),Y(365),Y(517),Y(690),Y(747),Y(911);var u=d.asn1,p=d.pki,N=_e.exports=d.pkcs12=d.pkcs12||{},w={name:"ContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},P={name:"PFX",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},w,{name:"PFX.macData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},b={name:"SafeBag",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},E={name:"Attribute",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:u.Class.UNIVERSAL,type:u.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function C(D,T,h,v){for(var A=[],F=0;F<D.length;F++)for(var H=0;H<D[F].safeBags.length;H++){var W=D[F].safeBags[H];if(void 0===v||W.type===v){if(null===T){A.push(W);continue}void 0!==W.attributes[T]&&W.attributes[T].indexOf(h)>=0&&A.push(W)}}return A}function O(D){if(D.composed||D.constructed){for(var T=d.util.createBuffer(),h=0;h<D.value.length;++h)T.putBytes(D.value[h].value);D.composed=D.constructed=!1,D.value=T.getBytes()}return D}function M(D,T){var h={},v=[];if(!u.validate(D,d.pkcs7.asn1.encryptedDataValidator,h,v))throw(A=new Error("Cannot read EncryptedContentInfo.")).errors=v,A;var A,F=u.derToOid(h.contentType);if(F!==p.oids.data)throw(A=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=F,A;F=u.derToOid(h.encAlgorithm);var H=p.pbe.getCipher(F,h.encParameter,T),W=O(h.encryptedContentAsn1),S=d.util.createBuffer(W.value);if(H.update(S),!H.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return H.output.getBytes()}function _(D,T,h){if(!T&&0===D.length)return[];if((D=u.fromDer(D,T)).tagClass!==u.Class.UNIVERSAL||D.type!==u.Type.SEQUENCE||!0!==D.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var v=[],A=0;A<D.value.length;A++){var H={},W=[];if(!u.validate(D.value[A],b,H,W))throw(S=new Error("Cannot read SafeBag.")).errors=W,S;var x={type:u.derToOid(H.bagId),attributes:B(H.bagAttributes)};v.push(x);var V,c,j=H.bagValue.value[0];switch(x.type){case p.oids.pkcs8ShroudedKeyBag:if(null===(j=p.decryptPrivateKeyInfo(j,h)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case p.oids.keyBag:try{x.key=p.privateKeyFromAsn1(j)}catch{x.key=null,x.asn1=j}continue;case p.oids.certBag:V=f,c=function(){if(u.derToOid(H.certId)!==p.oids.x509Certificate){var $=new Error("Unsupported certificate type, only X.509 supported.");throw $.oid=u.derToOid(H.certId),$}var te=u.fromDer(H.cert,T);try{x.cert=p.certificateFromAsn1(te,!0)}catch{x.cert=null,x.asn1=te}};break;default:var S;throw(S=new Error("Unsupported PKCS#12 SafeBag type.")).oid=x.type,S}if(void 0!==V&&!u.validate(j,V,H,W))throw(S=new Error("Cannot read PKCS#12 "+V.name)).errors=W,S;c()}return v}function B(D){var T={};if(void 0!==D)for(var h=0;h<D.length;++h){var v={},A=[];if(!u.validate(D[h],E,v,A)){var F=new Error("Cannot read PKCS#12 BagAttribute.");throw F.errors=A,F}var H=u.derToOid(v.oid);if(void 0!==p.oids[H]){T[p.oids[H]]=[];for(var W=0;W<v.values.length;++W)T[p.oids[H]].push(v.values[W].value)}}return T}N.pkcs12FromAsn1=function(D,T,h){"string"==typeof T?(h=T,T=!0):void 0===T&&(T=!0);var v={};if(!u.validate(D,P,v,[]))throw(F=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=F,F;var F,H={version:v.version.charCodeAt(0),safeContents:[],getBags:function(ee){var de,ne={};return"localKeyId"in ee?de=ee.localKeyId:"localKeyIdHex"in ee&&(de=d.util.hexToBytes(ee.localKeyIdHex)),void 0===de&&!("friendlyName"in ee)&&"bagType"in ee&&(ne[ee.bagType]=C(H.safeContents,null,null,ee.bagType)),void 0!==de&&(ne.localKeyId=C(H.safeContents,"localKeyId",de,ee.bagType)),"friendlyName"in ee&&(ne.friendlyName=C(H.safeContents,"friendlyName",ee.friendlyName,ee.bagType)),ne},getBagsByFriendlyName:function(ee,ne){return C(H.safeContents,"friendlyName",ee,ne)},getBagsByLocalKeyId:function(ee,ne){return C(H.safeContents,"localKeyId",ee,ne)}};if(3!==v.version.charCodeAt(0))throw(F=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=v.version.charCodeAt(0),F;if(u.derToOid(v.contentType)!==p.oids.data)throw(F=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=u.derToOid(v.contentType),F;var W=v.content.value[0];if(W.tagClass!==u.Class.UNIVERSAL||W.type!==u.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(W=O(W),v.mac){var S=null,x=0,V=u.derToOid(v.macAlgorithm);switch(V){case p.oids.sha1:S=d.md.sha1.create(),x=20;break;case p.oids.sha256:S=d.md.sha256.create(),x=32;break;case p.oids.sha384:S=d.md.sha384.create(),x=48;break;case p.oids.sha512:S=d.md.sha512.create(),x=64;break;case p.oids.md5:S=d.md.md5.create(),x=16}if(null===S)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+V);var c=new d.util.ByteBuffer(v.macSalt),j="macIterations"in v?parseInt(d.util.bytesToHex(v.macIterations),16):1,Q=N.generateKey(h,c,3,j,x,S),$=d.hmac.create();if($.start(S,Q),$.update(W.value),$.getMac().getBytes()!==v.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function G(D,T,h,v){if((T=u.fromDer(T,h)).tagClass!==u.Class.UNIVERSAL||T.type!==u.Type.SEQUENCE||!0!==T.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var A=0;A<T.value.length;A++){var H={},W=[];if(!u.validate(T.value[A],w,H,W))throw(S=new Error("Cannot read ContentInfo.")).errors=W,S;var x={encrypted:!1},V=null,c=H.content.value[0];switch(u.derToOid(H.contentType)){case p.oids.data:if(c.tagClass!==u.Class.UNIVERSAL||c.type!==u.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");V=O(c).value;break;case p.oids.encryptedData:V=M(c,v),x.encrypted=!0;break;default:var S;throw(S=new Error("Unsupported PKCS#12 contentType.")).contentType=u.derToOid(H.contentType),S}x.safeBags=_(V,h,v),D.safeContents.push(x)}}(H,W.value,T,h),H},N.toPkcs12Asn1=function(D,T,h,v){(v=v||{}).saltSize=v.saltSize||8,v.count=v.count||2048,v.algorithm=v.algorithm||v.encAlgorithm||"aes128","useMac"in v||(v.useMac=!0),"localKeyId"in v||(v.localKeyId=null),"generateLocalKeyId"in v||(v.generateLocalKeyId=!0);var F,A=v.localKeyId;if(null!==A)A=d.util.hexToBytes(A);else if(v.generateLocalKeyId)if(T){var H=d.util.isArray(T)?T[0]:T;"string"==typeof H&&(H=p.certificateFromPem(H)),(W=d.md.sha1.create()).update(u.toDer(p.certificateToAsn1(H)).getBytes()),A=W.digest().getBytes()}else A=d.random.getBytes(20);var S=[];null!==A&&S.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.localKeyId).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A)])])),"friendlyName"in v&&S.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.friendlyName).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.BMPSTRING,!1,v.friendlyName)])])),S.length>0&&(F=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,S));var x=[],V=[];null!==T&&(V=d.util.isArray(T)?T:[T]);for(var c=[],j=0;j<V.length;++j){"string"==typeof(T=V[j])&&(T=p.certificateFromPem(T));var Q=0===j?F:void 0,$=p.certificateToAsn1(T),te=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.certBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.x509Certificate).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer($).getBytes())])])]),Q]);c.push(te)}if(c.length>0){var ee=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,c),ne=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(ee).getBytes())])]);x.push(ne)}var de=null;if(null!==D){var pe=p.wrapRsaPrivateKey(p.privateKeyToAsn1(D));de=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,null===h?[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.keyBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[pe]),F]:[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.pkcs8ShroudedKeyBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[p.encryptPrivateKeyInfo(pe,h,v)]),F]);var ye=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[de]),be=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(ye).getBytes())])]);x.push(be)}var rt,Le=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,x);if(v.useMac){var W=d.md.sha1.create(),We=new d.util.ByteBuffer(d.random.getBytes(v.saltSize)),Ce=v.count,Ye=(D=N.generateKey(h,We,3,Ce,20),d.hmac.create());Ye.start(W,D),Ye.update(u.toDer(Le).getBytes());var we=Ye.getMac();rt=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.sha1).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,we.getBytes())]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,We.getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(Ce).getBytes())])}return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(3).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(Le).getBytes())])]),rt])},N.generateKey=d.pbe.generatePkcs12Key},422:(_e,tt,Y)=>{var d=Y(659);Y(298),Y(791),Y(279),Y(78),Y(604),Y(957),Y(365),Y(747),Y(911);var u=d.asn1,p=_e.exports=d.pkcs7=d.pkcs7||{};function N(D){var T={},h=[];if(!u.validate(D,p.asn1.recipientInfoValidator,T,h)){var v=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw v.errors=h,v}return{version:T.version.charCodeAt(0),issuer:d.pki.RDNAttributesAsArray(T.issuer),serialNumber:d.util.createBuffer(T.serial).toHex(),encryptedContent:{algorithm:u.derToOid(T.encAlgorithm),parameter:T.encParameter?T.encParameter.value:void 0,content:T.encKey}}}function w(D){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[d.pki.distinguishedNameToAsn1({attributes:D.issuer}),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.util.hexToBytes(D.serialNumber))]),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.encryptedContent.algorithm).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.encryptedContent.content)])}function b(D){for(var T=[],h=0;h<D.length;++h)T.push(w(D[h]));return T}function f(D){var T=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[d.pki.distinguishedNameToAsn1({attributes:D.issuer}),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.util.hexToBytes(D.serialNumber))]),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.digestAlgorithm).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])]);if(D.authenticatedAttributesAsn1&&T.value.push(D.authenticatedAttributesAsn1),T.value.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.signatureAlgorithm).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])),T.value.push(u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.signature)),D.unauthenticatedAttributes.length>0){for(var h=u.create(u.Class.CONTEXT_SPECIFIC,1,!0,[]),v=0;v<D.unauthenticatedAttributes.length;++v)h.values.push(G(D.unauthenticatedAttributes[v]));T.value.push(h)}return T}function G(D){var T;if(D.type===d.pki.oids.contentType)T=u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.value).getBytes());else if(D.type===d.pki.oids.messageDigest)T=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.value.bytes());else if(D.type===d.pki.oids.signingTime){var h=new Date("1950-01-01T00:00:00Z"),v=new Date("2050-01-01T00:00:00Z"),A=D.value;if("string"==typeof A){var F=Date.parse(A);A=isNaN(F)?13===A.length?u.utcTimeToDate(A):u.generalizedTimeToDate(A):new Date(F)}T=A>=h&&A<v?u.create(u.Class.UNIVERSAL,u.Type.UTCTIME,!1,u.dateToUtcTime(A)):u.create(u.Class.UNIVERSAL,u.Type.GENERALIZEDTIME,!1,u.dateToGeneralizedTime(A))}return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.type).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[T])])}function M(D){return[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(d.pki.oids.data).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.algorithm).getBytes()),D.parameter?u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.parameter.getBytes()):void 0]),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.content.getBytes())])]}function _(D,T,h){var v={};if(!u.validate(T,h,v,[])){var F=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw F.errors=F,F}if(u.derToOid(v.contentType)!==d.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(v.encryptedContent){var W="";if(d.util.isArray(v.encryptedContent))for(var S=0;S<v.encryptedContent.length;++S){if(v.encryptedContent[S].type!==u.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");W+=v.encryptedContent[S].value}else W=v.encryptedContent;D.encryptedContent={algorithm:u.derToOid(v.encAlgorithm),parameter:d.util.createBuffer(v.encParameter.value),content:d.util.createBuffer(W)}}if(v.content){if(W="",d.util.isArray(v.content))for(S=0;S<v.content.length;++S){if(v.content[S].type!==u.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");W+=v.content[S].value}else W=v.content;D.content=d.util.createBuffer(W)}return D.version=v.version.charCodeAt(0),D.rawCapture=v,v}function B(D){if(void 0===D.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===D.content){var T;switch(D.encryptedContent.algorithm){case d.pki.oids["aes128-CBC"]:case d.pki.oids["aes192-CBC"]:case d.pki.oids["aes256-CBC"]:T=d.aes.createDecryptionCipher(D.encryptedContent.key);break;case d.pki.oids.desCBC:case d.pki.oids["des-EDE3-CBC"]:T=d.des.createDecryptionCipher(D.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+D.encryptedContent.algorithm)}if(T.start(D.encryptedContent.parameter),T.update(D.encryptedContent.content),!T.finish())throw new Error("Symmetric decryption failed.");D.content=T.output}}p.messageFromPem=function(D){var T=d.pem.decode(D)[0];if("PKCS7"!==T.type){var h=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw h.headerType=T.type,h}if(T.procType&&"ENCRYPTED"===T.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var v=u.fromDer(T.body);return p.messageFromAsn1(v)},p.messageToPem=function(D,T){var h={type:"PKCS7",body:u.toDer(D.toAsn1()).getBytes()};return d.pem.encode(h,{maxline:T})},p.messageFromAsn1=function(D){var T={},h=[];if(!u.validate(D,p.asn1.contentInfoValidator,T,h)){var v=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw v.errors=h,v}var F,A=u.derToOid(T.contentType);switch(A){case d.pki.oids.envelopedData:F=p.createEnvelopedData();break;case d.pki.oids.encryptedData:F=p.createEncryptedData();break;case d.pki.oids.signedData:F=p.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+A+" is not (yet) supported.")}return F.fromAsn1(T.content.value[0]),F},p.createSignedData=function(){var D=null;return D={type:d.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(v){if(_(D,v,p.asn1.signedDataValidator),D.certificates=[],D.crls=[],D.digestAlgorithmIdentifiers=[],D.contentInfo=null,D.signerInfos=[],D.rawCapture.certificates)for(var A=D.rawCapture.certificates.value,F=0;F<A.length;++F)D.certificates.push(d.pki.certificateFromAsn1(A[F]))},toAsn1:function(){D.contentInfo||D.sign();for(var v=[],A=0;A<D.certificates.length;++A)v.push(d.pki.certificateToAsn1(D.certificates[A]));var F=[],H=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,D.digestAlgorithmIdentifiers),D.contentInfo])]);return v.length>0&&H.value[0].value.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,v)),F.length>0&&H.value[0].value.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,F)),H.value[0].value.push(u.create(u.Class.UNIVERSAL,u.Type.SET,!0,D.signerInfos)),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.type).getBytes()),H])},addSigner:function(v){var A=v.issuer,F=v.serialNumber;if(v.certificate){var H=v.certificate;"string"==typeof H&&(H=d.pki.certificateFromPem(H)),A=H.issuer.attributes,F=H.serialNumber}var W=v.key;if(!W)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof W&&(W=d.pki.privateKeyFromPem(W));var S=v.digestAlgorithm||d.pki.oids.sha1;switch(S){case d.pki.oids.sha1:case d.pki.oids.sha256:case d.pki.oids.sha384:case d.pki.oids.sha512:case d.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+S)}var x=v.authenticatedAttributes||[];if(x.length>0){for(var V=!1,c=!1,j=0;j<x.length;++j){var Q=x[j];if(V||Q.type!==d.pki.oids.contentType){if(c||Q.type!==d.pki.oids.messageDigest);else if(c=!0,V)break}else if(V=!0,c)break}if(!V||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}D.signers.push({key:W,version:1,issuer:A,serialNumber:F,digestAlgorithm:S,signatureAlgorithm:d.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:x,unauthenticatedAttributes:[]})},sign:function(v){var A;if(v=v||{},"object"==typeof D.content&&null!==D.contentInfo||(D.contentInfo=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(d.pki.oids.data).getBytes())]),!("content"in D))||(D.content instanceof d.util.ByteBuffer?A=D.content.bytes():"string"==typeof D.content&&(A=d.util.encodeUtf8(D.content)),v.detached?D.detachedContent=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A):D.contentInfo.value.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A)]))),0!==D.signers.length){var F=function T(){for(var v={},A=0;A<D.signers.length;++A){var F=D.signers[A];(H=F.digestAlgorithm)in v||(v[H]=d.md[d.pki.oids[H]].create()),F.md=0===F.authenticatedAttributes.length?v[H]:d.md[d.pki.oids[H]].create()}for(var H in D.digestAlgorithmIdentifiers=[],v)D.digestAlgorithmIdentifiers.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(H).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]));return v}();!function h(v){var A;if(D.detachedContent?A=D.detachedContent:A=(A=D.contentInfo.value[1]).value[0],!A)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var F=u.derToOid(D.contentInfo.value[0].value),H=u.toDer(A);for(var W in H.getByte(),u.getBerValueLength(H),H=H.getBytes(),v)v[W].start().update(H);for(var S=new Date,x=0;x<D.signers.length;++x){var V=D.signers[x];if(0===V.authenticatedAttributes.length){if(F!==d.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{V.authenticatedAttributesAsn1=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var c=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[]),j=0;j<V.authenticatedAttributes.length;++j){var Q=V.authenticatedAttributes[j];Q.type===d.pki.oids.messageDigest?Q.value=v[V.digestAlgorithm].digest():Q.type===d.pki.oids.signingTime&&(Q.value||(Q.value=S)),c.value.push(G(Q)),V.authenticatedAttributesAsn1.value.push(G(Q))}H=u.toDer(c).getBytes(),V.md.start().update(H)}V.signature=V.key.sign(V.md,"RSASSA-PKCS1-V1_5")}D.signerInfos=function O(D){for(var T=[],h=0;h<D.length;++h)T.push(f(D[h]));return T}(D.signers)}(F)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(v){"string"==typeof v&&(v=d.pki.certificateFromPem(v)),D.certificates.push(v)},addCertificateRevokationList:function(v){throw new Error("PKCS#7 CRL support not yet implemented.")}}},p.createEncryptedData=function(){var D=null;return D={type:d.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:d.pki.oids["aes256-CBC"]},fromAsn1:function(T){_(D,T,p.asn1.encryptedDataValidator)},decrypt:function(T){void 0!==T&&(D.encryptedContent.key=T),B(D)}}},p.createEnvelopedData=function(){var D=null;return D={type:d.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:d.pki.oids["aes256-CBC"]},fromAsn1:function(T){var h=_(D,T,p.asn1.envelopedDataValidator);D.recipients=function P(D){for(var T=[],h=0;h<D.length;++h)T.push(N(D[h]));return T}(h.recipientInfos.value)},toAsn1:function(){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.type).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,b(D.recipients)),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,M(D.encryptedContent))])])])},findRecipient:function(T){for(var h=T.issuer.attributes,v=0;v<D.recipients.length;++v){var A=D.recipients[v],F=A.issuer;if(A.serialNumber===T.serialNumber&&F.length===h.length){for(var H=!0,W=0;W<h.length;++W)if(F[W].type!==h[W].type||F[W].value!==h[W].value){H=!1;break}if(H)return A}}return null},decrypt:function(T,h){if(void 0===D.encryptedContent.key&&void 0!==T&&void 0!==h)switch(T.encryptedContent.algorithm){case d.pki.oids.rsaEncryption:case d.pki.oids.desCBC:var v=h.decrypt(T.encryptedContent.content);D.encryptedContent.key=d.util.createBuffer(v);break;default:throw new Error("Unsupported asymmetric cipher, OID "+T.encryptedContent.algorithm)}B(D)},addRecipient:function(T){D.recipients.push({version:0,issuer:T.issuer.attributes,serialNumber:T.serialNumber,encryptedContent:{algorithm:d.pki.oids.rsaEncryption,key:T.publicKey}})},encrypt:function(T,h){if(void 0===D.encryptedContent.content){var v,A,F;switch(T=T||D.encryptedContent.key,h=h||D.encryptedContent.algorithm){case d.pki.oids["aes128-CBC"]:v=16,A=16,F=d.aes.createEncryptionCipher;break;case d.pki.oids["aes192-CBC"]:v=24,A=16,F=d.aes.createEncryptionCipher;break;case d.pki.oids["aes256-CBC"]:v=32,A=16,F=d.aes.createEncryptionCipher;break;case d.pki.oids["des-EDE3-CBC"]:v=24,A=8,F=d.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+h)}if(void 0===T)T=d.util.createBuffer(d.random.getBytes(v));else if(T.length()!=v)throw new Error("Symmetric key has wrong length; got "+T.length()+" bytes, expected "+v+".");D.encryptedContent.algorithm=h,D.encryptedContent.key=T,D.encryptedContent.parameter=d.util.createBuffer(d.random.getBytes(A));var H=F(T);if(H.start(D.encryptedContent.parameter.copy()),H.update(D.content),!H.finish())throw new Error("Symmetric encryption failed.");D.encryptedContent.content=H.output}for(var W=0;W<D.recipients.length;++W){var S=D.recipients[W];if(void 0===S.encryptedContent.content){if(S.encryptedContent.algorithm!==d.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+S.encryptedContent.algorithm);S.encryptedContent.content=S.encryptedContent.key.encrypt(D.encryptedContent.key.data)}}}}}},957:(_e,tt,Y)=>{var d=Y(659);Y(791),Y(747);var u=d.asn1,p=_e.exports=d.pkcs7asn1=d.pkcs7asn1||{};d.pkcs7=d.pkcs7||{},d.pkcs7.asn1=p;var N={name:"ContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p.contentInfoValidator=N;var w={name:"EncryptedContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:u.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p.envelopedDataValidator={name:"EnvelopedData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(w)},p.encryptedDataValidator={name:"EncryptedData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"}].concat(w)},p.signedDataValidator={name:"SignedData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},N,{name:"SignedData.Certificates",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:u.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},p.recipientInfoValidator={name:"RecipientInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:u.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},965:(_e,tt,Y)=>{var d=Y(659);Y(791),Y(78),Y(158),Y(604),Y(949),Y(562),Y(256),Y(517),Y(747),Y(911);var u=d.asn1,p=_e.exports=d.pki=d.pki||{};p.pemToDer=function(N){var w=d.pem.decode(N)[0];if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return d.util.createBuffer(w.body)},p.privateKeyFromPem=function(N){var w=d.pem.decode(N)[0];if("PRIVATE KEY"!==w.type&&"RSA PRIVATE KEY"!==w.type){var P=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw P.headerType=w.type,P}if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var b=u.fromDer(w.body);return p.privateKeyFromAsn1(b)},p.privateKeyToPem=function(N,w){var P={type:"RSA PRIVATE KEY",body:u.toDer(p.privateKeyToAsn1(N)).getBytes()};return d.pem.encode(P,{maxline:w})},p.privateKeyInfoToPem=function(N,w){var P={type:"PRIVATE KEY",body:u.toDer(N).getBytes()};return d.pem.encode(P,{maxline:w})}},709:(_e,tt,Y)=>{var d=Y(659);Y(747),Y(730),Y(365),function(){if(d.prime)_e.exports=d.prime;else{var u=_e.exports=d.prime=d.prime||{},p=d.jsbn.BigInteger,N=[6,4,2,4,2,4,6,2],w=new p(null);w.fromInt(30);var P=function(M,_){return M|_};u.generateProbablePrime=function(M,_,B){"function"==typeof _&&(B=_,_={});var D=(_=_||{}).algorithm||"PRIMEINC";"string"==typeof D&&(D={name:D}),D.options=D.options||{};var T=_.prng||d.random;if("PRIMEINC"===D.name)return function b(M,_,B,D){return"workers"in B?function C(M,_,B,D){if(typeof Worker>"u")return E(M,_,B,D);var T=O(M,_),h=B.workers,v=B.workLoad||100,A=30*v/8,F=B.workerScript||"forge/prime.worker.js";if(-1===h)return d.util.estimateCores(function(W,S){W&&(S=2),h=S-1,H()});function H(){h=Math.max(1,h);for(var W=[],S=0;S<h;++S)W[S]=new Worker(F);for(S=0;S<h;++S)W[S].addEventListener("message",c);var V=!1;function c(j){if(!V){var Q=j.data;if(Q.found){for(var $=0;$<W.length;++$)W[$].terminate();return V=!0,D(null,new p(Q.prime,16))}T.bitLength()>M&&(T=O(M,_));var te=T.toString(16);j.target.postMessage({hex:te,workLoad:v}),T.dAddOffset(A,0)}}}H()}(M,_,B,D):E(M,_,B,D)}(M,{nextBytes:function(v){for(var A=T.getBytesSync(v.length),F=0;F<v.length;++F)v[F]=A.charCodeAt(F)}},D.options,B);throw new Error("Invalid prime generation algorithm: "+D.name)}}function E(M,_,B,D){var T=O(M,_),v=function G(M){return M<=100?27:M<=150?18:M<=200?15:M<=250?12:M<=300?9:M<=350?8:M<=400?7:M<=500?6:M<=600?5:M<=800?4:M<=1250?3:2}(T.bitLength());"millerRabinTests"in B&&(v=B.millerRabinTests);var A=10;"maxBlockTime"in B&&(A=B.maxBlockTime),f(T,M,_,0,v,A,D)}function f(M,_,B,D,T,h,v){var A=+new Date;do{if(M.bitLength()>_&&(M=O(_,B)),M.isProbablePrime(T))return v(null,M);M.dAddOffset(N[D++%8],0)}while(h<0||+new Date-A<h);d.util.setImmediate(function(){f(M,_,B,D,T,h,v)})}function O(M,_){var B=new p(M,_),D=M-1;return B.testBit(D)||B.bitwiseTo(p.ONE.shiftLeft(D),P,B),B.dAddOffset(31-B.mod(w).byteValue(),0),B}}()},473:(_e,tt,Y)=>{var d=Y(659);Y(747);var u=null;d.util.isNodejs&&!d.options.usePureJavaScript&&!process.versions["node-webkit"]&&(u=Y(819)),(_e.exports=d.prng=d.prng||{}).create=function(N){for(var w={plugin:N,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},P=N.md,b=new Array(32),E=0;E<32;++E)b[E]=P.create();function C(){if(w.pools[0].messageLength>=32)return O();w.collect(w.seedFileSync(32-w.pools[0].messageLength<<5)),O()}function O(){w.reseeds=4294967295===w.reseeds?0:w.reseeds+1;var M=w.plugin.md.create();M.update(w.keyBytes);for(var _=1,B=0;B<32;++B)w.reseeds%_==0&&(M.update(w.pools[B].digest().getBytes()),w.pools[B].start()),_<<=1;w.keyBytes=M.digest().getBytes(),M.start(),M.update(w.keyBytes);var D=M.digest().getBytes();w.key=w.plugin.formatKey(w.keyBytes),w.seed=w.plugin.formatSeed(D),w.generated=0}function G(M){var _=null,B=d.util.globalScope,D=B.crypto||B.msCrypto;D&&D.getRandomValues&&(_=function(x){return D.getRandomValues(x)});var T=d.util.createBuffer();if(_)for(;T.length()<M;){var h=Math.max(1,Math.min(M-T.length(),65536)/4),v=new Uint32Array(Math.floor(h));try{_(v);for(var A=0;A<v.length;++A)T.putInt32(v[A])}catch(x){if(!(typeof QuotaExceededError<"u"&&x instanceof QuotaExceededError))throw x}}if(T.length()<M)for(var F,H,W,S=Math.floor(65536*Math.random());T.length()<M;)for(H=16807*(65535&S),H+=(32767&(F=16807*(S>>16)))<<16,S=4294967295&(H=(2147483647&(H+=F>>15))+(H>>31)),A=0;A<3;++A)W=S>>>(A<<3),W^=Math.floor(256*Math.random()),T.putByte(255&W);return T.getBytes(M)}return w.pools=b,w.pool=0,w.generate=function(M,_){if(!_)return w.generateSync(M);var B=w.plugin.cipher,D=w.plugin.increment,T=w.plugin.formatKey,h=w.plugin.formatSeed,v=d.util.createBuffer();w.key=null,function A(F){if(F)return _(F);if(v.length()>=M)return _(null,v.getBytes(M));if(w.generated>1048575&&(w.key=null),null===w.key)return d.util.nextTick(function(){!function f(M){if(w.pools[0].messageLength>=32)return O(),M();w.seedFile(32-w.pools[0].messageLength<<5,function(B,D){if(B)return M(B);w.collect(D),O(),M()})}(A)});var H=B(w.key,w.seed);w.generated+=H.length,v.putBytes(H),w.key=T(B(w.key,D(w.seed))),w.seed=h(B(w.key,w.seed)),d.util.setImmediate(A)}()},w.generateSync=function(M){var _=w.plugin.cipher,B=w.plugin.increment,D=w.plugin.formatKey,T=w.plugin.formatSeed;w.key=null;for(var h=d.util.createBuffer();h.length()<M;){w.generated>1048575&&(w.key=null),null===w.key&&C();var v=_(w.key,w.seed);w.generated+=v.length,h.putBytes(v),w.key=D(_(w.key,B(w.seed))),w.seed=T(_(w.key,w.seed))}return h.getBytes(M)},u?(w.seedFile=function(M,_){u.randomBytes(M,function(B,D){if(B)return _(B);_(null,D.toString())})},w.seedFileSync=function(M){return u.randomBytes(M).toString()}):(w.seedFile=function(M,_){try{_(null,G(M))}catch(B){_(B)}},w.seedFileSync=G),w.collect=function(M){for(var _=M.length,B=0;B<_;++B)w.pools[w.pool].update(M.substr(B,1)),w.pool=31===w.pool?0:w.pool+1},w.collectInt=function(M,_){for(var B="",D=0;D<_;D+=8)B+=String.fromCharCode(M>>D&255);w.collect(B)},w.registerWorker=function(M){M===self?w.seedFile=function(B,D){self.addEventListener("message",function T(h){var v=h.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",T),D(v.forge.prng.err,v.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:B}}})}:M.addEventListener("message",function(B){var D=B.data;D.forge&&D.forge.prng&&w.seedFile(D.forge.prng.needed,function(T,h){M.postMessage({forge:{prng:{err:T,bytes:h}}})})})},w}},256:(_e,tt,Y)=>{var d=Y(659);Y(365),Y(747),(_e.exports=d.pss=d.pss||{}).create=function(p){3===arguments.length&&(p={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var E,N=p.md,w=p.mgf,P=N.digestLength,b=p.salt||null;if("string"==typeof b&&(b=d.util.createBuffer(b)),"saltLength"in p)E=p.saltLength;else{if(null===b)throw new Error("Salt length not specified or specific salt not given.");E=b.length()}if(null!==b&&b.length()!==E)throw new Error("Given salt length does not match length of given salt.");var f=p.prng||d.random;return{encode:function(O,G){var M,T,_=G-1,B=Math.ceil(_/8),D=O.digest().getBytes();if(B<P+E+2)throw new Error("Message is too long to encrypt.");T=null===b?f.getBytesSync(E):b.bytes();var h=new d.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(D),h.putBytes(T),N.start(),N.update(h.getBytes());var v=N.digest().getBytes(),A=new d.util.ByteBuffer;A.fillWithByte(0,B-E-P-2),A.putByte(1),A.putBytes(T);var F=A.getBytes(),H=B-P-1,W=w.generate(v,H),S="";for(M=0;M<H;M++)S+=String.fromCharCode(F.charCodeAt(M)^W.charCodeAt(M));var x=65280>>8*B-_&255;return(S=String.fromCharCode(S.charCodeAt(0)&~x)+S.substr(1))+v+String.fromCharCode(188)},verify:function(O,G,M){var _,B=M-1,D=Math.ceil(B/8);if(G=G.substr(-D),D<P+E+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==G.charCodeAt(D-1))throw new Error("Encoded message does not end in 0xBC.");var T=D-P-1,h=G.substr(0,T),v=G.substr(T,P),A=65280>>8*D-B&255;if(h.charCodeAt(0)&A)throw new Error("Bits beyond keysize not zero as expected.");var F=w.generate(v,T),H="";for(_=0;_<T;_++)H+=String.fromCharCode(h.charCodeAt(_)^F.charCodeAt(_));H=String.fromCharCode(H.charCodeAt(0)&~A)+H.substr(1);var W=D-P-E-2;for(_=0;_<W;_++)if(0!==H.charCodeAt(_))throw new Error("Leftmost octets not zero as expected");if(1!==H.charCodeAt(W))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var S=H.substr(-E),x=new d.util.ByteBuffer;return x.fillWithByte(0,8),x.putBytes(O),x.putBytes(S),N.start(),N.update(x.getBytes()),v===N.digest().getBytes()}}}},365:(_e,tt,Y)=>{var d=Y(659);Y(298),Y(594),Y(473),Y(747),d.random&&d.random.getBytes?_e.exports=d.random:function(u){var p={},N=new Array(4),w=d.util.createBuffer();function P(){var M=d.prng.create(p);return M.getBytes=function(_,B){return M.generate(_,B)},M.getBytesSync=function(_){return M.generate(_)},M}p.formatKey=function(M){var _=d.util.createBuffer(M);return(M=new Array(4))[0]=_.getInt32(),M[1]=_.getInt32(),M[2]=_.getInt32(),M[3]=_.getInt32(),d.aes._expandKey(M,!1)},p.formatSeed=function(M){var _=d.util.createBuffer(M);return(M=new Array(4))[0]=_.getInt32(),M[1]=_.getInt32(),M[2]=_.getInt32(),M[3]=_.getInt32(),M},p.cipher=function(M,_){return d.aes._updateBlock(M,_,N,!1),w.putInt32(N[0]),w.putInt32(N[1]),w.putInt32(N[2]),w.putInt32(N[3]),w.getBytes()},p.increment=function(M){return++M[3],M},p.md=d.md.sha256;var b=P(),E=null,f=d.util.globalScope,C=f.crypto||f.msCrypto;if(C&&C.getRandomValues&&(E=function(M){return C.getRandomValues(M)}),d.options.usePureJavaScript||!d.util.isNodejs&&!E){if(typeof window>"u"||window,b.collectInt(+new Date,32),typeof navigator<"u"){var O="";for(var G in navigator)try{"string"==typeof navigator[G]&&(O+=navigator[G])}catch{}b.collect(O),O=null}u&&(u().mousemove(function(M){b.collectInt(M.clientX,16),b.collectInt(M.clientY,16)}),u().keypress(function(M){b.collectInt(M.charCode,8)}))}if(d.random)for(var G in b)d.random[G]=b[G];else d.random=b;d.random.createInstance=P,_e.exports=d.random}(typeof jQuery<"u"?jQuery:null)},209:(_e,tt,Y)=>{var d=Y(659);Y(747);var u=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],p=[1,2,3,5],N=function(b,E){return b<<E&65535|(65535&b)>>16-E},w=function(b,E){return(65535&b)>>E|b<<16-E&65535};_e.exports=d.rc2=d.rc2||{},d.rc2.expandKey=function(b,E){"string"==typeof b&&(b=d.util.createBuffer(b)),E=E||128;var _,f=b,C=b.length(),O=E,G=Math.ceil(O/8),M=255>>(7&O);for(_=C;_<128;_++)f.putByte(u[f.at(_-1)+f.at(_-C)&255]);for(f.setAt(128-G,u[f.at(128-G)&M]),_=127-G;_>=0;_--)f.setAt(_,u[f.at(_+1)^f.at(_+G)]);return f};var P=function(b,E,f){var _,B,D,T,C=!1,O=null,G=null,M=null,h=[];for(b=d.rc2.expandKey(b,E),D=0;D<64;D++)h.push(b.getInt16Le());f?(_=function(F){for(D=0;D<4;D++)F[D]+=h[T]+(F[(D+3)%4]&F[(D+2)%4])+(~F[(D+3)%4]&F[(D+1)%4]),F[D]=N(F[D],p[D]),T++},B=function(F){for(D=0;D<4;D++)F[D]+=h[63&F[(D+3)%4]]}):(_=function(F){for(D=3;D>=0;D--)F[D]=w(F[D],p[D]),F[D]-=h[T]+(F[(D+3)%4]&F[(D+2)%4])+(~F[(D+3)%4]&F[(D+1)%4]),T--},B=function(F){for(D=3;D>=0;D--)F[D]-=h[63&F[(D+3)%4]]});var v=function(F){var H=[];for(D=0;D<4;D++){var W=O.getInt16Le();null!==M&&(f?W^=M.getInt16Le():M.putInt16Le(W)),H.push(65535&W)}T=f?0:63;for(var S=0;S<F.length;S++)for(var x=0;x<F[S][0];x++)F[S][1](H);for(D=0;D<4;D++)null!==M&&(f?M.putInt16Le(H[D]):H[D]^=M.getInt16Le()),G.putInt16Le(H[D])},A=null;return A={start:function(F,H){F&&"string"==typeof F&&(F=d.util.createBuffer(F)),C=!1,O=d.util.createBuffer(),G=H||new d.util.createBuffer,M=F,A.output=G},update:function(F){for(C||O.putBuffer(F);O.length()>=8;)v([[5,_],[1,B],[6,_],[1,B],[5,_]])},finish:function(F){var H=!0;if(f)if(F)H=F(8,O,!f);else{var W=8===O.length()?8:8-O.length();O.fillWithByte(W,W)}if(H&&(C=!0,A.update()),!f&&(H=0===O.length()))if(F)H=F(8,G,!f);else{var S=G.length(),x=G.at(S-1);x>S?H=!1:G.truncate(x)}return H}}};d.rc2.startEncrypting=function(b,E,f){var C=d.rc2.createEncryptionCipher(b,128);return C.start(E,f),C},d.rc2.createEncryptionCipher=function(b,E){return P(b,E,!0)},d.rc2.startDecrypting=function(b,E,f){var C=d.rc2.createDecryptionCipher(b,128);return C.start(E,f),C},d.rc2.createDecryptionCipher=function(b,E){return P(b,E,!1)}},517:(_e,tt,Y)=>{var d=Y(659);if(Y(791),Y(730),Y(78),Y(246),Y(709),Y(365),Y(747),typeof u>"u")var u=d.jsbn.BigInteger;var p=d.util.isNodejs?Y(819):null,N=d.asn1,w=d.util;d.pki=d.pki||{},_e.exports=d.pki.rsa=d.rsa=d.rsa||{};var P=d.pki,b=[6,4,2,4,2,4,6,2],E={name:"PrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},C={name:"RSAPublicKey",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},O=d.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:N.Class.UNIVERSAL,type:N.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},G={name:"DigestInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:N.Class.UNIVERSAL,type:N.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},M=function(c){if(!(c.algorithm in P.oids)){var Q=new Error("Unknown message digest algorithm.");throw Q.algorithm=c.algorithm,Q}var $=N.oidToDer(P.oids[c.algorithm]).getBytes(),te=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]),ee=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);ee.value.push(N.create(N.Class.UNIVERSAL,N.Type.OID,!1,$)),ee.value.push(N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,""));var ne=N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,c.digest().getBytes());return te.value.push(ee),te.value.push(ne),N.toDer(te).getBytes()},_=function(c,j,Q){if(Q)return c.modPow(j.e,j.n);if(!j.p||!j.q)return c.modPow(j.d,j.n);var $;j.dP||(j.dP=j.d.mod(j.p.subtract(u.ONE))),j.dQ||(j.dQ=j.d.mod(j.q.subtract(u.ONE))),j.qInv||(j.qInv=j.q.modInverse(j.p));do{$=new u(d.util.bytesToHex(d.random.getBytes(j.n.bitLength()/8)),16)}while($.compareTo(j.n)>=0||!$.gcd(j.n).equals(u.ONE));for(var te=(c=c.multiply($.modPow(j.e,j.n)).mod(j.n)).mod(j.p).modPow(j.dP,j.p),ee=c.mod(j.q).modPow(j.dQ,j.q);te.compareTo(ee)<0;)te=te.add(j.p);var ne=te.subtract(ee).multiply(j.qInv).mod(j.p).multiply(j.q).add(ee);return ne.multiply($.modInverse(j.n)).mod(j.n)};function B(c,j,Q){var $=d.util.createBuffer(),te=Math.ceil(j.n.bitLength()/8);if(c.length>te-11){var ee=new Error("Message is too long for PKCS#1 v1.5 padding.");throw ee.length=c.length,ee.max=te-11,ee}$.putByte(0),$.putByte(Q);var de,ne=te-3-c.length;if(0===Q||1===Q){de=0===Q?0:255;for(var pe=0;pe<ne;++pe)$.putByte(de)}else for(;ne>0;){var ye=0,be=d.random.getBytes(ne);for(pe=0;pe<ne;++pe)0===(de=be.charCodeAt(pe))?++ye:$.putByte(de);ne=ye}return $.putByte(0),$.putBytes(c),$}function D(c,j,Q,$){var te=Math.ceil(j.n.bitLength()/8),ee=d.util.createBuffer(c),ne=ee.getByte(),de=ee.getByte();if(0!==ne||Q&&0!==de&&1!==de||!Q&&2!=de||Q&&0===de&&typeof $>"u")throw new Error("Encryption block is invalid.");var pe=0;if(0===de){pe=te-3-$;for(var ye=0;ye<pe;++ye)if(0!==ee.getByte())throw new Error("Encryption block is invalid.")}else if(1===de)for(pe=0;ee.length()>1;){if(255!==ee.getByte()){--ee.read;break}++pe}else if(2===de)for(pe=0;ee.length()>1;){if(0===ee.getByte()){--ee.read;break}++pe}if(0!==ee.getByte()||pe!==te-3-ee.length())throw new Error("Encryption block is invalid.");return ee.getBytes()}function h(c){var j=c.toString(16);j[0]>="8"&&(j="00"+j);var Q=d.util.hexToBytes(j);return Q.length>1&&(0===Q.charCodeAt(0)&&!(128&Q.charCodeAt(1))||255===Q.charCodeAt(0)&&128==(128&Q.charCodeAt(1)))?Q.substr(1):Q}function v(c){return c<=100?27:c<=150?18:c<=200?15:c<=250?12:c<=300?9:c<=350?8:c<=400?7:c<=500?6:c<=600?5:c<=800?4:c<=1250?3:2}function A(c){return d.util.isNodejs&&"function"==typeof p[c]}function F(c){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.crypto&&"object"==typeof w.globalScope.crypto.subtle&&"function"==typeof w.globalScope.crypto.subtle[c]}function H(c){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.msCrypto&&"object"==typeof w.globalScope.msCrypto.subtle&&"function"==typeof w.globalScope.msCrypto.subtle[c]}function W(c){for(var j=d.util.hexToBytes(c.toString(16)),Q=new Uint8Array(j.length),$=0;$<j.length;++$)Q[$]=j.charCodeAt($);return Q}P.rsa.encrypt=function(c,j,Q){var te,$=Q,ee=Math.ceil(j.n.bitLength()/8);!1!==Q&&!0!==Q?($=2===Q,te=B(c,j,Q)):(te=d.util.createBuffer()).putBytes(c);for(var ne=new u(te.toHex(),16),pe=_(ne,j,$).toString(16),ye=d.util.createBuffer(),be=ee-Math.ceil(pe.length/2);be>0;)ye.putByte(0),--be;return ye.putBytes(d.util.hexToBytes(pe)),ye.getBytes()},P.rsa.decrypt=function(c,j,Q,$){var te=Math.ceil(j.n.bitLength()/8);if(c.length!==te){var ee=new Error("Encrypted message length is invalid.");throw ee.length=c.length,ee.expected=te,ee}var ne=new u(d.util.createBuffer(c).toHex(),16);if(ne.compareTo(j.n)>=0)throw new Error("Encrypted message is invalid.");for(var pe=_(ne,j,Q).toString(16),ye=d.util.createBuffer(),be=te-Math.ceil(pe.length/2);be>0;)ye.putByte(0),--be;return ye.putBytes(d.util.hexToBytes(pe)),!1!==$?D(ye.getBytes(),j,Q):ye.getBytes()},P.rsa.createKeyPairGenerationState=function(c,j,Q){"string"==typeof c&&(c=parseInt(c,10)),c=c||2048;var ne,$=(Q=Q||{}).prng||d.random,te={nextBytes:function(de){for(var pe=$.getBytesSync(de.length),ye=0;ye<de.length;++ye)de[ye]=pe.charCodeAt(ye)}},ee=Q.algorithm||"PRIMEINC";if("PRIMEINC"!==ee)throw new Error("Invalid key generation algorithm: "+ee);return(ne={algorithm:ee,state:0,bits:c,rng:te,eInt:j||65537,e:new u(null),p:null,q:null,qBits:c>>1,pBits:c-(c>>1),pqState:0,num:null,keys:null}).e.fromInt(ne.eInt),ne},P.rsa.stepKeyPairGenerationState=function(c,j){"algorithm"in c||(c.algorithm="PRIMEINC");var Q=new u(null);Q.fromInt(30);for(var ne,$=0,te=function(Le,rt){return Le|rt},ee=+new Date,de=0;null===c.keys&&(j<=0||de<j);){if(0===c.state){var pe=null===c.p?c.pBits:c.qBits,ye=pe-1;0===c.pqState?(c.num=new u(pe,c.rng),c.num.testBit(ye)||c.num.bitwiseTo(u.ONE.shiftLeft(ye),te,c.num),c.num.dAddOffset(31-c.num.mod(Q).byteValue(),0),$=0,++c.pqState):1===c.pqState?c.num.bitLength()>pe?c.pqState=0:c.num.isProbablePrime(v(c.num.bitLength()))?++c.pqState:c.num.dAddOffset(b[$++%8],0):2===c.pqState?c.pqState=0===c.num.subtract(u.ONE).gcd(c.e).compareTo(u.ONE)?3:0:3===c.pqState&&(c.pqState=0,null===c.p?c.p=c.num:c.q=c.num,null!==c.p&&null!==c.q&&++c.state,c.num=null)}else if(1===c.state)c.p.compareTo(c.q)<0&&(c.num=c.p,c.p=c.q,c.q=c.num),++c.state;else if(2===c.state)c.p1=c.p.subtract(u.ONE),c.q1=c.q.subtract(u.ONE),c.phi=c.p1.multiply(c.q1),++c.state;else if(3===c.state)0===c.phi.gcd(c.e).compareTo(u.ONE)?++c.state:(c.p=null,c.q=null,c.state=0);else if(4===c.state)c.n=c.p.multiply(c.q),c.n.bitLength()===c.bits?++c.state:(c.q=null,c.state=0);else if(5===c.state){var be=c.e.modInverse(c.phi);c.keys={privateKey:P.rsa.setPrivateKey(c.n,c.e,be,c.p,c.q,be.mod(c.p1),be.mod(c.q1),c.q.modInverse(c.p)),publicKey:P.rsa.setPublicKey(c.n,c.e)}}de+=(ne=+new Date)-ee,ee=ne}return null!==c.keys},P.rsa.generateKeyPair=function(c,j,Q,$){if(1===arguments.length?"object"==typeof c?(Q=c,c=void 0):"function"==typeof c&&($=c,c=void 0):2===arguments.length?"number"==typeof c?"function"==typeof j?($=j,j=void 0):"number"!=typeof j&&(Q=j,j=void 0):(Q=c,$=j,c=void 0,j=void 0):3===arguments.length&&("number"==typeof j?"function"==typeof Q&&($=Q,Q=void 0):($=Q,Q=j,j=void 0)),Q=Q||{},void 0===c&&(c=Q.bits||2048),void 0===j&&(j=Q.e||65537),!d.options.usePureJavaScript&&!Q.prng&&c>=256&&c<=16384&&(65537===j||3===j))if($){if(A("generateKeyPair"))return p.generateKeyPair("rsa",{modulusLength:c,publicExponent:j,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(de,pe,ye){if(de)return $(de);$(null,{privateKey:P.privateKeyFromPem(ye),publicKey:P.publicKeyFromPem(pe)})});if(F("generateKey")&&F("exportKey"))return w.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:c,publicExponent:W(j),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(de){return w.globalScope.crypto.subtle.exportKey("pkcs8",de.privateKey)}).then(void 0,function(de){$(de)}).then(function(de){if(de){var pe=P.privateKeyFromAsn1(N.fromDer(d.util.createBuffer(de)));$(null,{privateKey:pe,publicKey:P.setRsaPublicKey(pe.n,pe.e)})}});if(H("generateKey")&&H("exportKey")){var te=w.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:c,publicExponent:W(j),hash:{name:"SHA-256"}},!0,["sign","verify"]);return te.oncomplete=function(de){var ye=w.globalScope.msCrypto.subtle.exportKey("pkcs8",de.target.result.privateKey);ye.oncomplete=function(be){var rt=P.privateKeyFromAsn1(N.fromDer(d.util.createBuffer(be.target.result)));$(null,{privateKey:rt,publicKey:P.setRsaPublicKey(rt.n,rt.e)})},ye.onerror=function(be){$(be)}},void(te.onerror=function(de){$(de)})}}else if(A("generateKeyPairSync")){var ee=p.generateKeyPairSync("rsa",{modulusLength:c,publicExponent:j,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:P.privateKeyFromPem(ee.privateKey),publicKey:P.publicKeyFromPem(ee.publicKey)}}var ne=P.rsa.createKeyPairGenerationState(c,j,Q);if(!$)return P.rsa.stepKeyPairGenerationState(ne,0),ne.keys;!function T(c,j,Q){"function"==typeof j&&(Q=j,j={});var $={algorithm:{name:(j=j||{}).algorithm||"PRIMEINC",options:{workers:j.workers||2,workLoad:j.workLoad||100,workerScript:j.workerScript}}};function te(){ee(c.pBits,function(de,pe){return de?Q(de):(c.p=pe,null!==c.q?ne(de,c.q):void ee(c.qBits,ne))})}function ee(de,pe){d.prime.generateProbablePrime(de,$,pe)}function ne(de,pe){if(de)return Q(de);if(c.q=pe,c.p.compareTo(c.q)<0){var ye=c.p;c.p=c.q,c.q=ye}if(0!==c.p.subtract(u.ONE).gcd(c.e).compareTo(u.ONE))return c.p=null,void te();if(0!==c.q.subtract(u.ONE).gcd(c.e).compareTo(u.ONE))return c.q=null,void ee(c.qBits,ne);if(c.p1=c.p.subtract(u.ONE),c.q1=c.q.subtract(u.ONE),c.phi=c.p1.multiply(c.q1),0!==c.phi.gcd(c.e).compareTo(u.ONE))return c.p=c.q=null,void te();if(c.n=c.p.multiply(c.q),c.n.bitLength()!==c.bits)return c.q=null,void ee(c.qBits,ne);var be=c.e.modInverse(c.phi);c.keys={privateKey:P.rsa.setPrivateKey(c.n,c.e,be,c.p,c.q,be.mod(c.p1),be.mod(c.q1),c.q.modInverse(c.p)),publicKey:P.rsa.setPublicKey(c.n,c.e)},Q(null,c.keys)}"prng"in j&&($.prng=j.prng),te()}(ne,Q,$)},P.setRsaPublicKey=P.rsa.setPublicKey=function(c,j){var Q={n:c,e:j,encrypt:function($,te,ee){if("string"==typeof te?te=te.toUpperCase():void 0===te&&(te="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===te)te={encode:function(de,pe,ye){return B(de,pe,2).getBytes()}};else if("RSA-OAEP"===te||"RSAES-OAEP"===te)te={encode:function(de,pe){return d.pkcs1.encode_rsa_oaep(pe,de,ee)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(te))te={encode:function(de){return de}};else if("string"==typeof te)throw new Error('Unsupported encryption scheme: "'+te+'".');var ne=te.encode($,Q,!0);return P.rsa.encrypt(ne,Q,!0)},verify:function($,te,ee,ne){"string"==typeof ee?ee=ee.toUpperCase():void 0===ee&&(ee="RSASSA-PKCS1-V1_5"),void 0===ne&&(ne={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in ne||(ne._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===ee?ee={verify:function(pe,ye){ye=D(ye,Q,!0);var be=N.fromDer(ye,{parseAllBytes:ne._parseAllDigestBytes}),Le={},rt=[];if(!N.validate(be,G,Le,rt))throw(We=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=rt,We;var We,Ce=N.derToOid(Le.algorithmIdentifier);if(Ce!==d.oids.md2&&Ce!==d.oids.md5&&Ce!==d.oids.sha1&&Ce!==d.oids.sha224&&Ce!==d.oids.sha256&&Ce!==d.oids.sha384&&Ce!==d.oids.sha512&&Ce!==d.oids["sha512-224"]&&Ce!==d.oids["sha512-256"])throw(We=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Ce,We;if((Ce===d.oids.md2||Ce===d.oids.md5)&&!("parameters"in Le))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return pe===Le.digest}}:("NONE"===ee||"NULL"===ee||null===ee)&&(ee={verify:function(pe,ye){return pe===D(ye,Q,!0)}});var de=P.rsa.decrypt(te,Q,!0,!1);return ee.verify($,de,Q.n.bitLength())}};return Q},P.setRsaPrivateKey=P.rsa.setPrivateKey=function(c,j,Q,$,te,ee,ne,de){var pe={n:c,e:j,d:Q,p:$,q:te,dP:ee,dQ:ne,qInv:de,decrypt:function(ye,be,Le){"string"==typeof be?be=be.toUpperCase():void 0===be&&(be="RSAES-PKCS1-V1_5");var rt=P.rsa.decrypt(ye,pe,!1,!1);if("RSAES-PKCS1-V1_5"===be)be={decode:D};else if("RSA-OAEP"===be||"RSAES-OAEP"===be)be={decode:function(We,Ce){return d.pkcs1.decode_rsa_oaep(Ce,We,Le)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(be))throw new Error('Unsupported encryption scheme: "'+be+'".');be={decode:function(We){return We}}}return be.decode(rt,pe,!1)},sign:function(ye,be){var Le=!1;"string"==typeof be&&(be=be.toUpperCase()),void 0===be||"RSASSA-PKCS1-V1_5"===be?(be={encode:M},Le=1):("NONE"===be||"NULL"===be||null===be)&&(be={encode:function(){return ye}},Le=1);var rt=be.encode(ye,pe.n.bitLength());return P.rsa.encrypt(rt,pe,Le)}};return pe},P.wrapRsaPrivateKey=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(0).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(P.oids.rsaEncryption).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")]),N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,N.toDer(c).getBytes())])},P.privateKeyFromAsn1=function(c){var te,ee,ne,de,pe,ye,be,Le,j={},Q=[];if(N.validate(c,E,j,Q)&&(c=N.fromDer(d.util.createBuffer(j.privateKey))),!N.validate(c,f,j={},Q=[])){var $=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw $.errors=Q,$}return te=d.util.createBuffer(j.privateKeyModulus).toHex(),ee=d.util.createBuffer(j.privateKeyPublicExponent).toHex(),ne=d.util.createBuffer(j.privateKeyPrivateExponent).toHex(),de=d.util.createBuffer(j.privateKeyPrime1).toHex(),pe=d.util.createBuffer(j.privateKeyPrime2).toHex(),ye=d.util.createBuffer(j.privateKeyExponent1).toHex(),be=d.util.createBuffer(j.privateKeyExponent2).toHex(),Le=d.util.createBuffer(j.privateKeyCoefficient).toHex(),P.setRsaPrivateKey(new u(te,16),new u(ee,16),new u(ne,16),new u(de,16),new u(pe,16),new u(ye,16),new u(be,16),new u(Le,16))},P.privateKeyToAsn1=P.privateKeyToRSAPrivateKey=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(0).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.n)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.e)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.d)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.p)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.q)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.dP)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.dQ)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.qInv))])},P.publicKeyFromAsn1=function(c){var j={},Q=[];if(N.validate(c,O,j,Q)){var te,$=N.derToOid(j.publicKeyOid);if($!==P.oids.rsaEncryption)throw(te=new Error("Cannot read public key. Unknown OID.")).oid=$,te;c=j.rsaPublicKey}if(!N.validate(c,C,j,Q=[]))throw(te=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=Q,te;var ee=d.util.createBuffer(j.publicKeyModulus).toHex(),ne=d.util.createBuffer(j.publicKeyExponent).toHex();return P.setRsaPublicKey(new u(ee,16),new u(ne,16))},P.publicKeyToAsn1=P.publicKeyToSubjectPublicKeyInfo=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(P.oids.rsaEncryption).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")]),N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,[P.publicKeyToRSAPublicKey(c)])])},P.publicKeyToRSAPublicKey=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.n)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.e))])}},690:(_e,tt,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.sha1=d.sha1||{};d.md.sha1=d.md.algorithms.sha1=u,u.create=function(){N||function w(){p=String.fromCharCode(128),p+=d.util.fillString(String.fromCharCode(0),64),N=!0}();var b=null,E=d.util.createBuffer(),f=new Array(80),C={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var O=C.messageLengthSize/4,G=0;G<O;++G)C.fullMessageLength.push(0);return E=d.util.createBuffer(),b={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},C}};return C.start(),C.update=function(O,G){"utf8"===G&&(O=d.util.encodeUtf8(O));var M=O.length;C.messageLength+=M,M=[M/4294967296>>>0,M>>>0];for(var _=C.fullMessageLength.length-1;_>=0;--_)C.fullMessageLength[_]+=M[1],M[1]=M[0]+(C.fullMessageLength[_]/4294967296>>>0),C.fullMessageLength[_]=C.fullMessageLength[_]>>>0,M[0]=M[1]/4294967296>>>0;return E.putBytes(O),P(b,f,E),(E.read>2048||0===E.length())&&E.compact(),C},C.digest=function(){var O=d.util.createBuffer();O.putBytes(E.bytes()),O.putBytes(p.substr(0,C.blockLength-(C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize&C.blockLength-1)));for(var _,D=8*C.fullMessageLength[0],T=0;T<C.fullMessageLength.length-1;++T)O.putInt32((D+=(_=8*C.fullMessageLength[T+1])/4294967296>>>0)>>>0),D=_>>>0;O.putInt32(D);var h={h0:b.h0,h1:b.h1,h2:b.h2,h3:b.h3,h4:b.h4};P(h,f,O);var v=d.util.createBuffer();return v.putInt32(h.h0),v.putInt32(h.h1),v.putInt32(h.h2),v.putInt32(h.h3),v.putInt32(h.h4),v},C};var p=null,N=!1;function P(b,E,f){for(var C,O,G,M,_,B,T,h=f.length();h>=64;){for(O=b.h0,G=b.h1,M=b.h2,_=b.h3,B=b.h4,T=0;T<16;++T)C=f.getInt32(),E[T]=C,C=(O<<5|O>>>27)+(_^G&(M^_))+B+1518500249+C,B=_,_=M,M=(G<<30|G>>>2)>>>0,G=O,O=C;for(;T<20;++T)E[T]=C=(C=E[T-3]^E[T-8]^E[T-14]^E[T-16])<<1|C>>>31,C=(O<<5|O>>>27)+(_^G&(M^_))+B+1518500249+C,B=_,_=M,M=(G<<30|G>>>2)>>>0,G=O,O=C;for(;T<32;++T)E[T]=C=(C=E[T-3]^E[T-8]^E[T-14]^E[T-16])<<1|C>>>31,C=(O<<5|O>>>27)+(G^M^_)+B+1859775393+C,B=_,_=M,M=(G<<30|G>>>2)>>>0,G=O,O=C;for(;T<40;++T)E[T]=C=(C=E[T-6]^E[T-16]^E[T-28]^E[T-32])<<2|C>>>30,C=(O<<5|O>>>27)+(G^M^_)+B+1859775393+C,B=_,_=M,M=(G<<30|G>>>2)>>>0,G=O,O=C;for(;T<60;++T)E[T]=C=(C=E[T-6]^E[T-16]^E[T-28]^E[T-32])<<2|C>>>30,C=(O<<5|O>>>27)+(G&M|_&(G^M))+B+2400959708+C,B=_,_=M,M=(G<<30|G>>>2)>>>0,G=O,O=C;for(;T<80;++T)E[T]=C=(C=E[T-6]^E[T-16]^E[T-28]^E[T-32])<<2|C>>>30,C=(O<<5|O>>>27)+(G^M^_)+B+3395469782+C,B=_,_=M,M=(G<<30|G>>>2)>>>0,G=O,O=C;b.h0=b.h0+O|0,b.h1=b.h1+G|0,b.h2=b.h2+M|0,b.h3=b.h3+_|0,b.h4=b.h4+B|0,h-=64}}},594:(_e,tt,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.sha256=d.sha256||{};d.md.sha256=d.md.algorithms.sha256=u,u.create=function(){N||function P(){p=String.fromCharCode(128),p+=d.util.fillString(String.fromCharCode(0),64),w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],N=!0}();var E=null,f=d.util.createBuffer(),C=new Array(64),O={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){O.messageLength=0,O.fullMessageLength=O.messageLength64=[];for(var G=O.messageLengthSize/4,M=0;M<G;++M)O.fullMessageLength.push(0);return f=d.util.createBuffer(),E={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},O}};return O.start(),O.update=function(G,M){"utf8"===M&&(G=d.util.encodeUtf8(G));var _=G.length;O.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var B=O.fullMessageLength.length-1;B>=0;--B)O.fullMessageLength[B]+=_[1],_[1]=_[0]+(O.fullMessageLength[B]/4294967296>>>0),O.fullMessageLength[B]=O.fullMessageLength[B]>>>0,_[0]=_[1]/4294967296>>>0;return f.putBytes(G),b(E,C,f),(f.read>2048||0===f.length())&&f.compact(),O},O.digest=function(){var G=d.util.createBuffer();G.putBytes(f.bytes()),G.putBytes(p.substr(0,O.blockLength-(O.fullMessageLength[O.fullMessageLength.length-1]+O.messageLengthSize&O.blockLength-1)));for(var B,T=8*O.fullMessageLength[0],h=0;h<O.fullMessageLength.length-1;++h)G.putInt32((T+=(B=8*O.fullMessageLength[h+1])/4294967296>>>0)>>>0),T=B>>>0;G.putInt32(T);var v={h0:E.h0,h1:E.h1,h2:E.h2,h3:E.h3,h4:E.h4,h5:E.h5,h6:E.h6,h7:E.h7};b(v,C,G);var A=d.util.createBuffer();return A.putInt32(v.h0),A.putInt32(v.h1),A.putInt32(v.h2),A.putInt32(v.h3),A.putInt32(v.h4),A.putInt32(v.h5),A.putInt32(v.h6),A.putInt32(v.h7),A},O};var p=null,N=!1,w=null;function b(E,f,C){for(var O,G,D,T,h,v,A,F,H,W,S,x,V=C.length();V>=64;){for(T=0;T<16;++T)f[T]=C.getInt32();for(;T<64;++T)f[T]=(O=((O=f[T-2])>>>17|O<<15)^(O>>>19|O<<13)^O>>>10)+f[T-7]+(G=((G=f[T-15])>>>7|G<<25)^(G>>>18|G<<14)^G>>>3)+f[T-16]|0;for(h=E.h0,v=E.h1,A=E.h2,F=E.h3,H=E.h4,W=E.h5,S=E.h6,x=E.h7,T=0;T<64;++T)D=h&v|A&(h^v),O=x+((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))+(S^H&(W^S))+w[T]+f[T],x=S,S=W,W=H,H=F+O>>>0,F=A,A=v,v=h,h=O+(G=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+D)>>>0;E.h0=E.h0+h|0,E.h1=E.h1+v|0,E.h2=E.h2+A|0,E.h3=E.h3+F|0,E.h4=E.h4+H|0,E.h5=E.h5+W|0,E.h6=E.h6+S|0,E.h7=E.h7+x|0,V-=64}}},985:(_e,tt,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.sha512=d.sha512||{};d.md.sha512=d.md.algorithms.sha512=u;var p=d.sha384=d.sha512.sha384=d.sha512.sha384||{};p.create=function(){return u.create("SHA-384")},d.md.sha384=d.md.algorithms.sha384=p,d.sha512.sha256=d.sha512.sha256||{create:function(){return u.create("SHA-512/256")}},d.md["sha512/256"]=d.md.algorithms["sha512/256"]=d.sha512.sha256,d.sha512.sha224=d.sha512.sha224||{create:function(){return u.create("SHA-512/224")}},d.md["sha512/224"]=d.md.algorithms["sha512/224"]=d.sha512.sha224,u.create=function(C){if(w||function E(){N=String.fromCharCode(128),N+=d.util.fillString(String.fromCharCode(0),128),P=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(b={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],b["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],b["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],b["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],w=!0}(),typeof C>"u"&&(C="SHA-512"),!(C in b))throw new Error("Invalid SHA-512 algorithm: "+C);for(var O=b[C],G=null,M=d.util.createBuffer(),_=new Array(80),B=0;B<80;++B)_[B]=new Array(2);var D=64;switch(C){case"SHA-384":D=48;break;case"SHA-512/256":D=32;break;case"SHA-512/224":D=28}var T={algorithm:C.replace("-","").toLowerCase(),blockLength:128,digestLength:D,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){T.messageLength=0,T.fullMessageLength=T.messageLength128=[];for(var h=T.messageLengthSize/4,v=0;v<h;++v)T.fullMessageLength.push(0);for(M=d.util.createBuffer(),G=new Array(O.length),v=0;v<O.length;++v)G[v]=O[v].slice(0);return T}};return T.start(),T.update=function(h,v){"utf8"===v&&(h=d.util.encodeUtf8(h));var A=h.length;T.messageLength+=A,A=[A/4294967296>>>0,A>>>0];for(var F=T.fullMessageLength.length-1;F>=0;--F)T.fullMessageLength[F]+=A[1],A[1]=A[0]+(T.fullMessageLength[F]/4294967296>>>0),T.fullMessageLength[F]=T.fullMessageLength[F]>>>0,A[0]=A[1]/4294967296>>>0;return M.putBytes(h),f(G,_,M),(M.read>2048||0===M.length())&&M.compact(),T},T.digest=function(){var h=d.util.createBuffer();h.putBytes(M.bytes()),h.putBytes(N.substr(0,T.blockLength-(T.fullMessageLength[T.fullMessageLength.length-1]+T.messageLengthSize&T.blockLength-1)));for(var F,W=8*T.fullMessageLength[0],S=0;S<T.fullMessageLength.length-1;++S)h.putInt32((W+=(F=8*T.fullMessageLength[S+1])/4294967296>>>0)>>>0),W=F>>>0;h.putInt32(W);var x=new Array(G.length);for(S=0;S<G.length;++S)x[S]=G[S].slice(0);f(x,_,h);var c,V=d.util.createBuffer();for(c="SHA-512"===C?x.length:"SHA-384"===C?x.length-2:x.length-4,S=0;S<c;++S)V.putInt32(x[S][0]),(S!==c-1||"SHA-512/224"!==C)&&V.putInt32(x[S][1]);return V},T};var N=null,w=!1,P=null,b=null;function f(C,O,G){for(var M,_,B,D,x,V,c,j,Q,$,te,ee,ne,de,pe,ye,be,Le,rt,We,Ce,Ye,we,vt,Oe,ae,oe,y=G.length();y>=128;){for(Ce=0;Ce<16;++Ce)O[Ce][0]=G.getInt32()>>>0,O[Ce][1]=G.getInt32()>>>0;for(;Ce<80;++Ce)_=(((Ye=(vt=O[Ce-2])[0])<<13|(we=vt[1])>>>19)^(we<<3|Ye>>>29)^(Ye<<26|we>>>6))>>>0,O[Ce][0]=(M=((Ye>>>19|we<<13)^(we>>>29|Ye<<3)^Ye>>>6)>>>0)+(Oe=O[Ce-7])[0]+(B=(((Ye=(ae=O[Ce-15])[0])>>>1|(we=ae[1])<<31)^(Ye>>>8|we<<24)^Ye>>>7)>>>0)+(oe=O[Ce-16])[0]+((we=_+Oe[1]+(D=((Ye<<31|we>>>1)^(Ye<<24|we>>>8)^(Ye<<25|we>>>7))>>>0)+oe[1])/4294967296>>>0)>>>0,O[Ce][1]=we>>>0;for(x=C[0][0],V=C[0][1],c=C[1][0],j=C[1][1],Q=C[2][0],$=C[2][1],te=C[3][0],ee=C[3][1],ne=C[4][0],de=C[4][1],pe=C[5][0],ye=C[5][1],be=C[6][0],Le=C[6][1],rt=C[7][0],We=C[7][1],Ce=0;Ce<80;++Ce)M=rt+(((ne>>>14|de<<18)^(ne>>>18|de<<14)^(de>>>9|ne<<23))>>>0)+((be^ne&(pe^be))>>>0)+P[Ce][0]+O[Ce][0]+((we=We+(((ne<<18|de>>>14)^(ne<<14|de>>>18)^(de<<23|ne>>>9))>>>0)+((Le^de&(ye^Le))>>>0)+P[Ce][1]+O[Ce][1])/4294967296>>>0)>>>0,_=we>>>0,B=(((x>>>28|V<<4)^(V>>>2|x<<30)^(V>>>7|x<<25))>>>0)+((x&c|Q&(x^c))>>>0)+((we=(((x<<4|V>>>28)^(V<<30|x>>>2)^(V<<25|x>>>7))>>>0)+((V&j|$&(V^j))>>>0))/4294967296>>>0)>>>0,D=we>>>0,rt=be,We=Le,be=pe,Le=ye,pe=ne,ye=de,ne=te+M+((we=ee+_)/4294967296>>>0)>>>0,de=we>>>0,te=Q,ee=$,Q=c,$=j,c=x,j=V,x=M+B+((we=_+D)/4294967296>>>0)>>>0,V=we>>>0;C[0][0]=C[0][0]+x+((we=C[0][1]+V)/4294967296>>>0)>>>0,C[0][1]=we>>>0,C[1][0]=C[1][0]+c+((we=C[1][1]+j)/4294967296>>>0)>>>0,C[1][1]=we>>>0,C[2][0]=C[2][0]+Q+((we=C[2][1]+$)/4294967296>>>0)>>>0,C[2][1]=we>>>0,C[3][0]=C[3][0]+te+((we=C[3][1]+ee)/4294967296>>>0)>>>0,C[3][1]=we>>>0,C[4][0]=C[4][0]+ne+((we=C[4][1]+de)/4294967296>>>0)>>>0,C[4][1]=we>>>0,C[5][0]=C[5][0]+pe+((we=C[5][1]+ye)/4294967296>>>0)>>>0,C[5][1]=we>>>0,C[6][0]=C[6][0]+be+((we=C[6][1]+Le)/4294967296>>>0)>>>0,C[6][1]=we>>>0,C[7][0]=C[7][0]+rt+((we=C[7][1]+We)/4294967296>>>0)>>>0,C[7][1]=we>>>0,y-=128}}},15:(_e,tt,Y)=>{var d=Y(659);Y(298),Y(32),Y(687),Y(690),Y(747);var u=_e.exports=d.ssh=d.ssh||{};function p(P,b){var E=b.toString(16);E[0]>="8"&&(E="00"+E);var f=d.util.hexToBytes(E);P.putInt32(f.length),P.putBytes(f)}function N(P,b){P.putInt32(b.length),P.putString(b)}function w(){for(var P=d.md.sha1.create(),b=arguments.length,E=0;E<b;++E)P.update(arguments[E]);return P.digest()}u.privateKeyToPutty=function(P,b,E){var f="ssh-rsa",C=""===(b=b||"")?"none":"aes256-cbc",O="PuTTY-User-Key-File-2: "+f+"\r\n";O+="Encryption: "+C+"\r\n",O+="Comment: "+(E=E||"")+"\r\n";var G=d.util.createBuffer();N(G,f),p(G,P.e),p(G,P.n);var M=d.util.encode64(G.bytes(),64),_=Math.floor(M.length/66)+1;O+="Public-Lines: "+_+"\r\n",O+=M;var D,B=d.util.createBuffer();if(p(B,P.d),p(B,P.p),p(B,P.q),p(B,P.qInv),b){var T=B.length()+16-1;T-=T%16;var h=w(B.bytes());h.truncate(h.length()-T+B.length()),B.putBuffer(h);var v=d.util.createBuffer();v.putBuffer(w("\0\0\0\0",b)),v.putBuffer(w("\0\0\0\x01",b));var A=d.aes.createEncryptionCipher(v.truncate(8),"CBC");A.start(d.util.createBuffer().fillWithByte(0,16)),A.update(B.copy()),A.finish();var F=A.output;F.truncate(16),D=d.util.encode64(F.bytes(),64)}else D=d.util.encode64(B.bytes(),64);O+="\r\nPrivate-Lines: "+(_=Math.floor(D.length/66)+1)+"\r\n",O+=D;var H=w("putty-private-key-file-mac-key",b),W=d.util.createBuffer();N(W,f),N(W,C),N(W,E),W.putInt32(G.length()),W.putBuffer(G),W.putInt32(B.length()),W.putBuffer(B);var S=d.hmac.create();return S.start("sha1",H),S.update(W.bytes()),O+"\r\nPrivate-MAC: "+S.digest().toHex()+"\r\n"},u.publicKeyToOpenSSH=function(P,b){var E="ssh-rsa";b=b||"";var f=d.util.createBuffer();return N(f,E),p(f,P.e),p(f,P.n),E+" "+d.util.encode64(f.bytes())+" "+b},u.privateKeyToOpenSSH=function(P,b){return b?d.pki.encryptRsaPrivateKey(P,b,{legacy:!0,algorithm:"aes128"}):d.pki.privateKeyToPem(P)},u.getPublicKeyFingerprint=function(P,b){var E=(b=b||{}).md||d.md.md5.create(),C=d.util.createBuffer();N(C,"ssh-rsa"),p(C,P.e),p(C,P.n),E.start(),E.update(C.getBytes());var O=E.digest();if("hex"===b.encoding){var G=O.toHex();return b.delimiter?G.match(/.{2}/g).join(b.delimiter):G}if("binary"===b.encoding)return O.getBytes();if(b.encoding)throw new Error('Unknown encoding "'+b.encoding+'".');return O}},266:(_e,tt,Y)=>{var d=Y(659);Y(791),Y(32),Y(687),Y(604),Y(965),Y(365),Y(690),Y(747);var u=function(y,m,k,q){var J=d.util.createBuffer(),ue=y.length>>1,Z=ue+(1&y.length),De=y.substr(0,Z),je=y.substr(ue,Z),ze=d.util.createBuffer(),ge=d.hmac.create();k=m+k;var Be=Math.ceil(q/16),Xe=Math.ceil(q/20);ge.start("MD5",De);var ft=d.util.createBuffer();ze.putBytes(k);for(var it=0;it<Be;++it)ge.start(null,null),ge.update(ze.getBytes()),ze.putBuffer(ge.digest()),ge.start(null,null),ge.update(ze.bytes()+k),ft.putBuffer(ge.digest());ge.start("SHA1",je);var Pt=d.util.createBuffer();for(ze.clear(),ze.putBytes(k),it=0;it<Xe;++it)ge.start(null,null),ge.update(ze.getBytes()),ze.putBuffer(ge.digest()),ge.start(null,null),ge.update(ze.bytes()+k),Pt.putBuffer(ge.digest());return J.putBytes(d.util.xorBytes(ft.getBytes(),Pt.getBytes(),q)),J},w=function(y,m,k){var q=!1;try{var J=y.deflate(m.fragment.getBytes());m.fragment=d.util.createBuffer(J),m.length=J.length,q=!0}catch{}return q},P=function(y,m,k){var q=!1;try{var J=y.inflate(m.fragment.getBytes());m.fragment=d.util.createBuffer(J),m.length=J.length,q=!0}catch{}return q},b=function(y,m){var k=0;switch(m){case 1:k=y.getByte();break;case 2:k=y.getInt16();break;case 3:k=y.getInt24();break;case 4:k=y.getInt32()}return d.util.createBuffer(y.getBytes(k))},E=function(y,m,k){y.putInt(k.length(),m<<3),y.putBuffer(k)},f={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};f.SupportedVersions=[f.Versions.TLS_1_1,f.Versions.TLS_1_0],f.Version=f.SupportedVersions[0],f.MaxFragment=15360,f.ConnectionEnd={server:0,client:1},f.PRFAlgorithm={tls_prf_sha256:0},f.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},f.CipherType={stream:0,block:1,aead:2},f.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},f.CompressionMethod={none:0,deflate:1},f.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},f.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},f.Alert={},f.Alert.Level={warning:1,fatal:2},f.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},f.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},f.CipherSuites={},f.getCipherSuite=function(y){var m=null;for(var k in f.CipherSuites){var q=f.CipherSuites[k];if(q.id[0]===y.charCodeAt(0)&&q.id[1]===y.charCodeAt(1)){m=q;break}}return m},f.handleUnexpected=function(y,m){!y.open&&y.entity===f.ConnectionEnd.client||y.error(y,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})},f.handleHelloRequest=function(y,m,k){!y.handshaking&&y.handshakes>0&&(f.queue(y,f.createAlert(y,{level:f.Alert.Level.warning,description:f.Alert.Description.no_renegotiation})),f.flush(y)),y.process()},f.parseHelloMessage=function(y,m,k){var q=null,J=y.entity===f.ConnectionEnd.client;if(k<38)y.error(y,{message:J?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});else{var ue=m.fragment,Z=ue.length();if(q={version:{major:ue.getByte(),minor:ue.getByte()},random:d.util.createBuffer(ue.getBytes(32)),session_id:b(ue,1),extensions:[]},J?(q.cipher_suite=ue.getBytes(2),q.compression_method=ue.getByte()):(q.cipher_suites=b(ue,2),q.compression_methods=b(ue,1)),(Z=k-(Z-ue.length()))>0){for(var De=b(ue,2);De.length()>0;)q.extensions.push({type:[De.getByte(),De.getByte()],data:b(De,2)});if(!J)for(var je=0;je<q.extensions.length;++je){var ze=q.extensions[je];if(0===ze.type[0]&&0===ze.type[1])for(var ge=b(ze.data,2);ge.length()>0&&0===ge.getByte();)y.session.extensions.server_name.serverNameList.push(b(ge,2).getBytes())}}if(y.session.version&&(q.version.major!==y.session.version.major||q.version.minor!==y.session.version.minor))return y.error(y,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});if(J)y.session.cipherSuite=f.getCipherSuite(q.cipher_suite);else for(var Xe=d.util.createBuffer(q.cipher_suites.bytes());Xe.length()>0&&(y.session.cipherSuite=f.getCipherSuite(Xe.getBytes(2)),null===y.session.cipherSuite););if(null===y.session.cipherSuite)return y.error(y,{message:"No cipher suites in common.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure},cipherSuite:d.util.bytesToHex(q.cipher_suite)});y.session.compressionMethod=J?q.compression_method:f.CompressionMethod.none}return q},f.createSecurityParameters=function(y,m){var k=y.entity===f.ConnectionEnd.client,q=m.random.bytes(),J=k?y.session.sp.client_random:q,ue=k?q:f.createRandom().getBytes();y.session.sp={entity:y.entity,prf_algorithm:f.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:y.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:J,server_random:ue}},f.handleServerHello=function(y,m,k){var q=f.parseHelloMessage(y,m,k);if(!y.fail){if(!(q.version.minor<=y.version.minor))return y.error(y,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});y.version.minor=q.version.minor,y.session.version=y.version;var J=q.session_id.bytes();J.length>0&&J===y.session.id?(y.expect=B,y.session.resuming=!0,y.session.sp.server_random=q.random.bytes()):(y.expect=O,y.session.resuming=!1,f.createSecurityParameters(y,q)),y.session.id=J,y.process()}},f.handleClientHello=function(y,m,k){var q=f.parseHelloMessage(y,m,k);if(!y.fail){var J=q.session_id.bytes(),ue=null;if(y.sessionCache&&(null===(ue=y.sessionCache.getSession(J))?J="":(ue.version.major!==q.version.major||ue.version.minor>q.version.minor)&&(ue=null,J="")),0===J.length&&(J=d.random.getBytes(32)),y.session.id=J,y.session.clientHelloVersion=q.version,y.session.sp={},ue)y.version=y.session.version=ue.version,y.session.sp=ue.sp;else{for(var Z,De=1;De<f.SupportedVersions.length&&!((Z=f.SupportedVersions[De]).minor<=q.version.minor);++De);y.version={major:Z.major,minor:Z.minor},y.session.version=y.version}null!==ue?(y.expect=W,y.session.resuming=!0,y.session.sp.client_random=q.random.bytes()):(y.expect=!1!==y.verifyClient?A:F,y.session.resuming=!1,f.createSecurityParameters(y,q)),y.open=!0,f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createServerHello(y)})),y.session.resuming?(f.queue(y,f.createRecord(y,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),y.state.pending=f.createConnectionState(y),y.state.current.write=y.state.pending.write,f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createFinished(y)}))):(f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createCertificate(y)})),y.fail||(f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createServerKeyExchange(y)})),!1!==y.verifyClient&&f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createCertificateRequest(y)})),f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createServerHelloDone(y)})))),f.flush(y),y.process()}},f.handleCertificate=function(y,m,k){if(k<3)return y.error(y,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var ue,Z,J={certificate_list:b(m.fragment,3)},De=[];try{for(;J.certificate_list.length()>0;)ue=b(J.certificate_list,3),Z=d.asn1.fromDer(ue),ue=d.pki.certificateFromAsn1(Z,!0),De.push(ue)}catch(ze){return y.error(y,{message:"Could not parse certificate list.",cause:ze,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var je=y.entity===f.ConnectionEnd.client;!je&&!0!==y.verifyClient||0!==De.length?0===De.length?y.expect=je?G:F:(je?y.session.serverCertificate=De[0]:y.session.clientCertificate=De[0],f.verifyCertificateChain(y,De)&&(y.expect=je?G:F)):y.error(y,{message:je?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}}),y.process()},f.handleServerKeyExchange=function(y,m,k){if(k>0)return y.error(y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});y.expect=M,y.process()},f.handleClientKeyExchange=function(y,m,k){if(k<48)return y.error(y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});var J={enc_pre_master_secret:b(m.fragment,2).getBytes()},ue=null;if(y.getPrivateKey)try{ue=y.getPrivateKey(y,y.session.serverCertificate),ue=d.pki.privateKeyFromPem(ue)}catch(je){y.error(y,{message:"Could not get private key.",cause:je,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}if(null===ue)return y.error(y,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}});try{var Z=y.session.sp;Z.pre_master_secret=ue.decrypt(J.enc_pre_master_secret);var De=y.session.clientHelloVersion;if(De.major!==Z.pre_master_secret.charCodeAt(0)||De.minor!==Z.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Z.pre_master_secret=d.random.getBytes(48)}y.expect=W,null!==y.session.clientCertificate&&(y.expect=H),y.process()},f.handleCertificateRequest=function(y,m,k){if(k<3)return y.error(y,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var q=m.fragment,J={certificate_types:b(q,1),certificate_authorities:b(q,2)};y.session.certificateRequest=J,y.expect=_,y.process()},f.handleCertificateVerify=function(y,m,k){if(k<2)return y.error(y,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var q=m.fragment;q.read-=4;var J=q.bytes();q.read+=4;var ue={signature:b(q,2).getBytes()},Z=d.util.createBuffer();Z.putBuffer(y.session.md5.digest()),Z.putBuffer(y.session.sha1.digest()),Z=Z.getBytes();try{if(!y.session.clientCertificate.publicKey.verify(Z,ue.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");y.session.md5.update(J),y.session.sha1.update(J)}catch{return y.error(y,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure}})}y.expect=W,y.process()},f.handleServerHelloDone=function(y,m,k){if(k>0)return y.error(y,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.record_overflow}});if(null===y.serverCertificate){var q={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.insufficient_security}},ue=y.verify(y,q.alert.description,0,[]);if(!0!==ue)return(ue||0===ue)&&("object"!=typeof ue||d.util.isArray(ue)?"number"==typeof ue&&(q.alert.description=ue):(ue.message&&(q.message=ue.message),ue.alert&&(q.alert.description=ue.alert))),y.error(y,q)}null!==y.session.certificateRequest&&(m=f.createRecord(y,{type:f.ContentType.handshake,data:f.createCertificate(y)}),f.queue(y,m)),m=f.createRecord(y,{type:f.ContentType.handshake,data:f.createClientKeyExchange(y)}),f.queue(y,m),y.expect=h;var Z=function(De,je){null!==De.session.certificateRequest&&null!==De.session.clientCertificate&&f.queue(De,f.createRecord(De,{type:f.ContentType.handshake,data:f.createCertificateVerify(De,je)})),f.queue(De,f.createRecord(De,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),De.state.pending=f.createConnectionState(De),De.state.current.write=De.state.pending.write,f.queue(De,f.createRecord(De,{type:f.ContentType.handshake,data:f.createFinished(De)})),De.expect=B,f.flush(De),De.process()};if(null===y.session.certificateRequest||null===y.session.clientCertificate)return Z(y,null);f.getClientSignature(y,Z)},f.handleChangeCipherSpec=function(y,m){if(1!==m.fragment.getByte())return y.error(y,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var k=y.entity===f.ConnectionEnd.client;(y.session.resuming&&k||!y.session.resuming&&!k)&&(y.state.pending=f.createConnectionState(y)),y.state.current.read=y.state.pending.read,(!y.session.resuming&&k||y.session.resuming&&!k)&&(y.state.pending=null),y.expect=k?D:S,y.process()},f.handleFinished=function(y,m,k){var q=m.fragment;q.read-=4;var J=q.bytes();q.read+=4;var ue=m.fragment.getBytes();(q=d.util.createBuffer()).putBuffer(y.session.md5.digest()),q.putBuffer(y.session.sha1.digest());var Z=y.entity===f.ConnectionEnd.client;if((q=u(y.session.sp.master_secret,Z?"server finished":"client finished",q.getBytes(),12)).getBytes()!==ue)return y.error(y,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decrypt_error}});y.session.md5.update(J),y.session.sha1.update(J),(y.session.resuming&&Z||!y.session.resuming&&!Z)&&(f.queue(y,f.createRecord(y,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),y.state.current.write=y.state.pending.write,y.state.pending=null,f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createFinished(y)}))),y.expect=Z?T:x,y.handshaking=!1,++y.handshakes,y.peerCertificate=Z?y.session.serverCertificate:y.session.clientCertificate,f.flush(y),y.isConnected=!0,y.connected(y),y.process()},f.handleAlert=function(y,m){var J,k=m.fragment,q={level:k.getByte(),description:k.getByte()};switch(q.description){case f.Alert.Description.close_notify:J="Connection closed.";break;case f.Alert.Description.unexpected_message:J="Unexpected message.";break;case f.Alert.Description.bad_record_mac:J="Bad record MAC.";break;case f.Alert.Description.decryption_failed:J="Decryption failed.";break;case f.Alert.Description.record_overflow:J="Record overflow.";break;case f.Alert.Description.decompression_failure:J="Decompression failed.";break;case f.Alert.Description.handshake_failure:J="Handshake failure.";break;case f.Alert.Description.bad_certificate:J="Bad certificate.";break;case f.Alert.Description.unsupported_certificate:J="Unsupported certificate.";break;case f.Alert.Description.certificate_revoked:J="Certificate revoked.";break;case f.Alert.Description.certificate_expired:J="Certificate expired.";break;case f.Alert.Description.certificate_unknown:J="Certificate unknown.";break;case f.Alert.Description.illegal_parameter:J="Illegal parameter.";break;case f.Alert.Description.unknown_ca:J="Unknown certificate authority.";break;case f.Alert.Description.access_denied:J="Access denied.";break;case f.Alert.Description.decode_error:J="Decode error.";break;case f.Alert.Description.decrypt_error:J="Decrypt error.";break;case f.Alert.Description.export_restriction:J="Export restriction.";break;case f.Alert.Description.protocol_version:J="Unsupported protocol version.";break;case f.Alert.Description.insufficient_security:J="Insufficient security.";break;case f.Alert.Description.internal_error:J="Internal error.";break;case f.Alert.Description.user_canceled:J="User canceled.";break;case f.Alert.Description.no_renegotiation:J="Renegotiation not supported.";break;default:J="Unknown error."}if(q.description===f.Alert.Description.close_notify)return y.close();y.error(y,{message:J,send:!1,origin:y.entity===f.ConnectionEnd.client?"server":"client",alert:q}),y.process()},f.handleHandshake=function(y,m){var k=m.fragment,q=k.getByte(),J=k.getInt24();if(J>k.length())return y.fragmented=m,m.fragment=d.util.createBuffer(),k.read-=4,y.process();y.fragmented=null,k.read-=4;var ue=k.bytes(J+4);k.read+=4,q in Ce[y.entity][y.expect]?(y.entity===f.ConnectionEnd.server&&!y.open&&!y.fail&&(y.handshaking=!0,y.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:d.md.md5.create(),sha1:d.md.sha1.create()}),q!==f.HandshakeType.hello_request&&q!==f.HandshakeType.certificate_verify&&q!==f.HandshakeType.finished&&(y.session.md5.update(ue),y.session.sha1.update(ue)),Ce[y.entity][y.expect][q](y,m,J)):f.handleUnexpected(y,m)},f.handleApplicationData=function(y,m){y.data.putBuffer(m.fragment),y.dataReady(y),y.process()},f.handleHeartbeat=function(y,m){var k=m.fragment,q=k.getByte(),J=k.getInt16(),ue=k.getBytes(J);if(q===f.HeartbeatMessageType.heartbeat_request){if(y.handshaking||J>ue.length)return y.process();f.queue(y,f.createRecord(y,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_response,ue)})),f.flush(y)}else if(q===f.HeartbeatMessageType.heartbeat_response){if(ue!==y.expectedHeartbeatPayload)return y.process();y.heartbeatReceived&&y.heartbeatReceived(y,d.util.createBuffer(ue))}y.process()};var O=1,G=2,M=3,_=4,B=5,D=6,T=7,h=8,A=1,F=2,H=3,W=4,S=5,x=6,c=f.handleUnexpected,j=f.handleChangeCipherSpec,Q=f.handleAlert,$=f.handleHandshake,te=f.handleApplicationData,ee=f.handleHeartbeat,ne=[];ne[f.ConnectionEnd.client]=[[c,Q,$,c,ee],[c,Q,$,c,ee],[c,Q,$,c,ee],[c,Q,$,c,ee],[c,Q,$,c,ee],[j,Q,c,c,ee],[c,Q,$,c,ee],[c,Q,$,te,ee],[c,Q,$,c,ee]],ne[f.ConnectionEnd.server]=[[c,Q,$,c,ee],[c,Q,$,c,ee],[c,Q,$,c,ee],[c,Q,$,c,ee],[j,Q,c,c,ee],[c,Q,$,c,ee],[c,Q,$,te,ee],[c,Q,$,c,ee]];var de=f.handleHelloRequest,ye=f.handleCertificate,be=f.handleServerKeyExchange,Le=f.handleCertificateRequest,rt=f.handleServerHelloDone,We=f.handleFinished,Ce=[];Ce[f.ConnectionEnd.client]=[[c,c,f.handleServerHello,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,ye,be,Le,rt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,be,Le,rt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,Le,rt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,rt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,We],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c]],Ce[f.ConnectionEnd.server]=[[c,f.handleClientHello,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,ye,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,f.handleClientKeyExchange,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,f.handleCertificateVerify,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,We],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c]],f.generateKeys=function(y,m){var k=u,q=m.client_random+m.server_random;y.session.resuming||(m.master_secret=k(m.pre_master_secret,"master secret",q,48).bytes(),m.pre_master_secret=null);var J=2*m.mac_key_length+2*m.enc_key_length,ue=y.version.major===f.Versions.TLS_1_0.major&&y.version.minor===f.Versions.TLS_1_0.minor;ue&&(J+=2*m.fixed_iv_length);var Z=k(m.master_secret,"key expansion",q=m.server_random+m.client_random,J),De={client_write_MAC_key:Z.getBytes(m.mac_key_length),server_write_MAC_key:Z.getBytes(m.mac_key_length),client_write_key:Z.getBytes(m.enc_key_length),server_write_key:Z.getBytes(m.enc_key_length)};return ue&&(De.client_write_IV=Z.getBytes(m.fixed_iv_length),De.server_write_IV=Z.getBytes(m.fixed_iv_length)),De},f.createConnectionState=function(y){var m=y.entity===f.ConnectionEnd.client,k=function(){var ue={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Z){return!0},compressionState:null,compressFunction:function(Z){return!0},updateSequenceNumber:function(){4294967295===ue.sequenceNumber[1]?(ue.sequenceNumber[1]=0,++ue.sequenceNumber[0]):++ue.sequenceNumber[1]}};return ue},q={read:k(),write:k()};if(q.read.update=function(ue,Z){return q.read.cipherFunction(Z,q.read)?q.read.compressFunction(ue,Z,q.read)||ue.error(ue,{message:"Could not decompress record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decompression_failure}}):ue.error(ue,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_record_mac}}),!ue.fail},q.write.update=function(ue,Z){return q.write.compressFunction(ue,Z,q.write)?q.write.cipherFunction(Z,q.write)||ue.error(ue,{message:"Could not encrypt record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):ue.error(ue,{message:"Could not compress record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}),!ue.fail},y.session){var J=y.session.sp;switch(y.session.cipherSuite.initSecurityParameters(J),J.keys=f.generateKeys(y,J),q.read.macKey=m?J.keys.server_write_MAC_key:J.keys.client_write_MAC_key,q.write.macKey=m?J.keys.client_write_MAC_key:J.keys.server_write_MAC_key,y.session.cipherSuite.initConnectionState(q,y,J),J.compression_algorithm){case f.CompressionMethod.none:break;case f.CompressionMethod.deflate:q.read.compressFunction=P,q.write.compressFunction=w;break;default:throw new Error("Unsupported compression algorithm.")}}return q},f.createRandom=function(){var y=new Date,m=+y+6e4*y.getTimezoneOffset(),k=d.util.createBuffer();return k.putInt32(m),k.putBytes(d.random.getBytes(28)),k},f.createRecord=function(y,m){return m.data?{type:m.type,version:{major:y.version.major,minor:y.version.minor},length:m.data.length(),fragment:m.data}:null},f.createAlert=function(y,m){var k=d.util.createBuffer();return k.putByte(m.level),k.putByte(m.description),f.createRecord(y,{type:f.ContentType.alert,data:k})},f.createClientHello=function(y){y.session.clientHelloVersion={major:y.version.major,minor:y.version.minor};for(var m=d.util.createBuffer(),k=0;k<y.cipherSuites.length;++k){var q=y.cipherSuites[k];m.putByte(q.id[0]),m.putByte(q.id[1])}var J=m.length(),ue=d.util.createBuffer();ue.putByte(f.CompressionMethod.none);var Z=ue.length(),De=d.util.createBuffer();if(y.virtualHost){var je=d.util.createBuffer();je.putByte(0),je.putByte(0);var ze=d.util.createBuffer();ze.putByte(0),E(ze,2,d.util.createBuffer(y.virtualHost));var ge=d.util.createBuffer();E(ge,2,ze),E(je,2,ge),De.putBuffer(je)}var Be=De.length();Be>0&&(Be+=2);var Xe=y.session.id,ft=Xe.length+1+2+4+28+2+J+1+Z+Be,it=d.util.createBuffer();return it.putByte(f.HandshakeType.client_hello),it.putInt24(ft),it.putByte(y.version.major),it.putByte(y.version.minor),it.putBytes(y.session.sp.client_random),E(it,1,d.util.createBuffer(Xe)),E(it,2,m),E(it,1,ue),Be>0&&E(it,2,De),it},f.createServerHello=function(y){var m=y.session.id,k=m.length+1+2+4+28+2+1,q=d.util.createBuffer();return q.putByte(f.HandshakeType.server_hello),q.putInt24(k),q.putByte(y.version.major),q.putByte(y.version.minor),q.putBytes(y.session.sp.server_random),E(q,1,d.util.createBuffer(m)),q.putByte(y.session.cipherSuite.id[0]),q.putByte(y.session.cipherSuite.id[1]),q.putByte(y.session.compressionMethod),q},f.createCertificate=function(y){var m=y.entity===f.ConnectionEnd.client,k=null;y.getCertificate&&(k=y.getCertificate(y,m?y.session.certificateRequest:y.session.extensions.server_name.serverNameList));var J=d.util.createBuffer();if(null!==k)try{d.util.isArray(k)||(k=[k]);for(var ue=null,Z=0;Z<k.length;++Z){var De=d.pem.decode(k[Z])[0];if("CERTIFICATE"!==De.type&&"X509 CERTIFICATE"!==De.type&&"TRUSTED CERTIFICATE"!==De.type){var je=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw je.headerType=De.type,je}if(De.procType&&"ENCRYPTED"===De.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var ze=d.util.createBuffer(De.body);null===ue&&(ue=d.asn1.fromDer(ze.bytes(),!1));var ge=d.util.createBuffer();E(ge,3,ze),J.putBuffer(ge)}k=d.pki.certificateFromAsn1(ue),m?y.session.clientCertificate=k:y.session.serverCertificate=k}catch(ft){return y.error(y,{message:"Could not send certificate list.",cause:ft,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var Be=3+J.length(),Xe=d.util.createBuffer();return Xe.putByte(f.HandshakeType.certificate),Xe.putInt24(Be),E(Xe,3,J),Xe},f.createClientKeyExchange=function(y){var m=d.util.createBuffer();m.putByte(y.session.clientHelloVersion.major),m.putByte(y.session.clientHelloVersion.minor),m.putBytes(d.random.getBytes(46));var k=y.session.sp;k.pre_master_secret=m.getBytes();var J=(m=y.session.serverCertificate.publicKey.encrypt(k.pre_master_secret)).length+2,ue=d.util.createBuffer();return ue.putByte(f.HandshakeType.client_key_exchange),ue.putInt24(J),ue.putInt16(m.length),ue.putBytes(m),ue},f.createServerKeyExchange=function(y){return d.util.createBuffer()},f.getClientSignature=function(y,m){var k=d.util.createBuffer();k.putBuffer(y.session.md5.digest()),k.putBuffer(y.session.sha1.digest()),k=k.getBytes(),y.getSignature=y.getSignature||function(q,J,ue){var Z=null;if(q.getPrivateKey)try{Z=q.getPrivateKey(q,q.session.clientCertificate),Z=d.pki.privateKeyFromPem(Z)}catch(De){q.error(q,{message:"Could not get private key.",cause:De,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}null===Z?q.error(q,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):J=Z.sign(J,null),ue(q,J)},y.getSignature(y,k,m)},f.createCertificateVerify=function(y,m){var k=m.length+2,q=d.util.createBuffer();return q.putByte(f.HandshakeType.certificate_verify),q.putInt24(k),q.putInt16(m.length),q.putBytes(m),q},f.createCertificateRequest=function(y){var m=d.util.createBuffer();m.putByte(1);var k=d.util.createBuffer();for(var q in y.caStore.certs){var ue=d.pki.distinguishedNameToAsn1(y.caStore.certs[q].subject),Z=d.asn1.toDer(ue);k.putInt16(Z.length()),k.putBuffer(Z)}var De=1+m.length()+2+k.length(),je=d.util.createBuffer();return je.putByte(f.HandshakeType.certificate_request),je.putInt24(De),E(je,1,m),E(je,2,k),je},f.createServerHelloDone=function(y){var m=d.util.createBuffer();return m.putByte(f.HandshakeType.server_hello_done),m.putInt24(0),m},f.createChangeCipherSpec=function(){var y=d.util.createBuffer();return y.putByte(1),y},f.createFinished=function(y){var m=d.util.createBuffer();m.putBuffer(y.session.md5.digest()),m.putBuffer(y.session.sha1.digest()),m=u(y.session.sp.master_secret,y.entity===f.ConnectionEnd.client?"client finished":"server finished",m.getBytes(),12);var De=d.util.createBuffer();return De.putByte(f.HandshakeType.finished),De.putInt24(m.length()),De.putBuffer(m),De},f.createHeartbeat=function(y,m,k){typeof k>"u"&&(k=m.length);var q=d.util.createBuffer();q.putByte(y),q.putInt16(k),q.putBytes(m);var J=q.length(),ue=Math.max(16,J-k-3);return q.putBytes(d.random.getBytes(ue)),q},f.queue=function(y,m){if(m&&(0!==m.fragment.length()||m.type!==f.ContentType.handshake&&m.type!==f.ContentType.alert&&m.type!==f.ContentType.change_cipher_spec)){if(m.type===f.ContentType.handshake){var k=m.fragment.bytes();y.session.md5.update(k),y.session.sha1.update(k),k=null}var q;if(m.fragment.length()<=f.MaxFragment)q=[m];else{q=[];for(var J=m.fragment.bytes();J.length>f.MaxFragment;)q.push(f.createRecord(y,{type:m.type,data:d.util.createBuffer(J.slice(0,f.MaxFragment))})),J=J.slice(f.MaxFragment);J.length>0&&q.push(f.createRecord(y,{type:m.type,data:d.util.createBuffer(J)}))}for(var ue=0;ue<q.length&&!y.fail;++ue){var Z=q[ue];y.state.current.write.update(y,Z)&&y.records.push(Z)}}},f.flush=function(y){for(var m=0;m<y.records.length;++m){var k=y.records[m];y.tlsData.putByte(k.type),y.tlsData.putByte(k.version.major),y.tlsData.putByte(k.version.minor),y.tlsData.putInt16(k.fragment.length()),y.tlsData.putBuffer(y.records[m].fragment)}return y.records=[],y.tlsDataReady(y)};var Oe=function(y){switch(y){case!0:return!0;case d.pki.certificateError.bad_certificate:return f.Alert.Description.bad_certificate;case d.pki.certificateError.unsupported_certificate:return f.Alert.Description.unsupported_certificate;case d.pki.certificateError.certificate_revoked:return f.Alert.Description.certificate_revoked;case d.pki.certificateError.certificate_expired:return f.Alert.Description.certificate_expired;case d.pki.certificateError.certificate_unknown:return f.Alert.Description.certificate_unknown;case d.pki.certificateError.unknown_ca:return f.Alert.Description.unknown_ca;default:return f.Alert.Description.bad_certificate}};for(var oe in f.verifyCertificateChain=function(y,m){try{var k={};for(var q in y.verifyOptions)k[q]=y.verifyOptions[q];k.verify=function(ue,Z,De){Oe(ue);var ze=y.verify(y,ue,Z,De);if(!0!==ze){if("object"==typeof ze&&!d.util.isArray(ze)){var ge=new Error("The application rejected the certificate.");throw ge.send=!0,ge.alert={level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate},ze.message&&(ge.message=ze.message),ze.alert&&(ge.alert.description=ze.alert),ge}ze!==ue&&(ze=function(y){switch(y){case!0:return!0;case f.Alert.Description.bad_certificate:return d.pki.certificateError.bad_certificate;case f.Alert.Description.unsupported_certificate:return d.pki.certificateError.unsupported_certificate;case f.Alert.Description.certificate_revoked:return d.pki.certificateError.certificate_revoked;case f.Alert.Description.certificate_expired:return d.pki.certificateError.certificate_expired;case f.Alert.Description.certificate_unknown:return d.pki.certificateError.certificate_unknown;case f.Alert.Description.unknown_ca:return d.pki.certificateError.unknown_ca;default:return d.pki.certificateError.bad_certificate}}(ze))}return ze},d.pki.verifyCertificateChain(y.caStore,m,k)}catch(ue){var J=ue;("object"!=typeof J||d.util.isArray(J))&&(J={send:!0,alert:{level:f.Alert.Level.fatal,description:Oe(ue)}}),"send"in J||(J.send=!0),"alert"in J||(J.alert={level:f.Alert.Level.fatal,description:Oe(J.error)}),y.error(y,J)}return!y.fail},f.createSessionCache=function(y,m){var k=null;if(y&&y.getSession&&y.setSession&&y.order)k=y;else{for(var q in(k={}).cache=y||{},k.capacity=Math.max(m||100,1),k.order=[],y)k.order.length<=m?k.order.push(q):delete y[q];k.getSession=function(J){var ue=null,Z=null;if(J?Z=d.util.bytesToHex(J):k.order.length>0&&(Z=k.order[0]),null!==Z&&Z in k.cache)for(var De in ue=k.cache[Z],delete k.cache[Z],k.order)if(k.order[De]===Z){k.order.splice(De,1);break}return ue},k.setSession=function(J,ue){if(k.order.length===k.capacity){var Z=k.order.shift();delete k.cache[Z]}Z=d.util.bytesToHex(J),k.order.push(Z),k.cache[Z]=ue}}return k},f.createConnection=function(y){var m;m=y.caStore?d.util.isArray(y.caStore)?d.pki.createCaStore(y.caStore):y.caStore:d.pki.createCaStore();var k=y.cipherSuites||null;if(null===k)for(var q in k=[],f.CipherSuites)k.push(f.CipherSuites[q]);var J=y.server?f.ConnectionEnd.server:f.ConnectionEnd.client,ue=y.sessionCache?f.createSessionCache(y.sessionCache):null,Z={version:{major:f.Version.major,minor:f.Version.minor},entity:J,sessionId:y.sessionId,caStore:m,sessionCache:ue,cipherSuites:k,connected:y.connected,virtualHost:y.virtualHost||null,verifyClient:y.verifyClient||!1,verify:y.verify||function(ge,Be,Xe,ft){return Be},verifyOptions:y.verifyOptions||{},getCertificate:y.getCertificate||null,getPrivateKey:y.getPrivateKey||null,getSignature:y.getSignature||null,input:d.util.createBuffer(),tlsData:d.util.createBuffer(),data:d.util.createBuffer(),tlsDataReady:y.tlsDataReady,dataReady:y.dataReady,heartbeatReceived:y.heartbeatReceived,closed:y.closed,error:function(ge,Be){Be.origin=Be.origin||(ge.entity===f.ConnectionEnd.client?"client":"server"),Be.send&&(f.queue(ge,f.createAlert(ge,Be.alert)),f.flush(ge));var Xe=!1!==Be.fatal;Xe&&(ge.fail=!0),y.error(ge,Be),Xe&&ge.close(!1)},deflate:y.deflate||null,inflate:y.inflate||null,reset:function(ge){Z.version={major:f.Version.major,minor:f.Version.minor},Z.record=null,Z.session=null,Z.peerCertificate=null,Z.state={pending:null,current:null},Z.expect=0,Z.fragmented=null,Z.records=[],Z.open=!1,Z.handshakes=0,Z.handshaking=!1,Z.isConnected=!1,Z.fail=!(ge||typeof ge>"u"),Z.input.clear(),Z.tlsData.clear(),Z.data.clear(),Z.state.current=f.createConnectionState(Z)}};return Z.reset(),Z.handshake=function(ge){if(Z.entity!==f.ConnectionEnd.client)Z.error(Z,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Z.handshaking)Z.error(Z,{message:"Handshake already in progress.",fatal:!1});else{Z.fail&&!Z.open&&0===Z.handshakes&&(Z.fail=!1),Z.handshaking=!0;var Be=null;(ge=ge||"").length>0&&(Z.sessionCache&&(Be=Z.sessionCache.getSession(ge)),null===Be&&(ge="")),0===ge.length&&Z.sessionCache&&null!==(Be=Z.sessionCache.getSession())&&(ge=Be.id),Z.session={id:ge,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:d.md.md5.create(),sha1:d.md.sha1.create()},Be&&(Z.version=Be.version,Z.session.sp=Be.sp),Z.session.sp.client_random=f.createRandom().getBytes(),Z.open=!0,f.queue(Z,f.createRecord(Z,{type:f.ContentType.handshake,data:f.createClientHello(Z)})),f.flush(Z)}},Z.process=function(ge){var Be=0;return ge&&Z.input.putBytes(ge),Z.fail||(null!==Z.record&&Z.record.ready&&Z.record.fragment.isEmpty()&&(Z.record=null),null===Z.record&&(Be=function(ge){var Be=0,Xe=ge.input,ft=Xe.length();if(ft<5)Be=5-ft;else{ge.record={type:Xe.getByte(),version:{major:Xe.getByte(),minor:Xe.getByte()},length:Xe.getInt16(),fragment:d.util.createBuffer(),ready:!1};var it=ge.record.version.major===ge.version.major;it&&ge.session&&ge.session.version&&(it=ge.record.version.minor===ge.version.minor),it||ge.error(ge,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}})}return Be}(Z)),!Z.fail&&null!==Z.record&&!Z.record.ready&&(Be=function(ge){var Be=0,Xe=ge.input,ft=Xe.length();return ft<ge.record.length?Be=ge.record.length-ft:(ge.record.fragment.putBytes(Xe.getBytes(ge.record.length)),Xe.compact(),ge.state.current.read.update(ge,ge.record)&&(null!==ge.fragmented&&(ge.fragmented.type===ge.record.type?(ge.fragmented.fragment.putBuffer(ge.record.fragment),ge.record=ge.fragmented):ge.error(ge,{message:"Invalid fragmented record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})),ge.record.ready=!0)),Be}(Z)),!Z.fail&&null!==Z.record&&Z.record.ready&&function(ge,Be){var Xe=Be.type-f.ContentType.change_cipher_spec,ft=ne[ge.entity][ge.expect];Xe in ft?ft[Xe](ge,Be):f.handleUnexpected(ge,Be)}(Z,Z.record)),Be},Z.prepare=function(ge){return f.queue(Z,f.createRecord(Z,{type:f.ContentType.application_data,data:d.util.createBuffer(ge)})),f.flush(Z)},Z.prepareHeartbeatRequest=function(ge,Be){return ge instanceof d.util.ByteBuffer&&(ge=ge.bytes()),typeof Be>"u"&&(Be=ge.length),Z.expectedHeartbeatPayload=ge,f.queue(Z,f.createRecord(Z,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_request,ge,Be)})),f.flush(Z)},Z.close=function(ge){if(!Z.fail&&Z.sessionCache&&Z.session){var Be={id:Z.session.id,version:Z.session.version,sp:Z.session.sp};Be.sp.keys=null,Z.sessionCache.setSession(Be.id,Be)}Z.open&&(Z.open=!1,Z.input.clear(),(Z.isConnected||Z.handshaking)&&(Z.isConnected=Z.handshaking=!1,f.queue(Z,f.createAlert(Z,{level:f.Alert.Level.warning,description:f.Alert.Description.close_notify})),f.flush(Z)),Z.closed(Z)),Z.reset(ge)},Z},_e.exports=d.tls=d.tls||{},f)"function"!=typeof f[oe]&&(d.tls[oe]=f[oe]);d.tls.prf_tls1=u,d.tls.hmac_sha1=function(y,m,k){var q=d.hmac.create();q.start("SHA1",y);var J=d.util.createBuffer();return J.putInt32(m[0]),J.putInt32(m[1]),J.putByte(k.type),J.putByte(k.version.major),J.putByte(k.version.minor),J.putInt16(k.length),J.putBytes(k.fragment.bytes()),q.update(J.getBytes()),q.digest().getBytes()},d.tls.createSessionCache=f.createSessionCache,d.tls.createConnection=f.createConnection},747:(_e,tt,Y)=>{var d=Y(659),u=Y(20),p=_e.exports=d.util=d.util||{};function N(h){if(8!==h&&16!==h&&24!==h&&32!==h)throw new Error("Only 8, 16, 24, or 32 bits supported: "+h)}function w(h){if(this.data="",this.read=0,"string"==typeof h)this.data=h;else if(p.isArrayBuffer(h)||p.isArrayBufferView(h))if(typeof Buffer<"u"&&h instanceof Buffer)this.data=h.toString("binary");else{var v=new Uint8Array(h);try{this.data=String.fromCharCode.apply(null,v)}catch{for(var A=0;A<v.length;++A)this.putByte(v[A])}}else(h instanceof w||"object"==typeof h&&"string"==typeof h.data&&"number"==typeof h.read)&&(this.data=h.data,this.read=h.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return p.nextTick=process.nextTick,void(p.setImmediate="function"==typeof setImmediate?setImmediate:p.nextTick);if("function"==typeof setImmediate)return p.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(p.nextTick=function(x){return setImmediate(x)});if(p.setImmediate=function(x){setTimeout(x,0)},typeof window<"u"&&"function"==typeof window.postMessage){let x=function(V){if(V.source===window&&V.data===h){V.stopPropagation();var c=v.slice();v.length=0,c.forEach(function(j){j()})}};var h="forge.setImmediate",v=[];p.setImmediate=function(V){v.push(V),1===v.length&&window.postMessage(h,"*")},window.addEventListener("message",x,!0)}if(typeof MutationObserver<"u"){var A=Date.now(),F=!0,H=document.createElement("div");v=[],new MutationObserver(function(){var V=v.slice();v.length=0,V.forEach(function(c){c()})}).observe(H,{attributes:!0});var W=p.setImmediate;p.setImmediate=function(V){Date.now()-A>15?(A=Date.now(),W(V)):(v.push(V),1===v.length&&H.setAttribute("a",F=!F))}}p.nextTick=p.setImmediate})(),p.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,p.globalScope=p.isNodejs?global:typeof self>"u"?window:self,p.isArray=Array.isArray||function(h){return"[object Array]"===Object.prototype.toString.call(h)},p.isArrayBuffer=function(h){return typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer},p.isArrayBufferView=function(h){return h&&p.isArrayBuffer(h.buffer)&&void 0!==h.byteLength},p.ByteBuffer=w,p.ByteStringBuffer=w,p.ByteStringBuffer.prototype._optimizeConstructedString=function(h){this._constructedStringLength+=h,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},p.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},p.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},p.ByteStringBuffer.prototype.putByte=function(h){return this.putBytes(String.fromCharCode(h))},p.ByteStringBuffer.prototype.fillWithByte=function(h,v){h=String.fromCharCode(h);for(var A=this.data;v>0;)1&v&&(A+=h),(v>>>=1)>0&&(h+=h);return this.data=A,this._optimizeConstructedString(v),this},p.ByteStringBuffer.prototype.putBytes=function(h){return this.data+=h,this._optimizeConstructedString(h.length),this},p.ByteStringBuffer.prototype.putString=function(h){return this.putBytes(p.encodeUtf8(h))},p.ByteStringBuffer.prototype.putInt16=function(h){return this.putBytes(String.fromCharCode(h>>8&255)+String.fromCharCode(255&h))},p.ByteStringBuffer.prototype.putInt24=function(h){return this.putBytes(String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(255&h))},p.ByteStringBuffer.prototype.putInt32=function(h){return this.putBytes(String.fromCharCode(h>>24&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(255&h))},p.ByteStringBuffer.prototype.putInt16Le=function(h){return this.putBytes(String.fromCharCode(255&h)+String.fromCharCode(h>>8&255))},p.ByteStringBuffer.prototype.putInt24Le=function(h){return this.putBytes(String.fromCharCode(255&h)+String.fromCharCode(h>>8&255)+String.fromCharCode(h>>16&255))},p.ByteStringBuffer.prototype.putInt32Le=function(h){return this.putBytes(String.fromCharCode(255&h)+String.fromCharCode(h>>8&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>24&255))},p.ByteStringBuffer.prototype.putInt=function(h,v){N(v);var A="";do{v-=8,A+=String.fromCharCode(h>>v&255)}while(v>0);return this.putBytes(A)},p.ByteStringBuffer.prototype.putSignedInt=function(h,v){return h<0&&(h+=2<<v-1),this.putInt(h,v)},p.ByteStringBuffer.prototype.putBuffer=function(h){return this.putBytes(h.getBytes())},p.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},p.ByteStringBuffer.prototype.getInt16=function(){var h=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,h},p.ByteStringBuffer.prototype.getInt24=function(){var h=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,h},p.ByteStringBuffer.prototype.getInt32=function(){var h=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,h},p.ByteStringBuffer.prototype.getInt16Le=function(){var h=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,h},p.ByteStringBuffer.prototype.getInt24Le=function(){var h=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,h},p.ByteStringBuffer.prototype.getInt32Le=function(){var h=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,h},p.ByteStringBuffer.prototype.getInt=function(h){N(h);var v=0;do{v=(v<<8)+this.data.charCodeAt(this.read++),h-=8}while(h>0);return v},p.ByteStringBuffer.prototype.getSignedInt=function(h){var v=this.getInt(h),A=2<<h-2;return v>=A&&(v-=A<<1),v},p.ByteStringBuffer.prototype.getBytes=function(h){var v;return h?(h=Math.min(this.length(),h),v=this.data.slice(this.read,this.read+h),this.read+=h):0===h?v="":(v=0===this.read?this.data:this.data.slice(this.read),this.clear()),v},p.ByteStringBuffer.prototype.bytes=function(h){return typeof h>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+h)},p.ByteStringBuffer.prototype.at=function(h){return this.data.charCodeAt(this.read+h)},p.ByteStringBuffer.prototype.setAt=function(h,v){return this.data=this.data.substr(0,this.read+h)+String.fromCharCode(v)+this.data.substr(this.read+h+1),this},p.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},p.ByteStringBuffer.prototype.copy=function(){var h=p.createBuffer(this.data);return h.read=this.read,h},p.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},p.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},p.ByteStringBuffer.prototype.truncate=function(h){var v=Math.max(0,this.length()-h);return this.data=this.data.substr(this.read,v),this.read=0,this},p.ByteStringBuffer.prototype.toHex=function(){for(var h="",v=this.read;v<this.data.length;++v){var A=this.data.charCodeAt(v);A<16&&(h+="0"),h+=A.toString(16)}return h},p.ByteStringBuffer.prototype.toString=function(){return p.decodeUtf8(this.bytes())},p.DataBuffer=function b(h,v){this.read=(v=v||{}).readOffset||0,this.growSize=v.growSize||1024;var A=p.isArrayBuffer(h),F=p.isArrayBufferView(h);if(A||F)return this.data=A?new DataView(h):new DataView(h.buffer,h.byteOffset,h.byteLength),void(this.write="writeOffset"in v?v.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=h&&this.putBytes(h),"writeOffset"in v&&(this.write=v.writeOffset)},p.DataBuffer.prototype.length=function(){return this.write-this.read},p.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},p.DataBuffer.prototype.accommodate=function(h,v){if(this.length()>=h)return this;v=Math.max(v||this.growSize,h);var A=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),F=new Uint8Array(this.length()+v);return F.set(A),this.data=new DataView(F.buffer),this},p.DataBuffer.prototype.putByte=function(h){return this.accommodate(1),this.data.setUint8(this.write++,h),this},p.DataBuffer.prototype.fillWithByte=function(h,v){this.accommodate(v);for(var A=0;A<v;++A)this.data.setUint8(h);return this},p.DataBuffer.prototype.putBytes=function(h,v){if(p.isArrayBufferView(h)){var F=(A=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)).byteLength-A.byteOffset;return this.accommodate(F),new Uint8Array(this.data.buffer,this.write).set(A),this.write+=F,this}if(p.isArrayBuffer(h)){var A=new Uint8Array(h);return this.accommodate(A.byteLength),new Uint8Array(this.data.buffer).set(A,this.write),this.write+=A.byteLength,this}if(h instanceof p.DataBuffer||"object"==typeof h&&"number"==typeof h.read&&"number"==typeof h.write&&p.isArrayBufferView(h.data))return A=new Uint8Array(h.data.byteLength,h.read,h.length()),this.accommodate(A.byteLength),new Uint8Array(h.data.byteLength,this.write).set(A),this.write+=A.byteLength,this;if(h instanceof p.ByteStringBuffer&&(h=h.data,v="binary"),v=v||"binary","string"==typeof h){var W;if("hex"===v)return this.accommodate(Math.ceil(h.length/2)),W=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.hex.decode(h,W,this.write),this;if("base64"===v)return this.accommodate(3*Math.ceil(h.length/4)),W=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.base64.decode(h,W,this.write),this;if("utf8"===v&&(h=p.encodeUtf8(h),v="binary"),"binary"===v||"raw"===v)return this.accommodate(h.length),W=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.raw.decode(W),this;if("utf16"===v)return this.accommodate(2*h.length),W=new Uint16Array(this.data.buffer,this.write),this.write+=p.text.utf16.encode(W),this;throw new Error("Invalid encoding: "+v)}throw Error("Invalid parameter: "+h)},p.DataBuffer.prototype.putBuffer=function(h){return this.putBytes(h),h.clear(),this},p.DataBuffer.prototype.putString=function(h){return this.putBytes(h,"utf16")},p.DataBuffer.prototype.putInt16=function(h){return this.accommodate(2),this.data.setInt16(this.write,h),this.write+=2,this},p.DataBuffer.prototype.putInt24=function(h){return this.accommodate(3),this.data.setInt16(this.write,h>>8&65535),this.data.setInt8(this.write,h>>16&255),this.write+=3,this},p.DataBuffer.prototype.putInt32=function(h){return this.accommodate(4),this.data.setInt32(this.write,h),this.write+=4,this},p.DataBuffer.prototype.putInt16Le=function(h){return this.accommodate(2),this.data.setInt16(this.write,h,!0),this.write+=2,this},p.DataBuffer.prototype.putInt24Le=function(h){return this.accommodate(3),this.data.setInt8(this.write,h>>16&255),this.data.setInt16(this.write,h>>8&65535,!0),this.write+=3,this},p.DataBuffer.prototype.putInt32Le=function(h){return this.accommodate(4),this.data.setInt32(this.write,h,!0),this.write+=4,this},p.DataBuffer.prototype.putInt=function(h,v){N(v),this.accommodate(v/8);do{v-=8,this.data.setInt8(this.write++,h>>v&255)}while(v>0);return this},p.DataBuffer.prototype.putSignedInt=function(h,v){return N(v),this.accommodate(v/8),h<0&&(h+=2<<v-1),this.putInt(h,v)},p.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},p.DataBuffer.prototype.getInt16=function(){var h=this.data.getInt16(this.read);return this.read+=2,h},p.DataBuffer.prototype.getInt24=function(){var h=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,h},p.DataBuffer.prototype.getInt32=function(){var h=this.data.getInt32(this.read);return this.read+=4,h},p.DataBuffer.prototype.getInt16Le=function(){var h=this.data.getInt16(this.read,!0);return this.read+=2,h},p.DataBuffer.prototype.getInt24Le=function(){var h=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,h},p.DataBuffer.prototype.getInt32Le=function(){var h=this.data.getInt32(this.read,!0);return this.read+=4,h},p.DataBuffer.prototype.getInt=function(h){N(h);var v=0;do{v=(v<<8)+this.data.getInt8(this.read++),h-=8}while(h>0);return v},p.DataBuffer.prototype.getSignedInt=function(h){var v=this.getInt(h),A=2<<h-2;return v>=A&&(v-=A<<1),v},p.DataBuffer.prototype.getBytes=function(h){var v;return h?(h=Math.min(this.length(),h),v=this.data.slice(this.read,this.read+h),this.read+=h):0===h?v="":(v=0===this.read?this.data:this.data.slice(this.read),this.clear()),v},p.DataBuffer.prototype.bytes=function(h){return typeof h>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+h)},p.DataBuffer.prototype.at=function(h){return this.data.getUint8(this.read+h)},p.DataBuffer.prototype.setAt=function(h,v){return this.data.setUint8(h,v),this},p.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},p.DataBuffer.prototype.copy=function(){return new p.DataBuffer(this)},p.DataBuffer.prototype.compact=function(){if(this.read>0){var h=new Uint8Array(this.data.buffer,this.read),v=new Uint8Array(h.byteLength);v.set(h),this.data=new DataView(v),this.write-=this.read,this.read=0}return this},p.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},p.DataBuffer.prototype.truncate=function(h){return this.write=Math.max(0,this.length()-h),this.read=Math.min(this.read,this.write),this},p.DataBuffer.prototype.toHex=function(){for(var h="",v=this.read;v<this.data.byteLength;++v){var A=this.data.getUint8(v);A<16&&(h+="0"),h+=A.toString(16)}return h},p.DataBuffer.prototype.toString=function(h){var v=new Uint8Array(this.data,this.read,this.length());if("binary"===(h=h||"utf8")||"raw"===h)return p.binary.raw.encode(v);if("hex"===h)return p.binary.hex.encode(v);if("base64"===h)return p.binary.base64.encode(v);if("utf8"===h)return p.text.utf8.decode(v);if("utf16"===h)return p.text.utf16.decode(v);throw new Error("Invalid encoding: "+h)},p.createBuffer=function(h,v){return v=v||"raw",void 0!==h&&"utf8"===v&&(h=p.encodeUtf8(h)),new p.ByteBuffer(h)},p.fillString=function(h,v){for(var A="";v>0;)1&v&&(A+=h),(v>>>=1)>0&&(h+=h);return A},p.xorBytes=function(h,v,A){for(var F="",H="",W="",S=0,x=0;A>0;--A,++S)H=h.charCodeAt(S)^v.charCodeAt(S),x>=10&&(F+=W,W="",x=0),W+=String.fromCharCode(H),++x;return F+W},p.hexToBytes=function(h){var v="",A=0;for(!0&h.length&&(A=1,v+=String.fromCharCode(parseInt(h[0],16)));A<h.length;A+=2)v+=String.fromCharCode(parseInt(h.substr(A,2),16));return v},p.bytesToHex=function(h){return p.createBuffer(h).toHex()},p.int32ToBytes=function(h){return String.fromCharCode(h>>24&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(255&h)};var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],C="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";p.encode64=function(h,v){for(var H,W,S,A="",F="",x=0;x<h.length;)H=h.charCodeAt(x++),W=h.charCodeAt(x++),S=h.charCodeAt(x++),A+=E.charAt(H>>2),A+=E.charAt((3&H)<<4|W>>4),isNaN(W)?A+="==":(A+=E.charAt((15&W)<<2|S>>6),A+=isNaN(S)?"=":E.charAt(63&S)),v&&A.length>v&&(F+=A.substr(0,v)+"\r\n",A=A.substr(v));return F+A},p.decode64=function(h){h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var A,F,H,W,v="",S=0;S<h.length;)A=f[h.charCodeAt(S++)-43],F=f[h.charCodeAt(S++)-43],H=f[h.charCodeAt(S++)-43],W=f[h.charCodeAt(S++)-43],v+=String.fromCharCode(A<<2|F>>4),64!==H&&(v+=String.fromCharCode((15&F)<<4|H>>2),64!==W&&(v+=String.fromCharCode((3&H)<<6|W)));return v},p.encodeUtf8=function(h){return unescape(encodeURIComponent(h))},p.decodeUtf8=function(h){return decodeURIComponent(escape(h))},p.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:u.encode,decode:u.decode}},p.binary.raw.encode=function(h){return String.fromCharCode.apply(null,h)},p.binary.raw.decode=function(h,v,A){var F=v;F||(F=new Uint8Array(h.length));for(var H=A=A||0,W=0;W<h.length;++W)F[H++]=h.charCodeAt(W);return v?H-A:F},p.binary.hex.encode=p.bytesToHex,p.binary.hex.decode=function(h,v,A){var F=v;F||(F=new Uint8Array(Math.ceil(h.length/2)));var H=0,W=A=A||0;for(1&h.length&&(H=1,F[W++]=parseInt(h[0],16));H<h.length;H+=2)F[W++]=parseInt(h.substr(H,2),16);return v?W-A:F},p.binary.base64.encode=function(h,v){for(var H,W,S,A="",F="",x=0;x<h.byteLength;)H=h[x++],W=h[x++],S=h[x++],A+=E.charAt(H>>2),A+=E.charAt((3&H)<<4|W>>4),isNaN(W)?A+="==":(A+=E.charAt((15&W)<<2|S>>6),A+=isNaN(S)?"=":E.charAt(63&S)),v&&A.length>v&&(F+=A.substr(0,v)+"\r\n",A=A.substr(v));return F+A},p.binary.base64.decode=function(h,v,A){var F=v;F||(F=new Uint8Array(3*Math.ceil(h.length/4))),h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var H,W,S,x,V=0,c=A=A||0;V<h.length;)H=f[h.charCodeAt(V++)-43],W=f[h.charCodeAt(V++)-43],S=f[h.charCodeAt(V++)-43],x=f[h.charCodeAt(V++)-43],F[c++]=H<<2|W>>4,64!==S&&(F[c++]=(15&W)<<4|S>>2,64!==x&&(F[c++]=(3&S)<<6|x));return v?c-A:F.subarray(0,c)},p.binary.base58.encode=function(h,v){return p.binary.baseN.encode(h,C,v)},p.binary.base58.decode=function(h,v){return p.binary.baseN.decode(h,C,v)},p.text={utf8:{},utf16:{}},p.text.utf8.encode=function(h,v,A){h=p.encodeUtf8(h);var F=v;F||(F=new Uint8Array(h.length));for(var H=A=A||0,W=0;W<h.length;++W)F[H++]=h.charCodeAt(W);return v?H-A:F},p.text.utf8.decode=function(h){return p.decodeUtf8(String.fromCharCode.apply(null,h))},p.text.utf16.encode=function(h,v,A){var F=v;F||(F=new Uint8Array(2*h.length));for(var H=new Uint16Array(F.buffer),W=A=A||0,S=A,x=0;x<h.length;++x)H[S++]=h.charCodeAt(x),W+=2;return v?W-A:F},p.text.utf16.decode=function(h){return String.fromCharCode.apply(null,new Uint16Array(h.buffer))},p.deflate=function(h,v,A){if(v=p.decode64(h.deflate(p.encode64(v)).rval),A){var F=2;32&v.charCodeAt(1)&&(F=6),v=v.substring(F,v.length-4)}return v},p.inflate=function(h,v,A){var F=h.inflate(p.encode64(v)).rval;return null===F?null:p.decode64(F)};var O=function(h,v,A){if(!h)throw new Error("WebStorage not available.");var F;if(null===A?F=h.removeItem(v):(A=p.encode64(JSON.stringify(A)),F=h.setItem(v,A)),typeof F<"u"&&!0!==F.rval){var H=new Error(F.error.message);throw H.id=F.error.id,H.name=F.error.name,H}},G=function(h,v){if(!h)throw new Error("WebStorage not available.");var A=h.getItem(v);if(h.init)if(null===A.rval){if(A.error){var F=new Error(A.error.message);throw F.id=A.error.id,F.name=A.error.name,F}A=null}else A=A.rval;return null!==A&&(A=JSON.parse(p.decode64(A))),A},M=function(h,v,A,F){var H=G(h,v);null===H&&(H={}),H[A]=F,O(h,v,H)},_=function(h,v,A){var F=G(h,v);return null!==F&&(F=A in F?F[A]:null),F},B=function(h,v,A){var F=G(h,v);if(null!==F&&A in F){delete F[A];var H=!0;for(var W in F){H=!1;break}H&&(F=null),O(h,v,F)}},D=function(h,v){O(h,v,null)},T=function(h,v,A){var F=null;typeof A>"u"&&(A=["web","flash"]);var H,W=!1,S=null;for(var x in A){H=A[x];try{if("flash"===H||"both"===H){if(null===v[0])throw new Error("Flash local storage not available.");F=h.apply(this,v),W="flash"===H}("web"===H||"both"===H)&&(v[0]=localStorage,F=h.apply(this,v),W=!0)}catch(V){S=V}if(W)break}if(!W)throw S;return F};p.setItem=function(h,v,A,F,H){T(M,arguments,H)},p.getItem=function(h,v,A,F){return T(_,arguments,F)},p.removeItem=function(h,v,A,F){T(B,arguments,F)},p.clearItems=function(h,v,A){T(D,arguments,A)},p.isEmpty=function(h){for(var v in h)if(h.hasOwnProperty(v))return!1;return!0},p.format=function(h){for(var A,F,v=/%./g,H=0,W=[],S=0;A=v.exec(h);){(F=h.substring(S,v.lastIndex-2)).length>0&&W.push(F),S=v.lastIndex;var x=A[0][1];switch(x){case"s":case"o":W.push(H<arguments.length?arguments[1+H++]:"<?>");break;case"%":W.push("%");break;default:W.push("<%"+x+"?>")}}return W.push(h.substring(S)),W.join("")},p.formatNumber=function(h,v,A,F){var H=h,W=isNaN(v=Math.abs(v))?2:v,S=void 0===A?",":A,x=void 0===F?".":F,V=H<0?"-":"",c=parseInt(H=Math.abs(+H||0).toFixed(W),10)+"",j=c.length>3?c.length%3:0;return V+(j?c.substr(0,j)+x:"")+c.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+x)+(W?S+Math.abs(H-c).toFixed(W).slice(2):"")},p.formatSize=function(h){return h>=1073741824?p.formatNumber(h/1073741824,2,".","")+" GiB":h>=1048576?p.formatNumber(h/1048576,2,".","")+" MiB":h>=1024?p.formatNumber(h/1024,0)+" KiB":p.formatNumber(h,0)+" bytes"},p.bytesFromIP=function(h){return-1!==h.indexOf(".")?p.bytesFromIPv4(h):-1!==h.indexOf(":")?p.bytesFromIPv6(h):null},p.bytesFromIPv4=function(h){if(4!==(h=h.split(".")).length)return null;for(var v=p.createBuffer(),A=0;A<h.length;++A){var F=parseInt(h[A],10);if(isNaN(F))return null;v.putByte(F)}return v.getBytes()},p.bytesFromIPv6=function(h){for(var v=0,A=2*(8-(h=h.split(":").filter(function(S){return 0===S.length&&++v,!0})).length+v),F=p.createBuffer(),H=0;H<8;++H)if(h[H]&&0!==h[H].length){var W=p.hexToBytes(h[H]);W.length<2&&F.putByte(0),F.putBytes(W)}else F.fillWithByte(0,A),A=0;return F.getBytes()},p.bytesToIP=function(h){return 4===h.length?p.bytesToIPv4(h):16===h.length?p.bytesToIPv6(h):null},p.bytesToIPv4=function(h){if(4!==h.length)return null;for(var v=[],A=0;A<h.length;++A)v.push(h.charCodeAt(A));return v.join(".")},p.bytesToIPv6=function(h){if(16!==h.length)return null;for(var v=[],A=[],F=0,H=0;H<h.length;H+=2){for(var W=p.bytesToHex(h[H]+h[H+1]);"0"===W[0]&&"0"!==W;)W=W.substr(1);if("0"===W){var S=A[A.length-1],x=v.length;S&&x===S.end+1?(S.end=x,S.end-S.start>A[F].end-A[F].start&&(F=A.length-1)):A.push({start:x,end:x})}v.push(W)}if(A.length>0){var V=A[F];V.end-V.start>0&&(v.splice(V.start,V.end-V.start+1,""),0===V.start&&v.unshift(""),7===V.end&&v.push(""))}return v.join(":")},p.estimateCores=function(h,v){if("function"==typeof h&&(v=h,h={}),h=h||{},"cores"in p&&!h.update)return v(null,p.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return p.cores=navigator.hardwareConcurrency,v(null,p.cores);if(typeof Worker>"u")return p.cores=1,v(null,p.cores);if(typeof Blob>"u")return p.cores=2,v(null,p.cores);var A=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(S){for(var x=Date.now(),V=x+4;Date.now()<V;);self.postMessage({st:x,et:V})})}.toString(),")()"],{type:"application/javascript"}));!function F(S,x,V){if(0===x){var c=Math.floor(S.reduce(function(j,Q){return j+Q},0)/S.length);return p.cores=Math.max(1,c),URL.revokeObjectURL(A),v(null,p.cores)}!function H(S,x){for(var V=[],c=[],j=0;j<S;++j){var Q=new Worker(A);Q.addEventListener("message",function($){if(c.push($.data),c.length===S){for(var te=0;te<S;++te)V[te].terminate();x(null,c)}}),V.push(Q)}for(j=0;j<S;++j)V[j].postMessage(j)}(V,function(j,Q){S.push(function W(S,x){for(var V=[],c=0;c<S;++c)for(var j=x[c],Q=V[c]=[],$=0;$<S;++$)if(c!==$){var te=x[$];(j.st>te.st&&j.st<te.et||te.st>j.st&&te.st<j.et)&&Q.push($)}return V.reduce(function(ee,ne){return Math.max(ee,ne.length)},0)}(V,Q)),F(S,x-1,V)})}([],5,16)}},911:(_e,tt,Y)=>{var d=Y(659);Y(298),Y(791),Y(279),Y(979),Y(386),Y(78),Y(604),Y(256),Y(517),Y(747);var u=d.asn1,p=_e.exports=d.pki=d.pki||{},N=p.oids,w={};w.CN=N.commonName,w.commonName="CN",w.C=N.countryName,w.countryName="C",w.L=N.localityName,w.localityName="L",w.ST=N.stateOrProvinceName,w.stateOrProvinceName="ST",w.O=N.organizationName,w.organizationName="O",w.OU=N.organizationalUnitName,w.organizationalUnitName="OU",w.E=N.emailAddress,w.emailAddress="E";var P=d.pki.rsa.publicKeyValidator,b={name:"Certificate",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:u.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:u.Class.UNIVERSAL,type:u.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:u.Class.UNIVERSAL,type:u.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:u.Class.UNIVERSAL,type:u.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:u.Class.UNIVERSAL,type:u.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},P,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:u.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:u.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:u.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},E={name:"rsapss",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:u.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:u.Class.UNIVERSAL,type:u.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:u.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:u.Class.UNIVERSAL,type:u.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},C={name:"CertificationRequest",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},P,{name:"CertificationRequestInfo.attributes",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function O(S,x){"string"==typeof x&&(x={shortName:x});for(var c,V=null,j=0;null===V&&j<S.attributes.length;++j)c=S.attributes[j],(x.type&&x.type===c.type||x.name&&x.name===c.name||x.shortName&&x.shortName===c.shortName)&&(V=c);return V}p.RDNAttributesAsArray=function(S,x){for(var c,j,Q,V=[],$=0;$<S.value.length;++$){c=S.value[$];for(var te=0;te<c.value.length;++te)(Q={}).type=u.derToOid((j=c.value[te]).value[0].value),Q.value=j.value[1].value,Q.valueTagClass=j.value[1].type,Q.type in N&&(Q.name=N[Q.type],Q.name in w&&(Q.shortName=w[Q.name])),x&&(x.update(Q.type),x.update(Q.value)),V.push(Q)}return V},p.CRIAttributesAsArray=function(S){for(var x=[],V=0;V<S.length;++V)for(var c=S[V],j=u.derToOid(c.value[0].value),Q=c.value[1].value,$=0;$<Q.length;++$){var te={};if(te.type=j,te.value=Q[$].value,te.valueTagClass=Q[$].type,te.type in N&&(te.name=N[te.type],te.name in w&&(te.shortName=w[te.name])),te.type===N.extensionRequest){te.extensions=[];for(var ee=0;ee<te.value.length;++ee)te.extensions.push(p.certificateExtensionFromAsn1(te.value[ee]))}x.push(te)}return x};var G=function(S,x,V){var c={};if(S!==N["RSASSA-PSS"])return c;V&&(c={hash:{algorithmOid:N.sha1},mgf:{algorithmOid:N.mgf1,hash:{algorithmOid:N.sha1}},saltLength:20});var j={},Q=[];if(!u.validate(x,E,j,Q)){var $=new Error("Cannot read RSASSA-PSS parameter block.");throw $.errors=Q,$}return void 0!==j.hashOid&&(c.hash=c.hash||{},c.hash.algorithmOid=u.derToOid(j.hashOid)),void 0!==j.maskGenOid&&(c.mgf=c.mgf||{},c.mgf.algorithmOid=u.derToOid(j.maskGenOid),c.mgf.hash=c.mgf.hash||{},c.mgf.hash.algorithmOid=u.derToOid(j.maskGenHashOid)),void 0!==j.saltLength&&(c.saltLength=j.saltLength.charCodeAt(0)),c},M=function(S){switch(N[S.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return d.md.sha1.create();case"md5WithRSAEncryption":return d.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return d.md.sha256.create();case"sha384WithRSAEncryption":return d.md.sha384.create();case"sha512WithRSAEncryption":return d.md.sha512.create();default:var x=new Error("Could not compute "+S.type+" digest. Unknown signature OID.");throw x.signatureOid=S.signatureOid,x}},_=function(S){var V,x=S.certificate;switch(x.signatureOid){case N.sha1WithRSAEncryption:case N.sha1WithRSASignature:break;case N["RSASSA-PSS"]:var c,j,Q;if(void 0===(c=N[x.signatureParameters.mgf.hash.algorithmOid])||void 0===d.md[c])throw(Q=new Error("Unsupported MGF hash function.")).oid=x.signatureParameters.mgf.hash.algorithmOid,Q.name=c,Q;if(void 0===(j=N[x.signatureParameters.mgf.algorithmOid])||void 0===d.mgf[j])throw(Q=new Error("Unsupported MGF function.")).oid=x.signatureParameters.mgf.algorithmOid,Q.name=j,Q;if(j=d.mgf[j].create(d.md[c].create()),void 0===(c=N[x.signatureParameters.hash.algorithmOid])||void 0===d.md[c])throw(Q=new Error("Unsupported RSASSA-PSS hash function.")).oid=x.signatureParameters.hash.algorithmOid,Q.name=c,Q;V=d.pss.create(d.md[c].create(),j,x.signatureParameters.saltLength)}return x.publicKey.verify(S.md.digest().getBytes(),S.signature,V)};function B(S){for(var V,c,x=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),j=S.attributes,Q=0;Q<j.length;++Q){var $=(V=j[Q]).value,te=u.Type.PRINTABLESTRING;"valueTagClass"in V&&(te=V.valueTagClass)===u.Type.UTF8&&($=d.util.encodeUtf8($)),c=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(V.type).getBytes()),u.create(u.Class.UNIVERSAL,te,!1,$)])]),x.value.push(c)}return x}function T(S){for(var x,V=0;V<S.length;++V){if(typeof(x=S[V]).name>"u"&&(x.type&&x.type in p.oids?x.name=p.oids[x.type]:x.shortName&&x.shortName in w&&(x.name=p.oids[w[x.shortName]])),typeof x.type>"u"){if(!x.name||!(x.name in p.oids))throw(c=new Error("Attribute type not specified.")).attribute=x,c;x.type=p.oids[x.name]}if(typeof x.shortName>"u"&&x.name&&x.name in w&&(x.shortName=w[x.name]),x.type===N.extensionRequest&&(x.valueConstructed=!0,x.valueTagClass=u.Type.SEQUENCE,!x.value&&x.extensions)){x.value=[];for(var j=0;j<x.extensions.length;++j)x.value.push(p.certificateExtensionToAsn1(h(x.extensions[j])))}var c;if(typeof x.value>"u")throw(c=new Error("Attribute value not specified.")).attribute=x,c}}function h(S,x){if(x=x||{},typeof S.name>"u"&&S.id&&S.id in p.oids&&(S.name=p.oids[S.id]),typeof S.id>"u"){if(!S.name||!(S.name in p.oids))throw(V=new Error("Extension ID not specified.")).extension=S,V;S.id=p.oids[S.name]}if(typeof S.value<"u")return S;if("keyUsage"===S.name){var c=0,j=0,Q=0;S.digitalSignature&&(j|=128,c=7),S.nonRepudiation&&(j|=64,c=6),S.keyEncipherment&&(j|=32,c=5),S.dataEncipherment&&(j|=16,c=4),S.keyAgreement&&(j|=8,c=3),S.keyCertSign&&(j|=4,c=2),S.cRLSign&&(j|=2,c=1),S.encipherOnly&&(j|=1,c=0),S.decipherOnly&&(Q|=128,c=7);var $=String.fromCharCode(c);0!==Q?$+=String.fromCharCode(j)+String.fromCharCode(Q):0!==j&&($+=String.fromCharCode(j)),S.value=u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,$)}else if("basicConstraints"===S.name)S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),S.cA&&S.value.value.push(u.create(u.Class.UNIVERSAL,u.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in S&&S.value.value.push(u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(S.pathLenConstraint).getBytes()));else if("extKeyUsage"===S.name){S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);var te=S.value.value;for(var ee in S)!0===S[ee]&&(ee in N?te.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(N[ee]).getBytes())):-1!==ee.indexOf(".")&&te.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(ee).getBytes())))}else if("nsCertType"===S.name)c=0,j=0,S.client&&(j|=128,c=7),S.server&&(j|=64,c=6),S.email&&(j|=32,c=5),S.objsign&&(j|=16,c=4),S.reserved&&(j|=8,c=3),S.sslCA&&(j|=4,c=2),S.emailCA&&(j|=2,c=1),S.objCA&&(j|=1,c=0),$=String.fromCharCode(c),0!==j&&($+=String.fromCharCode(j)),S.value=u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,$);else if("subjectAltName"===S.name||"issuerAltName"===S.name){S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);for(var de=0;de<S.altNames.length;++de){if($=(ne=S.altNames[de]).value,7===ne.type&&ne.ip){if(null===($=d.util.bytesFromIP(ne.ip)))throw(V=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=S,V}else 8===ne.type&&($=u.oidToDer(ne.oid?u.oidToDer(ne.oid):$));S.value.value.push(u.create(u.Class.CONTEXT_SPECIFIC,ne.type,!1,$))}}else if("nsComment"===S.name&&x.cert){if(!/^[\x00-\x7F]*$/.test(S.comment)||S.comment.length<1||S.comment.length>128)throw new Error('Invalid "nsComment" content.');S.value=u.create(u.Class.UNIVERSAL,u.Type.IA5STRING,!1,S.comment)}else if("subjectKeyIdentifier"===S.name&&x.cert){var pe=x.cert.generateSubjectKeyIdentifier();S.subjectKeyIdentifier=pe.toHex(),S.value=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,pe.getBytes())}else if("authorityKeyIdentifier"===S.name&&x.cert){if(S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),te=S.value.value,S.keyIdentifier){var ye=!0===S.keyIdentifier?x.cert.generateSubjectKeyIdentifier().getBytes():S.keyIdentifier;te.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!1,ye))}if(S.authorityCertIssuer){var be=[u.create(u.Class.CONTEXT_SPECIFIC,4,!0,[B(!0===S.authorityCertIssuer?x.cert.issuer:S.authorityCertIssuer)])];te.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,be))}if(S.serialNumber){var Le=d.util.hexToBytes(!0===S.serialNumber?x.cert.serialNumber:S.serialNumber);te.push(u.create(u.Class.CONTEXT_SPECIFIC,2,!1,Le))}}else if("cRLDistributionPoints"===S.name){S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),te=S.value.value;var ne,rt=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),We=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[]);for(de=0;de<S.altNames.length;++de){if($=(ne=S.altNames[de]).value,7===ne.type&&ne.ip){if(null===($=d.util.bytesFromIP(ne.ip)))throw(V=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=S,V}else 8===ne.type&&($=u.oidToDer(ne.oid?u.oidToDer(ne.oid):$));We.value.push(u.create(u.Class.CONTEXT_SPECIFIC,ne.type,!1,$))}rt.value.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[We])),te.push(rt)}var V;if(typeof S.value>"u")throw(V=new Error("Extension value not specified.")).extension=S,V;return S}function v(S,x){if(S===N["RSASSA-PSS"]){var V=[];return void 0!==x.hash.algorithmOid&&V.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(x.hash.algorithmOid).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])])),void 0!==x.mgf.algorithmOid&&V.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(x.mgf.algorithmOid).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(x.mgf.hash.algorithmOid).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])])])),void 0!==x.saltLength&&V.push(u.create(u.Class.CONTEXT_SPECIFIC,2,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(x.saltLength).getBytes())])),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,V)}return u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")}function A(S){var x=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===S.attributes.length)return x;for(var V=S.attributes,c=0;c<V.length;++c){var j=V[c],Q=j.value,$=u.Type.UTF8;"valueTagClass"in j&&($=j.valueTagClass),$===u.Type.UTF8&&(Q=d.util.encodeUtf8(Q));var te=!1;"valueConstructed"in j&&(te=j.valueConstructed);var ee=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(j.type).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,$,te,Q)])]);x.value.push(ee)}return x}p.certificateFromPem=function(S,x,V){var c=d.pem.decode(S)[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var j=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw j.headerType=c.type,j}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Q=u.fromDer(c.body,V);return p.certificateFromAsn1(Q,x)},p.certificateToPem=function(S,x){var V={type:"CERTIFICATE",body:u.toDer(p.certificateToAsn1(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.publicKeyFromPem=function(S){var x=d.pem.decode(S)[0];if("PUBLIC KEY"!==x.type&&"RSA PUBLIC KEY"!==x.type){var V=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw V.headerType=x.type,V}if(x.procType&&"ENCRYPTED"===x.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var c=u.fromDer(x.body);return p.publicKeyFromAsn1(c)},p.publicKeyToPem=function(S,x){var V={type:"PUBLIC KEY",body:u.toDer(p.publicKeyToAsn1(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.publicKeyToRSAPublicKeyPem=function(S,x){var V={type:"RSA PUBLIC KEY",body:u.toDer(p.publicKeyToRSAPublicKey(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.getPublicKeyFingerprint=function(S,x){var j,V=(x=x||{}).md||d.md.sha1.create();switch(x.type||"RSAPublicKey"){case"RSAPublicKey":j=u.toDer(p.publicKeyToRSAPublicKey(S)).getBytes();break;case"SubjectPublicKeyInfo":j=u.toDer(p.publicKeyToAsn1(S)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+x.type+'".')}V.start(),V.update(j);var Q=V.digest();if("hex"===x.encoding){var $=Q.toHex();return x.delimiter?$.match(/.{2}/g).join(x.delimiter):$}if("binary"===x.encoding)return Q.getBytes();if(x.encoding)throw new Error('Unknown encoding "'+x.encoding+'".');return Q},p.certificationRequestFromPem=function(S,x,V){var c=d.pem.decode(S)[0];if("CERTIFICATE REQUEST"!==c.type){var j=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw j.headerType=c.type,j}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var Q=u.fromDer(c.body,V);return p.certificationRequestFromAsn1(Q,x)},p.certificationRequestToPem=function(S,x){var V={type:"CERTIFICATE REQUEST",body:u.toDer(p.certificationRequestToAsn1(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.createCertificate=function(){var S={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return S.siginfo.algorithmOid=null,S.validity={},S.validity.notBefore=new Date,S.validity.notAfter=new Date,S.issuer={},S.issuer.getField=function(x){return O(S.issuer,x)},S.issuer.addField=function(x){T([x]),S.issuer.attributes.push(x)},S.issuer.attributes=[],S.issuer.hash=null,S.subject={},S.subject.getField=function(x){return O(S.subject,x)},S.subject.addField=function(x){T([x]),S.subject.attributes.push(x)},S.subject.attributes=[],S.subject.hash=null,S.extensions=[],S.publicKey=null,S.md=null,S.setSubject=function(x,V){T(x),S.subject.attributes=x,delete S.subject.uniqueId,V&&(S.subject.uniqueId=V),S.subject.hash=null},S.setIssuer=function(x,V){T(x),S.issuer.attributes=x,delete S.issuer.uniqueId,V&&(S.issuer.uniqueId=V),S.issuer.hash=null},S.setExtensions=function(x){for(var V=0;V<x.length;++V)h(x[V],{cert:S});S.extensions=x},S.getExtension=function(x){"string"==typeof x&&(x={name:x});for(var c,V=null,j=0;null===V&&j<S.extensions.length;++j)c=S.extensions[j],(x.id&&c.id===x.id||x.name&&c.name===x.name)&&(V=c);return V},S.sign=function(x,V){S.md=V||d.md.sha1.create();var c=N[S.md.algorithm+"WithRSAEncryption"];if(!c){var j=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw j.algorithm=S.md.algorithm,j}S.signatureOid=S.siginfo.algorithmOid=c,S.tbsCertificate=p.getTBSCertificate(S);var Q=u.toDer(S.tbsCertificate);S.md.update(Q.getBytes()),S.signature=x.sign(S.md)},S.verify=function(x){var V=!1;if(!S.issued(x)){var c=x.issuer,j=S.subject,Q=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw Q.expectedIssuer=j.attributes,Q.actualIssuer=c.attributes,Q}var $=x.md;if(null===$){$=M({signatureOid:x.signatureOid,type:"certificate"});var te=x.tbsCertificate||p.getTBSCertificate(x),ee=u.toDer(te);$.update(ee.getBytes())}return null!==$&&(V=_({certificate:S,md:$,signature:x.signature})),V},S.isIssuer=function(x){var V=!1,c=S.issuer,j=x.subject;if(c.hash&&j.hash)V=c.hash===j.hash;else if(c.attributes.length===j.attributes.length){V=!0;for(var Q,$,te=0;V&&te<c.attributes.length;++te)((Q=c.attributes[te]).type!==($=j.attributes[te]).type||Q.value!==$.value)&&(V=!1)}return V},S.issued=function(x){return x.isIssuer(S)},S.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(S.publicKey,{type:"RSAPublicKey"})},S.verifySubjectKeyIdentifier=function(){for(var x=N.subjectKeyIdentifier,V=0;V<S.extensions.length;++V){var c=S.extensions[V];if(c.id===x){var j=S.generateSubjectKeyIdentifier().getBytes();return d.util.hexToBytes(c.subjectKeyIdentifier)===j}}return!1},S},p.certificateFromAsn1=function(S,x){var V={},c=[];if(!u.validate(S,b,V,c)){var j=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw j.errors=c,j}if(u.derToOid(V.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var $=p.createCertificate();$.version=V.certVersion?V.certVersion.charCodeAt(0):0;var te=d.util.createBuffer(V.certSerialNumber);$.serialNumber=te.toHex(),$.signatureOid=d.asn1.derToOid(V.certSignatureOid),$.signatureParameters=G($.signatureOid,V.certSignatureParams,!0),$.siginfo.algorithmOid=d.asn1.derToOid(V.certinfoSignatureOid),$.siginfo.parameters=G($.siginfo.algorithmOid,V.certinfoSignatureParams,!1),$.signature=V.certSignature;var ee=[];if(void 0!==V.certValidity1UTCTime&&ee.push(u.utcTimeToDate(V.certValidity1UTCTime)),void 0!==V.certValidity2GeneralizedTime&&ee.push(u.generalizedTimeToDate(V.certValidity2GeneralizedTime)),void 0!==V.certValidity3UTCTime&&ee.push(u.utcTimeToDate(V.certValidity3UTCTime)),void 0!==V.certValidity4GeneralizedTime&&ee.push(u.generalizedTimeToDate(V.certValidity4GeneralizedTime)),ee.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(ee.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if($.validity.notBefore=ee[0],$.validity.notAfter=ee[1],$.tbsCertificate=V.tbsCertificate,x){$.md=M({signatureOid:$.signatureOid,type:"certificate"});var ne=u.toDer($.tbsCertificate);$.md.update(ne.getBytes())}var de=d.md.sha1.create(),pe=u.toDer(V.certIssuer);de.update(pe.getBytes()),$.issuer.getField=function(Le){return O($.issuer,Le)},$.issuer.addField=function(Le){T([Le]),$.issuer.attributes.push(Le)},$.issuer.attributes=p.RDNAttributesAsArray(V.certIssuer),V.certIssuerUniqueId&&($.issuer.uniqueId=V.certIssuerUniqueId),$.issuer.hash=de.digest().toHex();var ye=d.md.sha1.create(),be=u.toDer(V.certSubject);return ye.update(be.getBytes()),$.subject.getField=function(Le){return O($.subject,Le)},$.subject.addField=function(Le){T([Le]),$.subject.attributes.push(Le)},$.subject.attributes=p.RDNAttributesAsArray(V.certSubject),V.certSubjectUniqueId&&($.subject.uniqueId=V.certSubjectUniqueId),$.subject.hash=ye.digest().toHex(),$.extensions=V.certExtensions?p.certificateExtensionsFromAsn1(V.certExtensions):[],$.publicKey=p.publicKeyFromAsn1(V.subjectPublicKeyInfo),$},p.certificateExtensionsFromAsn1=function(S){for(var x=[],V=0;V<S.value.length;++V)for(var c=S.value[V],j=0;j<c.value.length;++j)x.push(p.certificateExtensionFromAsn1(c.value[j]));return x},p.certificateExtensionFromAsn1=function(S){var x={};if(x.id=u.derToOid(S.value[0].value),x.critical=!1,S.value[1].type===u.Type.BOOLEAN?(x.critical=0!==S.value[1].value.charCodeAt(0),x.value=S.value[2].value):x.value=S.value[1].value,x.id in N)if(x.name=N[x.id],"keyUsage"===x.name){var c=0,j=0;(V=u.fromDer(x.value)).value.length>1&&(c=V.value.charCodeAt(1),j=V.value.length>2?V.value.charCodeAt(2):0),x.digitalSignature=128==(128&c),x.nonRepudiation=64==(64&c),x.keyEncipherment=32==(32&c),x.dataEncipherment=16==(16&c),x.keyAgreement=8==(8&c),x.keyCertSign=4==(4&c),x.cRLSign=2==(2&c),x.encipherOnly=1==(1&c),x.decipherOnly=128==(128&j)}else if("basicConstraints"===x.name){var V=u.fromDer(x.value);x.cA=V.value.length>0&&V.value[0].type===u.Type.BOOLEAN&&0!==V.value[0].value.charCodeAt(0);var Q=null;V.value.length>0&&V.value[0].type===u.Type.INTEGER?Q=V.value[0].value:V.value.length>1&&(Q=V.value[1].value),null!==Q&&(x.pathLenConstraint=u.derToInteger(Q))}else if("extKeyUsage"===x.name){V=u.fromDer(x.value);for(var $=0;$<V.value.length;++$){var te=u.derToOid(V.value[$].value);te in N?x[N[te]]=!0:x[te]=!0}}else if("nsCertType"===x.name)c=0,(V=u.fromDer(x.value)).value.length>1&&(c=V.value.charCodeAt(1)),x.client=128==(128&c),x.server=64==(64&c),x.email=32==(32&c),x.objsign=16==(16&c),x.reserved=8==(8&c),x.sslCA=4==(4&c),x.emailCA=2==(2&c),x.objCA=1==(1&c);else if("subjectAltName"===x.name||"issuerAltName"===x.name){x.altNames=[],V=u.fromDer(x.value);for(var ee,ne=0;ne<V.value.length;++ne){var de={type:(ee=V.value[ne]).type,value:ee.value};switch(x.altNames.push(de),ee.type){case 1:case 2:case 6:break;case 7:de.ip=d.util.bytesToIP(ee.value);break;case 8:de.oid=u.derToOid(ee.value)}}}else"subjectKeyIdentifier"===x.name&&(V=u.fromDer(x.value),x.subjectKeyIdentifier=d.util.bytesToHex(V.value));return x},p.certificationRequestFromAsn1=function(S,x){var V={},c=[];if(!u.validate(S,C,V,c)){var j=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw j.errors=c,j}if(u.derToOid(V.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var $=p.createCertificationRequest();if($.version=V.csrVersion?V.csrVersion.charCodeAt(0):0,$.signatureOid=d.asn1.derToOid(V.csrSignatureOid),$.signatureParameters=G($.signatureOid,V.csrSignatureParams,!0),$.siginfo.algorithmOid=d.asn1.derToOid(V.csrSignatureOid),$.siginfo.parameters=G($.siginfo.algorithmOid,V.csrSignatureParams,!1),$.signature=V.csrSignature,$.certificationRequestInfo=V.certificationRequestInfo,x){$.md=M({signatureOid:$.signatureOid,type:"certification request"});var te=u.toDer($.certificationRequestInfo);$.md.update(te.getBytes())}var ee=d.md.sha1.create();return $.subject.getField=function(ne){return O($.subject,ne)},$.subject.addField=function(ne){T([ne]),$.subject.attributes.push(ne)},$.subject.attributes=p.RDNAttributesAsArray(V.certificationRequestInfoSubject,ee),$.subject.hash=ee.digest().toHex(),$.publicKey=p.publicKeyFromAsn1(V.subjectPublicKeyInfo),$.getAttribute=function(ne){return O($,ne)},$.addAttribute=function(ne){T([ne]),$.attributes.push(ne)},$.attributes=p.CRIAttributesAsArray(V.certificationRequestInfoAttributes||[]),$},p.createCertificationRequest=function(){var S={version:0,signatureOid:null,signature:null,siginfo:{}};return S.siginfo.algorithmOid=null,S.subject={},S.subject.getField=function(x){return O(S.subject,x)},S.subject.addField=function(x){T([x]),S.subject.attributes.push(x)},S.subject.attributes=[],S.subject.hash=null,S.publicKey=null,S.attributes=[],S.getAttribute=function(x){return O(S,x)},S.addAttribute=function(x){T([x]),S.attributes.push(x)},S.md=null,S.setSubject=function(x){T(x),S.subject.attributes=x,S.subject.hash=null},S.setAttributes=function(x){T(x),S.attributes=x},S.sign=function(x,V){S.md=V||d.md.sha1.create();var c=N[S.md.algorithm+"WithRSAEncryption"];if(!c){var j=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw j.algorithm=S.md.algorithm,j}S.signatureOid=S.siginfo.algorithmOid=c,S.certificationRequestInfo=p.getCertificationRequestInfo(S);var Q=u.toDer(S.certificationRequestInfo);S.md.update(Q.getBytes()),S.signature=x.sign(S.md)},S.verify=function(){var x=!1,V=S.md;if(null===V){V=M({signatureOid:S.signatureOid,type:"certification request"});var c=S.certificationRequestInfo||p.getCertificationRequestInfo(S),j=u.toDer(c);V.update(j.getBytes())}return null!==V&&(x=_({certificate:S,md:V,signature:S.signature})),x},S};var F=new Date("1950-01-01T00:00:00Z"),H=new Date("2050-01-01T00:00:00Z");function W(S){return S>=F&&S<H?u.create(u.Class.UNIVERSAL,u.Type.UTCTIME,!1,u.dateToUtcTime(S)):u.create(u.Class.UNIVERSAL,u.Type.GENERALIZEDTIME,!1,u.dateToGeneralizedTime(S))}p.getTBSCertificate=function(S){var x=W(S.validity.notBefore),V=W(S.validity.notAfter),c=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(S.version).getBytes())]),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.util.hexToBytes(S.serialNumber)),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.siginfo.algorithmOid).getBytes()),v(S.siginfo.algorithmOid,S.siginfo.parameters)]),B(S.issuer),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[x,V]),B(S.subject),p.publicKeyToAsn1(S.publicKey)]);return S.issuer.uniqueId&&c.value.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,[u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.issuer.uniqueId)])),S.subject.uniqueId&&c.value.push(u.create(u.Class.CONTEXT_SPECIFIC,2,!0,[u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.subject.uniqueId)])),S.extensions.length>0&&c.value.push(p.certificateExtensionsToAsn1(S.extensions)),c},p.getCertificationRequestInfo=function(S){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(S.version).getBytes()),B(S.subject),p.publicKeyToAsn1(S.publicKey),A(S)])},p.distinguishedNameToAsn1=function(S){return B(S)},p.certificateToAsn1=function(S){var x=S.tbsCertificate||p.getTBSCertificate(S);return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[x,u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.signatureOid).getBytes()),v(S.signatureOid,S.signatureParameters)]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.signature)])},p.certificateExtensionsToAsn1=function(S){var x=u.create(u.Class.CONTEXT_SPECIFIC,3,!0,[]),V=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);x.value.push(V);for(var c=0;c<S.length;++c)V.value.push(p.certificateExtensionToAsn1(S[c]));return x},p.certificateExtensionToAsn1=function(S){var x=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);x.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.id).getBytes())),S.critical&&x.value.push(u.create(u.Class.UNIVERSAL,u.Type.BOOLEAN,!1,String.fromCharCode(255)));var V=S.value;return"string"!=typeof S.value&&(V=u.toDer(V).getBytes()),x.value.push(u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,V)),x},p.certificationRequestToAsn1=function(S){var x=S.certificationRequestInfo||p.getCertificationRequestInfo(S);return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[x,u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.signatureOid).getBytes()),v(S.signatureOid,S.signatureParameters)]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.signature)])},p.createCaStore=function(S){var x={certs:{}};function V($){return c($),x.certs[$.hash]||null}function c($){if(!$.hash){var te=d.md.sha1.create();$.attributes=p.RDNAttributesAsArray(B($),te),$.hash=te.digest().toHex()}}if(x.getIssuer=function($){return V($.issuer)},x.addCertificate=function($){if("string"==typeof $&&($=d.pki.certificateFromPem($)),c($.subject),!x.hasCertificate($))if($.subject.hash in x.certs){var te=x.certs[$.subject.hash];d.util.isArray(te)||(te=[te]),te.push($),x.certs[$.subject.hash]=te}else x.certs[$.subject.hash]=$},x.hasCertificate=function($){"string"==typeof $&&($=d.pki.certificateFromPem($));var te=V($.subject);if(!te)return!1;d.util.isArray(te)||(te=[te]);for(var ee=u.toDer(p.certificateToAsn1($)).getBytes(),ne=0;ne<te.length;++ne)if(ee===u.toDer(p.certificateToAsn1(te[ne])).getBytes())return!0;return!1},x.listAllCertificates=function(){var $=[];for(var te in x.certs)if(x.certs.hasOwnProperty(te)){var ee=x.certs[te];if(d.util.isArray(ee))for(var ne=0;ne<ee.length;++ne)$.push(ee[ne]);else $.push(ee)}return $},x.removeCertificate=function($){var te;if("string"==typeof $&&($=d.pki.certificateFromPem($)),c($.subject),!x.hasCertificate($))return null;var ee=V($.subject);if(!d.util.isArray(ee))return te=x.certs[$.subject.hash],delete x.certs[$.subject.hash],te;for(var ne=u.toDer(p.certificateToAsn1($)).getBytes(),de=0;de<ee.length;++de)ne===u.toDer(p.certificateToAsn1(ee[de])).getBytes()&&(te=ee[de],ee.splice(de,1));return 0===ee.length&&delete x.certs[$.subject.hash],te},S)for(var j=0;j<S.length;++j)x.addCertificate(S[j]);return x},p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},p.verifyCertificateChain=function(S,x,V){"function"==typeof V&&(V={verify:V}),V=V||{};var c=(x=x.slice(0)).slice(0),j=V.validityCheckDate;typeof j>"u"&&(j=new Date);var Q=!0,$=null,te=0;do{var ee=x.shift(),ne=null,de=!1;if(j&&(j<ee.validity.notBefore||j>ee.validity.notAfter)&&($={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:ee.validity.notBefore,notAfter:ee.validity.notAfter,now:j}),null===$){if(null===(ne=x[0]||S.getIssuer(ee))&&ee.isIssuer(ee)&&(de=!0,ne=ee),ne){var pe=ne;d.util.isArray(pe)||(pe=[pe]);for(var ye=!1;!ye&&pe.length>0;){ne=pe.shift();try{ye=ne.verify(ee)}catch{}}ye||($={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}null===$&&(!ne||de)&&!S.hasCertificate(ee)&&($={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}if(null===$&&ne&&!ee.isIssuer(ne)&&($={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate}),null===$)for(var be={keyUsage:!0,basicConstraints:!0},Le=0;null===$&&Le<ee.extensions.length;++Le){var rt=ee.extensions[Le];rt.critical&&!(rt.name in be)&&($={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}if(null===$&&(!Q||0===x.length&&(!ne||de))){var We=ee.getExtension("basicConstraints"),Ce=ee.getExtension("keyUsage");null!==Ce&&(!Ce.keyCertSign||null===We)&&($={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:p.certificateError.bad_certificate}),null===$&&null!==We&&!We.cA&&($={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),null===$&&null!==Ce&&"pathLenConstraint"in We&&te-1>We.pathLenConstraint&&($={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate})}var we=null===$||$.error,vt=V.verify?V.verify(we,te,c):we;if(!0!==vt)throw!0===we&&($={message:"The application rejected the certificate.",error:p.certificateError.bad_certificate}),(vt||0===vt)&&("object"!=typeof vt||d.util.isArray(vt)?"string"==typeof vt&&($.error=vt):(vt.message&&($.message=vt.message),vt.error&&($.error=vt.error))),$;$=null,Q=!1,++te}while(x.length>0);return!0}},819:()=>{}},_e=>{_e(_e.s=88)}]);