(self.webpackChunkgabeogatchi=self.webpackChunkgabeogatchi||[]).push([[179],{740:(_e,Je,Y)=>{"use strict";function d(e){return"function"==typeof e}function u(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const p=u(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function N(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class w{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(d(r))try{r()}catch(o){n=o instanceof p?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{E(o)}catch(s){n=n??[],s instanceof p?n=[...n,...s.errors]:n.push(s)}}if(n)throw new p(n)}}add(n){var t;if(n&&n!==this)if(this.closed)E(n);else{if(n instanceof w){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&N(t,n)}remove(n){const{_finalizers:t}=this;t&&N(t,n),n instanceof w&&n._removeParent(this)}}w.EMPTY=(()=>{const e=new w;return e.closed=!0,e})();const M=w.EMPTY;function b(e){return e instanceof w||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function E(e){d(e)?e():e.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},C={setTimeout(e,n,...t){const{delegate:r}=C;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=C;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function B(e){C.setTimeout(()=>{const{onUnhandledError:n}=f;if(!n)throw e;n(e)})}function G(){}const R=D("C",void 0,void 0);function D(e,n,t){return{kind:e,value:n,error:t}}let T=null;function h(e){if(f.useDeprecatedSynchronousErrorHandling){const n=!T;if(n&&(T={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=T;if(T=null,t)throw r}}else e()}class A extends w{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,b(n)&&n.add(this)):this.destination=j}static create(n,t,r){return new S(n,t,r)}next(n){this.isStopped?c(function k(e){return D("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?c(function _(e){return D("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?c(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function H(e,n){return F.call(e,n)}class W{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){x(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){x(r)}else x(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){x(t)}}}class S extends A{constructor(n,t,r){let i;if(super(),d(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&f.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&H(n.next,o),error:n.error&&H(n.error,o),complete:n.complete&&H(n.complete,o)}):i=n}this.destination=new W(i)}}function x(e){f.useDeprecatedSynchronousErrorHandling?function v(e){f.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=e)}(e):B(e)}function c(e,n){const{onStoppedNotification:t}=f;t&&C.setTimeout(()=>t(e,n))}const j={closed:!0,next:G,error:function V(e){throw e},complete:G},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function $(e){return e}function te(e){return 0===e.length?$:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let re=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Ce(e){return e&&e instanceof A||function he(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}(e)&&b(e)}(t)?t:new S(t,r,i);return h(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=de(r))((i,o)=>{const s=new S({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Q](){return this}pipe(...t){return te(t)(this)}toPromise(t){return new(t=de(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function de(e){var n;return null!==(n=e??f.Promise)&&void 0!==n?n:Promise}const Ae=u(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ae}next(t){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?M:(this.currentObservers=null,o.push(t),new w(()=>{this.currentObservers=null,N(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new re;return t.source=this,t}}return e.create=(n,t)=>new nt(n,t),e})();class nt extends Le{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:M}}function dt(e){return d(e?.lift)}function pe(e){return n=>{if(dt(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(e,n,t,r,i){return new ke(e,n,t,r,i)}class ke extends A{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Fe(e,n){return pe((t,r)=>{let i=0;t.subscribe(Ye(r,o=>{r.next(e.call(n,o,i++))}))})}function Dt(e){return this instanceof Dt?(this.v=e,this):new Dt(e)}function vn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function We(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(g){o({value:g,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}const pr=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function br(e){return d(e?.then)}function Fr(e){return d(e[Q])}function ni(e){return Symbol.asyncIterator&&d(e?.[Symbol.asyncIterator])}function Ii(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kt=function po(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wt(e){return d(e?.[Kt])}function qt(e){return function Bt(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(K){r[K]&&(i[K]=function(X){return new Promise(function(ie,le){o.push([K,X,ie,le])>1||a(K,X)})})}function a(K,X){try{!function l(K){K.value instanceof Dt?Promise.resolve(K.value.v).then(g,I):O(o[0][2],K)}(r[K](X))}catch(ie){O(o[0][3],ie)}}function g(K){a("next",K)}function I(K){a("throw",K)}function O(K,X){K(X),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Dt(t.read());if(i)return yield Dt(void 0);yield yield Dt(r)}}finally{t.releaseLock()}})}function Qt(e){return d(e?.getReader)}function Tt(e){if(e instanceof re)return e;if(null!=e){if(Fr(e))return function nn(e){return new re(n=>{const t=e[Q]();if(d(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(pr(e))return function rn(e){return new re(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(br(e))return function on(e){return new re(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,B)})}(e);if(ni(e))return Yt(e);if(Wt(e))return function sn(e){return new re(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Qt(e))return function an(e){return Yt(qt(e))}(e)}throw Ii(e)}function Yt(e){return new re(n=>{(function un(e,n){var t,r,i,o;return function He(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(I){try{g(r.next(I))}catch(O){s(O)}}function l(I){try{g(r.throw(I))}catch(O){s(O)}}function g(I){I.done?o(I.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(I.value).then(a,l)}g((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=vn(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function wt(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function pt(e,n,t=1/0){return d(n)?pt((r,i)=>Fe((o,s)=>n(r,o,i,s))(Tt(e(r,i))),t):("number"==typeof n&&(t=n),pe((r,i)=>function ln(e,n,t,r,i,o,s,a){const l=[];let g=0,I=0,O=!1;const K=()=>{O&&!l.length&&!g&&n.complete()},X=le=>g<r?ie(le):l.push(le),ie=le=>{o&&n.next(le),g++;let ye=!1;Tt(t(le,I++)).subscribe(Ye(n,Se=>{i?.(Se),o?X(Se):n.next(Se)},()=>{ye=!0},void 0,()=>{if(ye)try{for(g--;l.length&&g<r;){const Se=l.shift();s?wt(n,s,()=>ie(Se)):ie(Se)}K()}catch(Se){n.error(Se)}}))};return e.subscribe(Ye(n,X,()=>{O=!0,K()})),()=>{a?.()}}(r,i,e,t)))}function Rt(e=1/0){return pt($,e)}const gr=new re(e=>e.complete());function Cs(e){return e[e.length-1]}function $i(e){return function ec(e){return e&&d(e.schedule)}(Cs(e))?e.pop():void 0}function ja(e,n=0){return pe((t,r)=>{t.subscribe(Ye(r,i=>wt(r,e,()=>r.next(i),n),()=>wt(r,e,()=>r.complete(),n),i=>wt(r,e,()=>r.error(i),n)))})}function $a(e,n=0){return pe((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function za(e,n){if(!e)throw new Error("Iterable cannot be null");return new re(t=>{wt(t,n,()=>{const r=e[Symbol.asyncIterator]();wt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cn(e,n){return n?function sc(e,n){if(null!=e){if(Fr(e))return function nc(e,n){return Tt(e).pipe($a(n),ja(n))}(e,n);if(pr(e))return function ic(e,n){return new re(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(br(e))return function rc(e,n){return Tt(e).pipe($a(n),ja(n))}(e,n);if(ni(e))return za(e,n);if(Wt(e))return function oc(e,n){return new re(t=>{let r;return wt(t,n,()=>{r=e[Kt](),wt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>d(r?.return)&&r.return()})}(e,n);if(Qt(e))return function rr(e,n){return za(qt(e),n)}(e,n)}throw Ii(e)}(e,n):Tt(e)}function L(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new S({next:()=>{r.unsubscribe(),e()}});return Tt(n(...t)).subscribe(r)}function U(e){for(let n in e)if(e[n]===U)return n;throw Error("Could not find renamed property on target object.")}function ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function ve(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const De=U({__forward_ref__:U});function Ne(e){return e.__forward_ref__=Ne,e.toString=function(){return ee(this())},e}function me(e){return bt(e)?e():e}function bt(e){return"function"==typeof e&&e.hasOwnProperty(De)&&e.__forward_ref__===Ne}function $t(e){return e&&!!e.\u0275providers}const Pn="https://g.co/ng/security#xss";class Ie extends Error{constructor(n,t){super(function xi(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Ke(e){return"string"==typeof e?e:null==e?"":String(e)}function Ga(e,n){throw new Ie(-201,!1)}function mr(e,n){null==e&&function xt(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function ze(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ii(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ka(e){return gp(e,Wa)||gp(e,yp)}function gp(e,n){return e.hasOwnProperty(n)?e[n]:null}function mp(e){return e&&(e.hasOwnProperty(lc)||e.hasOwnProperty(pS))?e[lc]:null}const Wa=U({\u0275prov:U}),lc=U({\u0275inj:U}),yp=U({ngInjectableDef:U}),pS=U({ngInjectorDef:U});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let cc;function Wn(e){const n=cc;return cc=e,n}function Cp(e,n,t){const r=Ka(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Qe.Optional?null:void 0!==n?n:void Ga(ee(e))}const Mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ss={},dc="__NG_DI_FLAG__",qa="ngTempTokenPath",mS=/\n/gm,Ep="__source";let mo;function wi(e){const n=mo;return mo=e,n}function CS(e,n=Qe.Default){if(void 0===mo)throw new Ie(-203,!1);return null===mo?Cp(e,void 0,n):mo.get(e,n&Qe.Optional?null:void 0,n)}function Ue(e,n=Qe.Default){return(function vp(){return cc}()||CS)(me(e),n)}function Oe(e,n=Qe.Default){return Ue(e,Qa(n))}function Qa(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fc(e){const n=[];for(let t=0;t<e.length;t++){const r=me(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Ie(900,!1);let i,o=Qe.Default;for(let s=0;s<r.length;s++){const a=r[s],l=ES(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(Ue(i,o))}else n.push(Ue(r))}return n}function Ds(e,n){return e[dc]=n,e.prototype[dc]=n,e}function ES(e){return e[dc]}function oi(e){return{toString:e}.toString()}var Ur=(()=>((Ur=Ur||{})[Ur.OnPush=0]="OnPush",Ur[Ur.Default=1]="Default",Ur))(),sr=(()=>{return(e=sr||(sr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",sr;var e})();const si={},St=[],Ya=U({\u0275cmp:U}),hc=U({\u0275dir:U}),pc=U({\u0275pipe:U}),Dp=U({\u0275mod:U}),ai=U({\u0275fac:U}),bs=U({__NG_ELEMENT_ID__:U}),bp=U({__NG_ENV_ID__:U});function Ap(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function gc(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Tp(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Ip(e){return 3===e||4===e||6===e}function Tp(e){return 64===e.charCodeAt(0)}function As(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||xp(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function xp(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const _p="ng-template";function bS(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==Ap(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function wp(e){return 4===e.type&&e.value!==_p}function AS(e,n,t){return n===(4!==e.type||t?e.value:_p)}function IS(e,n,t){let r=4;const i=e.attrs||[],o=function _S(e){for(let n=0;n<e.length;n++)if(Ip(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!AS(e,l,t)||""===l&&1===n.length){if(Ar(r))return!1;s=!0}}else{const g=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!bS(e.attrs,g,t)){if(Ar(r))return!1;s=!0}continue}const O=TS(8&r?"class":l,i,wp(e),t);if(-1===O){if(Ar(r))return!1;s=!0;continue}if(""!==g){let K;K=O>o?"":i[O+1].toLowerCase();const X=8&r?K:null;if(X&&-1!==Ap(X,g,0)||2&r&&g!==K){if(Ar(r))return!1;s=!0}}}}else{if(!s&&!Ar(r)&&!Ar(l))return!1;if(s&&Ar(l))continue;s=!1,r=l|1&r}}return Ar(r)||s}function Ar(e){return 0==(1&e)}function TS(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function wS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Np(e,n,t=!1){for(let r=0;r<n.length;r++)if(IS(e,n[r],t))return!0;return!1}function Rp(e,n){return e?":not("+n.trim()+")":n}function RS(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ar(s)&&(n+=Rp(o,i),i=""),r=s,o=o||!Ar(r);t++}return""!==i&&(n+=Rp(o,i)),n}function Xt(e){return oi(()=>{const n=Pp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ur.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||sr.Emulated,styles:e.styles||St,_:null,schemas:e.schemas||null,tView:null,id:""};kp(t);const r=e.dependencies;return t.directiveDefs=Xa(r,!1),t.pipeDefs=Xa(r,!0),t.id=function US(e){let n=0;const t=JSON.stringify([e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.exportAs,e.inputs,e.outputs,Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery]);for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function BS(e){return At(e)||kn(e)}function OS(e){return null!==e}function Ni(e){return oi(()=>({type:e.type,bootstrap:e.bootstrap||St,declarations:e.declarations||St,imports:e.imports||St,exports:e.exports||St,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Mp(e,n){if(null==e)return si;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function Un(e){return oi(()=>{const n=Pp(e);return kp(n),n})}function At(e){return e[Ya]||null}function kn(e){return e[hc]||null}function Qn(e){return e[pc]||null}function ar(e,n){const t=e[Dp]||null;if(!t&&!0===n)throw new Error(`Type ${ee(e)} does not have '\u0275mod' property.`);return t}function Pp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||St,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mp(e.inputs,n),outputs:Mp(e.outputs)}}function kp(e){e.features?.forEach(n=>n(e))}function Xa(e,n){if(!e)return null;const t=n?Qn:BS;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(OS)}const En=0,Me=1,at=2,Ut=3,Ir=4,zi=5,Bn=6,vo=7,zt=8,Co=9,Gi=10,it=11,Is=12,Bp=13,Eo=14,dn=15,Ts=16,So=17,Vr=18,xs=19,Op=20,Ri=21,ui=22,Za=23,Ja=24,vt=25,mc=1,Lp=2,Hr=7,eu=8,Do=9,_n=11;function ur(e){return Array.isArray(e)&&"object"==typeof e[mc]}function Yn(e){return Array.isArray(e)&&!0===e[mc]}function yc(e){return 0!=(4&e.flags)}function Ki(e){return e.componentOffset>-1}function tu(e){return 1==(1&e.flags)}function Tr(e){return!!e.template}function vc(e){return 0!=(512&e[at])}function Wi(e,n){return e.hasOwnProperty(ai)?e[ai]:null}let zS=Mt.WeakRef??class $S{constructor(n){this.ref=n}deref(){return this.ref}},KS=0,jr=null,nu=!1;function Tn(e){const n=jr;return jr=e,n}class jp{constructor(){this.id=KS++,this.ref=function GS(e){return new zS(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(void 0!==r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=nu;nu=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{nu=n}}producerAccessed(){if(nu)throw new Error("");if(null===jr)return;let n=jr.producers.get(this.id);void 0===n?(n={consumerNode:jr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:jr.trackingVersion},jr.producers.set(this.id,n),this.consumers.set(jr.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=jr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==jr?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let $p=null;const zp=()=>{};class YS extends jp{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=zp,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Tn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=zp,this.watch(this.registerOnCleanup)}finally{Tn(n)}}cleanup(){this.cleanupFn()}}class XS{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function qi(){return Gp}function Gp(e){return e.type.prototype.ngOnChanges&&(e.setInput=JS),ZS}function ZS(){const e=Wp(this),n=e?.current;if(n){const t=e.previous;if(t===si)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function JS(e,n,t,r){const i=this.declaredInputs[t],o=Wp(e)||function eD(e,n){return e[Kp]=n}(e,{previous:si,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new XS(l&&l.currentValue,n,a===si),e[r]=n}qi.ngInherit=!0;const Kp="__ngSimpleChanges__";function Wp(e){return e[Kp]||null}const $r=function(e,n,t){};function Ot(e){for(;Array.isArray(e);)e=e[En];return e}function ou(e,n){return Ot(n[e])}function Xn(e,n){return Ot(n[e.index])}function Yp(e,n){return e.data[n]}function Zn(e,n){const t=n[e];return ur(t)?t:t[En]}function su(e){return 128==(128&e[at])}function Mi(e,n){return null==n?null:e[n]}function Xp(e){e[So]=0}function sD(e){1024&e[at]||(e[at]|=1024,Jp(e,1))}function Zp(e){1024&e[at]&&(e[at]&=-1025,Jp(e,-1))}function Jp(e,n){let t=e[Ut];if(null===t)return;t[zi]+=n;let r=t;for(t=t[Ut];null!==t&&(1===n&&1===r[zi]||-1===n&&0===r[zi]);)t[zi]+=n,r=t,t=t[Ut]}const et={lFrame:cg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ng(){return et.bindingsEnabled}function Ee(){return et.lFrame.lView}function Et(){return et.lFrame.tView}function Sn(e){return et.lFrame.contextLView=e,e[zt]}function Dn(e){return et.lFrame.contextLView=null,e}function wn(){let e=rg();for(;null!==e&&64===e.type;)e=e.parent;return e}function rg(){return et.lFrame.currentTNode}function zr(e,n){const t=et.lFrame;t.currentTNode=e,t.isParent=n}function Ac(){return et.lFrame.isParent}function Vn(){const e=et.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Io(){return et.lFrame.bindingIndex++}function vD(e,n){const t=et.lFrame;t.bindingIndex=t.bindingRootIndex=e,Tc(n)}function Tc(e){et.lFrame.currentDirectiveIndex=e}function ag(){return et.lFrame.currentQueryIndex}function _c(e){et.lFrame.currentQueryIndex=e}function ED(e){const n=e[Me];return 2===n.type?n.declTNode:1===n.type?e[Bn]:null}function ug(e,n,t){if(t&Qe.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&Qe.Host||(i=ED(o),null===i||(o=o[Eo],10&i.type))););if(null===i)return!1;n=i,e=o}const r=et.lFrame=lg();return r.currentTNode=n,r.lView=e,!0}function wc(e){const n=lg(),t=e[Me];et.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function lg(){const e=et.lFrame,n=null===e?null:e.child;return null===n?cg(e):n}function cg(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function dg(){const e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const fg=dg;function Nc(){const e=dg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Hn(){return et.lFrame.selectedIndex}function Qi(e){et.lFrame.selectedIndex=e}function Vt(){const e=et.lFrame;return Yp(e.tView,e.selectedIndex)}let pg=!0;function au(){return pg}function Pi(e){pg=e}function uu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:g,ngOnDestroy:I}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),g&&((e.viewHooks??=[]).push(t,g),(e.viewCheckHooks??=[]).push(t,g)),null!=I&&(e.destroyHooks??=[]).push(t,I)}}function lu(e,n,t){gg(e,n,3,t)}function cu(e,n,t,r){(3&e[at])===t&&gg(e,n,t,r)}function Rc(e,n){let t=e[at];(3&t)===n&&(t&=4095,t+=1,e[at]=t)}function gg(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[So]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[So]+=65536),(a<o||-1==o)&&(_D(e,t,n,l),e[So]=(4294901760&e[So])+l+2),l++}function mg(e,n){$r(4,e,n);const t=Tn(null);try{n.call(e)}finally{Tn(t),$r(5,e,n)}}function _D(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[at]>>12<e[So]>>16&&(3&e[at])===n&&(e[at]+=4096,mg(a,o)):mg(a,o)}const To=-1;class Ns{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function yg(e){return e!==To}function du(e){return 32767&e}function fu(e,n){let t=function MD(e){return e>>16}(e),r=n;for(;t>0;)r=r[Eo],t--;return r}let Pc=!0;function hu(e){const n=Pc;return Pc=e,n}const vg=255,Cg=5;let PD=0;const Gr={};function pu(e,n){const t=Eg(e,n);if(-1!==t)return t;const r=n[Me];r.firstCreatePass&&(e.injectorIndex=n.length,kc(r.data,e),kc(n,null),kc(r.blueprint,null));const i=Bc(e,n),o=e.injectorIndex;if(yg(i)){const s=du(i),a=fu(i,n),l=a[Me].data;for(let g=0;g<8;g++)n[o+g]=a[s+g]|l[s+g]}return n[o+8]=i,o}function kc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Eg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Bc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=_g(i),null===r)return To;if(t++,i=i[Eo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return To}function Oc(e,n,t){!function kD(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bs)&&(r=t[bs]),null==r&&(r=t[bs]=PD++);const i=r&vg;n.data[e+(i>>Cg)]|=1<<i}(e,n,t)}function Sg(e,n,t){if(t&Qe.Optional||void 0!==e)return e;Ga()}function Dg(e,n,t,r){if(t&Qe.Optional&&void 0===r&&(r=null),!(t&(Qe.Self|Qe.Host))){const i=e[Co],o=Wn(void 0);try{return i?i.get(n,r,t&Qe.Optional):Cp(n,r,t&Qe.Optional)}finally{Wn(o)}}return Sg(r,0,t)}function bg(e,n,t,r=Qe.Default,i){if(null!==e){if(2048&n[at]){const s=function UD(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[at]&&!(512&s[at]);){const a=Ag(o,s,t,r|Qe.Self,Gr);if(a!==Gr)return a;let l=o.parent;if(!l){const g=s[Op];if(g){const I=g.get(t,Gr,r);if(I!==Gr)return I}l=_g(s),s=s[Eo]}o=l}return i}(e,n,t,r,Gr);if(s!==Gr)return s}const o=Ag(e,n,t,r,Gr);if(o!==Gr)return o}return Dg(n,t,r,i)}function Ag(e,n,t,r,i){const o=function LD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(bs)?e[bs]:void 0;return"number"==typeof n?n>=0?n&vg:FD:n}(t);if("function"==typeof o){if(!ug(n,e,r))return r&Qe.Host?Sg(i,0,r):Dg(n,t,r,i);try{const s=o(r);if(null!=s||r&Qe.Optional)return s;Ga()}finally{fg()}}else if("number"==typeof o){let s=null,a=Eg(e,n),l=To,g=r&Qe.Host?n[dn][Bn]:null;for((-1===a||r&Qe.SkipSelf)&&(l=-1===a?Bc(e,n):n[a+8],l!==To&&Tg(r,!1)?(s=n[Me],a=du(l),n=fu(l,n)):a=-1);-1!==a;){const I=n[Me];if(Ig(o,a,I.data)){const O=OD(a,n,t,s,r,g);if(O!==Gr)return O}l=n[a+8],l!==To&&Tg(r,n[Me].data[a+8]===g)&&Ig(o,a,n)?(s=I,a=du(l),n=fu(l,n)):a=-1}}return i}function OD(e,n,t,r,i,o){const s=n[Me],a=s.data[e+8],I=gu(a,s,t,null==r?Ki(a)&&Pc:r!=s&&0!=(3&a.type),i&Qe.Host&&o===a);return null!==I?Yi(n,s,I,a):Gr}function gu(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,I=o>>20,K=i?a+I:e.directiveEnd;for(let X=r?a:a+I;X<K;X++){const ie=s[X];if(X<l&&t===ie||X>=l&&ie.type===t)return X}if(i){const X=s[l];if(X&&Tr(X)&&X.type===t)return l}return null}function Yi(e,n,t,r){let i=e[t];const o=n.data;if(function wD(e){return e instanceof Ns}(i)){const s=i;s.resolving&&function go(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${e}${t}`)}(function lt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ke(e)}(o[t]));const a=hu(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Wn(s.injectImpl):null;ug(e,r,Qe.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function xD(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Gp(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&Wn(l),hu(a),s.resolving=!1,fg()}}return i}function Ig(e,n,t){return!!(t[n+(e>>Cg)]&1<<e)}function Tg(e,n){return!(e&Qe.Self||e&Qe.Host&&n)}class xo{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return bg(this._tNode,this._lView,n,Qa(r),t)}}function FD(){return new xo(wn(),Ee())}function Lc(e){return bt(e)?()=>{const n=Lc(me(e));return n&&n()}:Wi(e)}function _g(e){const n=e[Me],t=n.type;return 2===t?n.declTNode:1===t?e[Bn]:null}const wo="__parameters__";function Ro(e,n,t){return oi(()=>{const r=function Fc(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,g,I){const O=l.hasOwnProperty(wo)?l[wo]:Object.defineProperty(l,wo,{value:[]})[wo];for(;O.length<=I;)O.push(null);return(O[I]=O[I]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ps(e,n){e.forEach(t=>Array.isArray(t)?Ps(t,n):n(t))}function Ng(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function yu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function lr(e,n,t){let r=Mo(e,n);return r>=0?e[1|r]=t:(r=~r,function zD(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Uc(e,n){const t=Mo(e,n);if(t>=0)return e[1|t]}function Mo(e,n){return function Rg(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Cu=Ds(Ro("Optional"),8),Eu=Ds(Ro("SkipSelf"),4);function bu(e){return 128==(128&e.flags)}var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();const Kc=new Map;let pb=0;const qc="__ngContext__";function On(e,n){ur(n)?(e[qc]=n[xs],function mb(e){Kc.set(e[xs],e)}(n)):e[qc]=n}let Qc;function Yc(e,n){return Qc(e,n)}function Ls(e){const n=e[Ut];return Yn(n)?n[Ut]:n}function Xc(e){return Yg(e[Is])}function Zc(e){return Yg(e[Ir])}function Yg(e){for(;null!==e&&!Yn(e);)e=e[Ir];return e}function Bo(e,n,t,r,i){if(null!=r){let o,s=!1;Yn(r)?o=r:ur(r)&&(s=!0,r=r[En]);const a=Ot(r);0===e&&null!==t?null==i?t0(n,t,a):Xi(n,t,a,i||null,!0):1===e&&null!==t?Xi(n,t,a,i||null,!0):2===e?function wu(e,n,t){const r=xu(e,n);r&&function Bb(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function Fb(e,n,t,r,i){const o=t[Hr];o!==Ot(t)&&Bo(n,e,r,o,i);for(let a=_n;a<t.length;a++){const l=t[a];Us(l[Me],l,e,n,r,o)}}(n,e,o,t,i)}}function Tu(e,n,t){return e.createElement(n,t)}function Zg(e,n){const t=e[Do],r=t.indexOf(n);Zp(n),t.splice(r,1)}function ed(e,n){if(e.length<=_n)return;const t=_n+n,r=e[t];if(r){const i=r[Ts];null!==i&&i!==e&&Zg(i,r),n>0&&(e[t-1][Ir]=r[Ir]);const o=yu(e,_n+n);!function xb(e,n){Us(e,n,n[it],2,null,null),n[En]=null,n[Bn]=null}(r[Me],r);const s=o[Vr];null!==s&&s.detachView(o[Me]),r[Ut]=null,r[Ir]=null,r[at]&=-129}return r}function Jg(e,n){if(!(256&n[at])){const t=n[it];n[Za]?.destroy(),n[Ja]?.destroy(),t.destroyNode&&Us(e,n,t,3,null,null),function Nb(e){let n=e[Is];if(!n)return td(e[Me],e);for(;n;){let t=null;if(ur(n))t=n[Is];else{const r=n[_n];r&&(t=r)}if(!t){for(;n&&!n[Ir]&&n!==e;)ur(n)&&td(n[Me],n),n=n[Ut];null===n&&(n=e),ur(n)&&td(n[Me],n),t=n&&n[Ir]}n=t}}(n)}}function td(e,n){if(!(256&n[at])){n[at]&=-129,n[at]|=256,function kb(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ns)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];$r(4,a,l);try{l.call(a)}finally{$r(5,a,l)}}else{$r(4,i,o);try{o.call(i)}finally{$r(5,i,o)}}}}}(e,n),function Pb(e,n){const t=e.cleanup,r=n[vo];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[vo]=null);const i=n[Ri];if(null!==i){for(let o=0;o<i.length;o++)(0,i[o])();n[Ri]=null}}(e,n),1===n[Me].type&&n[it].destroy();const t=n[Ts];if(null!==t&&Yn(n[Ut])){t!==n[Ut]&&Zg(t,n);const r=n[Vr];null!==r&&r.detachView(e)}!function yb(e){Kc.delete(e[xs])}(n)}}function nd(e,n,t){return function e0(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[En];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===sr.None||o===sr.Emulated)return null}return Xn(r,t)}}(e,n.parent,t)}function Xi(e,n,t,r,i){e.insertBefore(n,t,r,i)}function t0(e,n,t){e.appendChild(n,t)}function n0(e,n,t,r,i){null!==r?Xi(e,n,t,r,i):t0(e,n,t)}function xu(e,n){return e.parentNode(n)}let rd,ad,s0=function o0(e,n,t){return 40&e.type?Xn(e,t):null};function _u(e,n,t,r){const i=nd(e,r,n),o=n[it],a=function r0(e,n,t){return s0(e,n,t)}(r.parent||n[Bn],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)n0(o,i,t[l],a,!1);else n0(o,i,t,a,!1);void 0!==rd&&rd(o,r,n,t,i)}function Fs(e,n){if(null!==n){const t=n.type;if(3&t)return Xn(n,e);if(4&t)return id(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Fs(e,r);{const i=e[n.index];return Yn(i)?id(-1,i):Ot(i)}}if(32&t)return Yc(n,e)()||Ot(e[n.index]);{const r=u0(e,n);return null!==r?Array.isArray(r)?r[0]:Fs(Ls(e[dn]),r):Fs(e,n.next)}}return null}function u0(e,n){return null!==n?e[dn][Bn].projection[n.projection]:null}function id(e,n){const t=_n+e+1;if(t<n.length){const r=n[t],i=r[Me].firstChild;if(null!==i)return Fs(r,i)}return n[Hr]}function od(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&On(Ot(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)od(e,n,t.child,r,i,o,!1),Bo(n,e,i,a,o);else if(32&l){const g=Yc(t,r);let I;for(;I=g();)Bo(n,e,i,I,o);Bo(n,e,i,a,o)}else 16&l?c0(e,n,r,t,i,o):Bo(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Us(e,n,t,r,i,o){od(t,r,e.firstChild,n,i,o,!1)}function c0(e,n,t,r,i,o){const s=t[dn],l=s[Bn].projection[r.projection];if(Array.isArray(l))for(let g=0;g<l.length;g++)Bo(n,e,i,l[g],o);else{let g=l;const I=s[Ut];bu(r)&&(g.flags|=128),od(e,n,g,I,i,o,!0)}}function d0(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function f0(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&gc(e,n,r),null!==i&&d0(e,n,i),null!==o&&function Vb(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class m0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pn})`}}function ki(e){return e instanceof m0?e.changingThisBreaksApplicationSecurity:e}const eA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function Zi(e){const n=function $s(){const e=Ee();return e&&e[Gi].sanitizer}();return n?n.sanitize(fn.URL,e)||"":function Hs(e,n){const t=function Yb(e){return e instanceof m0&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Pn})`)}return t===n}(e,"URL")?ki(e):function ld(e){return(e=String(e)).match(eA)?e:"unsafe:"+e}(Ke(e))}class je{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ze({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zs=new je("ENVIRONMENT_INITIALIZER"),I0=new je("INJECTOR",-1),T0=new je("INJECTOR_DEF_TYPES");class x0{get(n,t=Ss){if(t===Ss){const r=new Error(`NullInjectorError: No provider for ${ee(n)}!`);throw r.name="NullInjectorError",r}return t}}function hA(...e){return{\u0275providers:_0(0,e),\u0275fromNgModule:!0}}function _0(e,...n){const t=[],r=new Set;let i;return Ps(n,o=>{const s=o;pd(s,t,[],r)&&(i||=[],i.push(s))}),void 0!==i&&w0(i,t),t}function w0(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];gd(i,o=>{n.push(o)})}}function pd(e,n,t,r){if(!(e=me(e)))return!1;let i=null,o=mp(e);const s=!o&&At(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=mp(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const g of l)pd(g,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let g;r.add(i);try{Ps(o.imports,I=>{pd(I,n,t,r)&&(g||=[],g.push(I))})}finally{}void 0!==g&&w0(g,n)}if(!a){const g=Wi(i)||(()=>new i);n.push({provide:i,useFactory:g,deps:St},{provide:T0,useValue:i,multi:!0},{provide:zs,useValue:()=>Ue(i),multi:!0})}const l=o.providers;null==l||a||gd(l,I=>{n.push(I)})}}return i!==e&&void 0!==e.providers}function gd(e,n){for(let t of e)$t(t)&&(t=t.\u0275providers),Array.isArray(t)?gd(t,n):n(t)}const pA=U({provide:String,useValue:U});function md(e){return null!==e&&"object"==typeof e&&pA in e}function Ji(e){return"function"==typeof e}const yd=new je("Set Injector scope."),Pu={},mA={};let vd;function ku(){return void 0===vd&&(vd=new x0),vd}class Kr{}class Cd extends Kr{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(n,s=>this.processProvider(s)),this.records.set(I0,Lo(void 0,this)),i.has("environment")&&this.records.set(Kr,Lo(void 0,this));const o=this.records.get(yd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(T0.multi,St,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=wi(this),r=Wn(void 0);try{return n()}finally{wi(t),Wn(r)}}get(n,t=Ss,r=Qe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(bp))return n[bp](this);r=Qa(r);const i=wi(this),o=Wn(void 0);try{if(!(r&Qe.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function SA(e){return"function"==typeof e||"object"==typeof e&&e instanceof je}(n)&&Ka(n);a=l&&this.injectableDefInScope(l)?Lo(Ed(n),Pu):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Qe.Self?ku():this.parent).get(n,t=r&Qe.Optional&&t===Ss?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[qa]=s[qa]||[]).unshift(ee(n)),i)throw s;return function SS(e,n,t,r){const i=e[qa];throw n[Ep]&&i.unshift(n[Ep]),e.message=function DS(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ee(n);if(Array.isArray(n))i=n.map(ee).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ee(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(mS,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[qa]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{Wn(o),wi(i)}}resolveInjectorInitializers(){const n=wi(this),t=Wn(void 0);try{const r=this.get(zs.multi,St,Qe.Self);for(const i of r)i()}finally{wi(n),Wn(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(ee(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(n){let t=Ji(n=me(n))?n:me(n&&n.provide);const r=function vA(e){return md(e)?Lo(void 0,e.useValue):Lo(function M0(e,n,t){let r;if(Ji(e)){const i=me(e);return Wi(i)||Ed(i)}if(md(e))r=()=>me(e.useValue);else if(function R0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...fc(e.deps||[]));else if(function N0(e){return!(!e||!e.useExisting)}(e))r=()=>Ue(me(e.useExisting));else{const i=me(e&&(e.useClass||e.provide));if(!function CA(e){return!!e.deps}(e))return Wi(i)||Ed(i);r=()=>new i(...fc(e.deps))}return r}(e),Pu)}(n);if(Ji(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Lo(void 0,Pu,!0),i.factory=()=>fc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Pu&&(t.value=mA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function EA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=me(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ed(e){const n=Ka(e),t=null!==n?n.factory:Wi(e);if(null!==t)return t;if(e instanceof je)throw new Ie(204,!1);if(e instanceof Function)return function yA(e){const n=e.length;if(n>0)throw function ks(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new Ie(204,!1);const t=function hS(e){return e&&(e[Wa]||e[yp])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Ie(204,!1)}function Lo(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Sd(e,n){for(const t of e)Array.isArray(t)?Sd(t,n):t&&$t(t)?Sd(t.\u0275providers,n):n(t)}const Bu=new je("AppId",{providedIn:"root",factory:()=>DA}),DA="ng",P0=new je("Platform Initializer"),eo=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),k0=new je("CSP nonce",{providedIn:"root",factory:()=>function Vs(){if(void 0!==ad)return ad;if(typeof document<"u")return document;throw new Ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let O0=(e,n)=>null;function L0(e,n){return O0(e,n)}class MA{}class V0{}class kA{resolveComponentFactory(n){throw function PA(e){const n=Error(`No component factory found for ${ee(e)}.`);return n.ngComponent=e,n}(n)}}let Vu=(()=>{class e{}return e.NULL=new kA,e})();function BA(){return Fo(wn(),Ee())}function Fo(e,n){return new Bi(Xn(e,n))}let Bi=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=BA,e})();function OA(e){return e instanceof Bi?e.nativeElement:e}class j0{}let Hu=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function LA(){const e=Ee(),t=Zn(wn().index,e);return(ur(t)?t:e)[it]}(),e})(),FA=(()=>{class e{}return e.\u0275prov=ze({token:e,providedIn:"root",factory:()=>null}),e})();class ju{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const UA=new ju("16.0.1"),Md={};function qs(e){for(;e;){e[at]|=64;const n=Ls(e);if(vc(e)&&!n)return e;e=n}return null}function Pd(e){return e.ngOriginalError}class to{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Pd(n);for(;t&&Pd(t);)t=Pd(t);return t||null}}const G0=new je("",{providedIn:"root",factory:()=>!1});function K0(e){return e.ownerDocument.defaultView}function fi(e){return e instanceof Function?e():e}class Q0 extends jp{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){qs(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=Tn(this);this.trackingVersion++;try{n(t,r)}finally{Tn(i)}}destroy(){this.trackingVersion++}}let zu=null;function Y0(){return zu??=new Q0,zu}function X0(e,n){return e[n]??Y0()}function Z0(e,n){const t=Y0();t.hasReadASignal&&(e[n]=zu,t.lView=e,zu=new Q0)}const ot={};function xe(e){J0(Et(),Ee(),Hn()+e,!1)}function J0(e,n,t,r){if(!r)if(3==(3&n[at])){const o=e.preOrderCheckHooks;null!==o&&lu(n,o,t)}else{const o=e.preOrderHooks;null!==o&&cu(n,o,0,t)}Qi(t)}function rm(e,n=null,t=null,r){const i=im(e,n,t,r);return i.resolveInjectorInitializers(),i}function im(e,n=null,t=null,r,i=new Set){const o=[t||St,hA(e)];return r=r||("object"==typeof e?void 0:ee(e)),new Cd(o,n||ku(),r||null,i)}let hi=(()=>{class e{static create(t,r){if(Array.isArray(t))return rm({name:""},r,t,"");{const i=t.name??"";return rm({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=Ss,e.NULL=new x0,e.\u0275prov=ze({token:e,providedIn:"any",factory:()=>Ue(I0)}),e.__NG_ELEMENT_ID__=-1,e})();function we(e,n=Qe.Default){const t=Ee();return null===t?Ue(e,n):bg(wn(),t,me(e),n)}function Gu(e,n,t,r,i,o,s,a,l,g,I){const O=n.blueprint.slice();return O[En]=i,O[at]=140|r,(null!==g||e&&2048&e[at])&&(O[at]|=2048),Xp(O),O[Ut]=O[Eo]=e,O[zt]=t,O[Gi]=s||e&&e[Gi],O[it]=a||e&&e[it],O[Co]=l||e&&e[Co]||null,O[Bn]=o,O[xs]=function gb(){return pb++}(),O[ui]=I,O[Op]=g,O[dn]=2==n.type?e[dn]:O,O}function Vo(e,n,t,r,i){let o=e.data[n];if(null===o)o=function kd(e,n,t,r,i){const o=rg(),s=Ac(),l=e.data[n]=function oI(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function Ao(){return null!==et.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function yD(){return et.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ws(){const e=et.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return zr(o,!0),o}function Qs(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function sm(e,n,t,r,i){const o=X0(n,Za),s=Hn(),a=2&r;try{if(Qi(-1),a&&n.length>vt&&J0(e,n,vt,!1),$r(a?2:0,i),a)o.runInContext(t,r,i);else{const g=Tn(null);try{t(r,i)}finally{Tn(g)}}}finally{a&&null===n[Za]&&Z0(n,Za),Qi(s),$r(a?3:1,i)}}function Bd(e,n,t){if(yc(n)){const r=Tn(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Tn(r)}}}function Od(e,n,t){ng()&&(function fI(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Ki(t)&&function CI(e,n,t){const r=Xn(n,e),s=Ku(e,Gu(e,am(t),null,t.onPush?64:16,r,n,null,e[Gi].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||pu(t,n),On(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],g=Yi(n,e,a,t);On(g,n),null!==s&&EI(0,a-i,g,l,0,s),Tr(l)&&(Zn(t.index,n)[zt]=Yi(n,e,a,t))}}(e,n,t,Xn(t,n)),64==(64&t.flags)&&fm(e,n,t))}function Ld(e,n,t=Xn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function am(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Fd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Fd(e,n,t,r,i,o,s,a,l,g,I){const O=vt+r,K=O+i,X=function JA(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:ot);return t}(O,K),ie="function"==typeof g?g():g;return X[Me]={type:e,blueprint:X,template:t,queries:null,viewQuery:a,declTNode:n,data:X.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:ie,incompleteFirstPass:!1,ssrId:I}}let um=e=>null;function lm(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?cm(t,n,i,o):r.hasOwnProperty(i)&&cm(t,n,r[i],o)}return t}function cm(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function cr(e,n,t,r,i,o,s,a){const l=Xn(n,t);let I,g=n.inputs;!a&&null!=g&&(I=g[r])?($d(e,t,I,r,i),Ki(n)&&function uI(e,n){const t=Zn(n,e);16&t[at]||(t[at]|=64)}(t,n.index)):3&n.type&&(r=function aI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}function Ud(e,n,t,r){if(ng()){const i=null===r?null:{"":-1},o=function pI(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Np(n,s.selectors,!1))if(r||(r=[]),Tr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Vd(e,n,a.length)}else r.unshift(s),Vd(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dm(e,n,t,s,i,a),i&&function gI(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new Ie(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=As(t.mergedAttrs,t.attrs)}function dm(e,n,t,r,i,o){for(let g=0;g<r.length;g++)Oc(pu(t,n),e,r[g].type);!function yI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let g=0;g<r.length;g++){const I=r[g];I.providersResolver&&I.providersResolver(I)}let s=!1,a=!1,l=Qs(e,n,r.length,null);for(let g=0;g<r.length;g++){const I=r[g];t.mergedAttrs=As(t.mergedAttrs,I.hostAttrs),vI(e,t,n,l,I),mI(l,I,i),null!==I.contentQueries&&(t.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(t.flags|=64);const O=I.type.prototype;!s&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(O.ngOnChanges||O.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function sI(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,g=null;for(let I=n.directiveStart;I<i;I++){const O=o[I],K=t?t.get(O):null,ie=K?K.outputs:null;l=lm(O.inputs,I,l,K?K.inputs:null),g=lm(O.outputs,I,g,ie);const le=null===l||null===s||wp(n)?null:SI(l,I,s);a.push(le)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=g}(e,t,o)}function fm(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function CD(){return et.lFrame.currentDirectiveIndex}();try{Qi(o);for(let a=r;a<i;a++){const l=e.data[a],g=n[a];Tc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&hI(l,g)}}finally{Qi(-1),Tc(s)}}function hI(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Vd(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function mI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Tr(n)&&(t[""]=e)}}function vI(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Wi(i.type)),s=new Ns(o,Tr(i),we);e.blueprint[r]=s,t[r]=s,function cI(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function dI(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,Qs(e,t,i.hostVars,ot),i)}function EI(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)hm(r,t,s[a++],s[a++],s[a++])}function hm(e,n,t,r,i){const o=Tn(null);try{null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Tn(o)}}function SI(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function pm(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function gm(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];_c(t[r]),s.contentQueries(2,n[o],o)}}}function Ku(e,n){return e[Is]?e[Bp][Ir]=n:e[Is]=n,e[Bp]=n,n}function jd(e,n,t){_c(0);const r=Tn(null);try{n(e,t)}finally{Tn(r)}}function mm(e){return e[vo]||(e[vo]=[])}function ym(e){return e.cleanup||(e.cleanup=[])}function Cm(e,n){const t=e[Co],r=t?t.get(to,null):null;r&&r.handleError(n)}function $d(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];hm(e.data[s],n[s],r,a,i)}}function DI(e,n){const t=Zn(n,e),r=t[Me];!function bI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[En];null!==i&&null===t[ui]&&(t[ui]=L0(i,t[Co])),zd(r,t,t[zt])}function zd(e,n,t){wc(n);try{const r=e.viewQuery;null!==r&&jd(1,r,t);const i=e.template;null!==i&&sm(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gm(e,n),e.staticViewQueries&&jd(2,e.viewQuery,t);const o=e.components;null!==o&&function AI(e,n){for(let t=0;t<n.length;t++)DI(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[at]&=-5,Nc()}}let Em=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new YS(t,g=>{this.all.has(g)&&this.queue.set(g,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=ze({token:e,providedIn:"root",factory:()=>new e}),e})();function Wu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=ve(i,a):2==o&&(r=ve(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Ys(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(Ot(o)),Yn(o)){for(let a=_n;a<o.length;a++){const l=o[a],g=l[Me].firstChild;null!==g&&Ys(l[Me],l,g,r)}o[Hr]!==o[En]&&r.push(o[Hr])}const s=t.type;if(8&s)Ys(e,n,t.child,r);else if(32&s){const a=Yc(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=u0(n,t);if(Array.isArray(a))r.push(...a);else{const l=Ls(n[dn]);Ys(l[Me],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function qu(e,n,t,r=!0){const i=n[Gi].rendererFactory;i.begin&&i.begin();try{Qu(e,n,e.template,t)}catch(s){throw r&&Cm(n,s),s}finally{i.end&&i.end(),n[Gi].effectManager?.flush()}}function Qu(e,n,t,r){const i=n[at];if(256!=(256&i)){n[Gi].effectManager?.flush(),wc(n);try{Xp(n),function og(e){return et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&sm(e,n,t,2,r);const s=3==(3&i);if(s){const g=e.preOrderCheckHooks;null!==g&&lu(n,g,null)}else{const g=e.preOrderHooks;null!==g&&cu(n,g,0,null),Rc(n,0)}if(function NI(e){for(let n=Xc(e);null!==n;n=Zc(n)){if(!n[Lp])continue;const t=n[Do];for(let r=0;r<t.length;r++){sD(t[r])}}}(n),function wI(e){for(let n=Xc(e);null!==n;n=Zc(n))for(let t=_n;t<n.length;t++){const r=n[t],i=r[Me];su(r)&&Qu(i,r,i.template,r[zt])}}(n),null!==e.contentQueries&&gm(e,n),s){const g=e.contentCheckHooks;null!==g&&lu(n,g)}else{const g=e.contentHooks;null!==g&&cu(n,g,1),Rc(n,1)}!function ZA(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=X0(n,Ja);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Qi(~o);else{const s=o,a=t[++i],l=t[++i];vD(a,s),r.runInContext(l,2,n[s])}}}finally{null===n[Ja]&&Z0(n,Ja),Qi(-1)}}(e,n);const a=e.components;null!==a&&function MI(e,n){for(let t=0;t<n.length;t++)RI(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&jd(2,l,r),s){const g=e.viewCheckHooks;null!==g&&lu(n,g)}else{const g=e.viewHooks;null!==g&&cu(n,g,2),Rc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[at]&=-73,Zp(n)}finally{Nc()}}}function RI(e,n){const t=Zn(n,e);if(su(t)){const r=t[Me];80&t[at]?Qu(r,t,r.template,t[zt]):t[zi]>0&&Gd(t)}}function Gd(e){for(let r=Xc(e);null!==r;r=Zc(r))for(let i=_n;i<r.length;i++){const o=r[i];if(su(o))if(1024&o[at]){const s=o[Me];Qu(s,o,s.template,o[zt])}else o[zi]>0&&Gd(o)}const t=e[Me].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Zn(t[r],e);su(i)&&i[zi]>0&&Gd(i)}}class Xs{get rootNodes(){const n=this._lView,t=n[Me];return Ys(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zt]}set context(n){this._lView[zt]=n}get destroyed(){return 256==(256&this._lView[at])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ut];if(Yn(n)){const t=n[eu],r=t?t.indexOf(this):-1;r>-1&&(ed(n,r),yu(t,r))}this._attachedToViewContainer=!1}Jg(this._lView[Me],this._lView)}onDestroy(n){!function eg(e,n){if(256==(256&e[at]))throw new Ie(911,!1);null===e[Ri]&&(e[Ri]=[]),e[Ri].push(n)}(this._lView,n)}markForCheck(){qs(this._cdRefInjectingView||this._lView)}detach(){this._lView[at]&=-129}reattach(){this._lView[at]|=128}detectChanges(){qu(this._lView[Me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wb(e,n){Us(e,n,n[it],2,null,null)}(this._lView[Me],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=n}}class PI extends Xs{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;qu(n[Me],n,n[zt],!1)}checkNoChanges(){}get context(){return null}}class Sm extends Vu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=At(n);return new Zs(t,this.ngModule)}}function Dm(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class BI{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Qa(r);const i=this.injector.get(n,Md,r);return i!==Md||t===Md?i:this.parentInjector.get(n,t,r)}}class Zs extends V0{get inputs(){return Dm(this.componentDef.inputs)}get outputs(){return Dm(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function MS(e){return e.map(RS).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof Kr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new BI(n,o):n,a=s.get(j0,null);if(null===a)throw new Ie(407,!1);const I={rendererFactory:a,sanitizer:s.get(FA,null),effectManager:s.get(Em,null)},O=a.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",X=r?function eI(e,n,t,r){const o=r.get(G0,!1)||t===sr.ShadowDom,s=e.selectRootElement(n,o);return function tI(e){um(e)}(s),s}(O,r,this.componentDef.encapsulation,s):Tu(O,K,function kI(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(K)),ie=this.componentDef.onPush?576:528,le=Fd(0,null,null,1,0,null,null,null,null,null,null),ye=Gu(null,le,null,ie,null,null,I,O,s,null,null);let Se,se;wc(ye);try{const Te=this.componentDef;let Ge,st=null;Te.findHostDirectiveDefs?(Ge=[],st=new Map,Te.findHostDirectiveDefs(Te,Ge,st),Ge.push(Te)):Ge=[Te];const Nt=function LI(e,n){const t=e[Me],r=vt;return e[r]=n,Vo(t,r,2,"#host",null)}(ye,X),Ai=function FI(e,n,t,r,i,o,s){const a=i[Me];!function UI(e,n,t,r){for(const i of e)n.mergedAttrs=As(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Wu(n,n.mergedAttrs,!0),null!==t&&f0(r,t,n))}(r,e,n,s);let l=null;null!==n&&(l=L0(n,i[Co]));const g=o.rendererFactory.createRenderer(n,t),I=Gu(i,am(t),null,t.onPush?64:16,i[e.index],e,o,g,null,null,l);return a.firstCreatePass&&Vd(a,e,r.length-1),Ku(i,I),i[e.index]=I}(Nt,X,Te,Ge,ye,I,O);se=Yp(le,vt),X&&function HI(e,n,t,r){if(r)gc(e,t,["ng-version",UA.full]);else{const{attrs:i,classes:o}=function PS(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Ar(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&gc(e,t,i),o&&o.length>0&&d0(e,t,o.join(" "))}}(O,Te,X,r),void 0!==t&&function jI(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),Se=function VI(e,n,t,r,i,o){const s=wn(),a=i[Me],l=Xn(s,i);dm(a,i,s,t,null,r);for(let I=0;I<t.length;I++)On(Yi(i,a,s.directiveStart+I,s),i);fm(a,i,s),l&&On(l,i);const g=Yi(i,a,s.directiveStart+s.componentOffset,s);if(e[zt]=i[zt]=g,null!==o)for(const I of o)I(g,n);return Bd(a,s,e),g}(Ai,Te,Ge,st,ye,[$I]),zd(le,ye,null)}finally{Nc()}return new OI(this.componentType,Se,Fo(se,ye),ye,se)}}class OI extends MA{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new PI(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;$d(o[Me],o,i,n,t),this.previousInputValues.set(n,t),qs(Zn(this._tNode.index,o))}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function $I(){const e=wn();uu(Ee()[Me],e)}function Yu(e){return!!Wd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Wd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function qr(e,n,t){return e[n]=t}function Ln(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function jo(e,n,t,r){return Ln(e,Io(),t)?n+Ke(t)+r:ot}function gt(e,n,t,r,i,o,s,a){const l=Ee(),g=Et(),I=e+vt,O=g.firstCreatePass?function vT(e,n,t,r,i,o,s,a,l){const g=n.consts,I=Vo(n,e,4,s||null,Mi(g,a));Ud(n,t,I,Mi(g,l)),uu(n,I);const O=I.tView=Fd(2,I,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g,null);return null!==n.queries&&(n.queries.template(n,I),O.queries=n.queries.embeddedTView(I)),I}(I,g,l,n,t,r,i,o,s):g.data[I];zr(O,!1);const K=Vm(g,l,O,e);au()&&_u(g,l,K,O),On(K,l),Ku(l,l[I]=pm(K,l,K,O)),tu(O)&&Od(g,l,O),null!=s&&Ld(l,O,a)}let Vm=function Hm(e,n,t,r){return Pi(!0),n[it].createComment("")};function Qr(e){return function bo(e,n){return e[n]}(function mD(){return et.lFrame.contextLView}(),vt+e)}function Ve(e,n,t){const r=Ee();return Ln(r,Io(),n)&&cr(Et(),Vt(),r,e,n,r[it],t,!1),Ve}function ef(e,n,t,r,i){const s=i?"class":"style";$d(e,t,n.inputs[s],s,r)}function ce(e,n,t,r){const i=Ee(),o=Et(),s=vt+e,a=i[it],l=o.firstCreatePass?function DT(e,n,t,r,i,o){const s=n.consts,l=Vo(n,e,2,r,Mi(s,i));return Ud(n,t,l,Mi(s,o)),null!==l.attrs&&Wu(l,l.attrs,!1),null!==l.mergedAttrs&&Wu(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],g=jm(o,i,l,a,n,e);i[s]=g;const I=tu(l);return zr(l,!0),f0(a,g,l),32!=(32&l.flags)&&au()&&_u(o,i,g,l),0===function uD(){return et.lFrame.elementDepthCount}()&&On(g,i),function lD(){et.lFrame.elementDepthCount++}(),I&&(Od(o,i,l),Bd(o,l,i)),null!==r&&Ld(i,l),ce}function fe(){let e=wn();Ac()?function Ic(){et.lFrame.isParent=!1}():(e=e.parent,zr(e,!1));const n=e;(function dD(e){return et.skipHydrationRootTNode===e})(n)&&function gD(){et.skipHydrationRootTNode=null}(),function cD(){et.lFrame.elementDepthCount--}();const t=Et();return t.firstCreatePass&&(uu(t,e),yc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function ND(e){return 0!=(8&e.flags)}(n)&&ef(t,n,Ee(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function RD(e){return 0!=(16&e.flags)}(n)&&ef(t,n,Ee(),n.stylesWithoutHost,!1),fe}function ft(e,n,t,r){return ce(e,n,t,r),fe(),ft}let jm=(e,n,t,r,i,o)=>(Pi(!0),Tu(r,i,function hg(){return et.lFrame.currentNamespace}()));function Nn(){return Ee()}function tl(e){return!!e&&"function"==typeof e.then}function Gm(e){return!!e&&"function"==typeof e.subscribe}function Ct(e,n,t,r){const i=Ee(),o=Et(),s=wn();return function Wm(e,n,t,r,i,o,s){const a=tu(r),g=e.firstCreatePass&&ym(e),I=n[zt],O=mm(n);let K=!0;if(3&r.type||s){const le=Xn(r,n),ye=s?s(le):le,Se=O.length,se=s?Ge=>s(Ot(Ge[r.index])):r.index;let Te=null;if(!s&&a&&(Te=function _T(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[vo],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=o,Te.__ngLastListenerFn__=o,K=!1;else{o=Qm(r,n,I,o,!1);const Ge=t.listen(ye,i,o);O.push(o,Ge),g&&g.push(i,se,Se,Se+1)}}else o=Qm(r,n,I,o,!1);const X=r.outputs;let ie;if(K&&null!==X&&(ie=X[i])){const le=ie.length;if(le)for(let ye=0;ye<le;ye+=2){const st=n[ie[ye]][ie[ye+1]].subscribe(o),Nt=O.length;O.push(o,st),g&&g.push(i,r.index,Nt,-(Nt+1))}}}(o,i,i[it],s,e,n,r),Ct}function qm(e,n,t,r){try{return $r(6,n,t),!1!==t(r)}catch(i){return Cm(e,i),!1}finally{$r(7,n,t)}}function Qm(e,n,t,r,i){return function o(s){if(s===Function)return r;qs(e.componentOffset>-1?Zn(e.index,n):n);let l=qm(n,t,r,s),g=o.__ngNextListenerFn__;for(;g;)l=qm(n,t,g,s)&&l,g=g.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function It(e=1){return function SD(e){return(et.lFrame.contextLView=function DD(e,n){for(;e>0;)n=n[Eo],e--;return n}(e,et.lFrame.contextLView))[zt]}(e)}function Oi(e,n,t){return rf(e,"",n,"",t),Oi}function rf(e,n,t,r,i){const o=Ee(),s=jo(o,n,t,r);return s!==ot&&cr(Et(),Vt(),o,e,s,o[it],i,!1),rf}function nl(e,n){return e<<17|n<<2}function Li(e){return e>>17&32767}function sf(e){return 2|e}function ro(e){return(131068&e)>>2}function af(e,n){return-131069&e|n<<2}function uf(e){return 1|e}function iy(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?Li(o):ro(o),l=!1;for(;0!==a&&(!1===l||s);){const I=e[a+1];LT(e[a],n)&&(l=!0,e[a+1]=r?uf(I):sf(I)),a=r?Li(I):ro(I)}l&&(e[t+1]=r?sf(o):uf(o))}function LT(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Mo(e,n)>=0}function lf(e,n){return function xr(e,n,t,r){const i=Ee(),o=Et(),s=function ci(e){const n=et.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function hy(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[Hn()],s=function fy(e,n){return n>=e.expandoStartIndex}(e,t);(function yy(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function KT(e,n,t,r){const i=function xc(e){const n=et.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=ra(t=cf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=cf(i,e,n,t,r),null===o){let l=function WT(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==ro(r))return e[Li(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=cf(null,e,n,l[1],r),l=ra(l,n.attrs,r),function qT(e,n,t,r){e[Li(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function QT(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=ra(r,e[o].hostAttrs,t);return ra(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function BT(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Li(s),l=ro(s);e[r]=t;let I,g=!1;if(Array.isArray(t)?(I=t[1],(null===I||Mo(t,I)>0)&&(g=!0)):I=t,i)if(0!==l){const K=Li(e[a+1]);e[r+1]=nl(K,a),0!==K&&(e[K+1]=af(e[K+1],r)),e[a+1]=function PT(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=nl(a,0),0!==a&&(e[a+1]=af(e[a+1],r)),a=r;else e[r+1]=nl(l,0),0===a?a=r:e[l+1]=af(e[l+1],r),l=r;g&&(e[r+1]=sf(e[r+1])),iy(e,I,r,!0),iy(e,I,r,!1),function OT(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Mo(o,n)>=0&&(t[r+1]=uf(t[r+1]))}(n,I,e,r,o),s=nl(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==ot&&Ln(i,s,n)&&function gy(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,g=l[a+1],I=function kT(e){return 1==(1&e)}(g)?my(l,n,t,i,ro(g),s):void 0;rl(I)||(rl(o)||function MT(e){return 2==(2&e)}(g)&&(o=my(l,null,t,i,a,s)),function Ub(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Jn.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),e.setStyle(t,r,i,o))}}(r,s,ou(Hn(),t),i,o))}(o,o.data[Hn()],i,i[it],e,i[s+1]=function JT(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ee(ki(e)))),e}(n,t),r,s)}(e,n,null,!0),lf}function cf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=ra(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function ra(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),lr(e,s,!!t||n[++o]))}return void 0===e?null:e}function my(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],g=Array.isArray(l),I=g?l[1]:l,O=null===I;let K=t[i+1];K===ot&&(K=O?St:void 0);let X=O?Uc(K,r):I===r?K:void 0;if(g&&!rl(X)&&(X=Uc(l,r)),rl(X)&&(a=X,s))return a;const ie=e[i+1];i=s?Li(ie):ro(ie)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Uc(l,r))}return a}function rl(e){return void 0!==e}function Re(e,n=""){const t=Ee(),r=Et(),i=e+vt,o=r.firstCreatePass?Vo(r,i,1,n,null):r.data[i],s=vy(r,t,o,n,e);t[i]=s,au()&&_u(r,t,s,o),zr(o,!1)}let vy=(e,n,t,r,i)=>(Pi(!0),function Iu(e,n){return e.createText(n)}(n[it],r));function Zt(e){return tr("",e,""),Zt}function tr(e,n,t){const r=Ee(),i=jo(r,e,n,t);return i!==ot&&function pi(e,n,t){const r=ou(n,e);!function Xg(e,n,t){e.setValue(n,t)}(e[it],r,t)}(r,Hn(),i),tr}const Zo="en-US";let Vy=Zo;class Jo{}class fv{}class yf extends Jo{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sm(this);const i=ar(n);this._bootstrapComponents=fi(i.bootstrap),this._r3Injector=im(n,t,[{provide:Jo,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver},...r],ee(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class vf extends fv{constructor(n){super(),this.moduleType=n}create(n){return new yf(this.moduleType,n,[])}}class hv extends Jo{constructor(n){super(),this.componentFactoryResolver=new Sm(this),this.instance=null;const t=new Cd([...n.providers,{provide:Jo,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],n.parent||ku(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Cf(e,n,t=null){return new hv({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let b_=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=_0(0,t.type),i=r.length>0?Cf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ze({token:e,providedIn:"environment",factory:()=>new e(Ue(Kr))}),e})();function pv(e){e.getStandaloneInjector=n=>n.get(b_).getOrCreateStandaloneInjector(e)}function Cr(e,n,t,r){return function Sv(e,n,t,r,i,o){const s=n+t;return Ln(e,s,i)?qr(e,s+1,o?r.call(o,i):r(i)):la(e,s+1)}(Ee(),Vn(),e,n,t,r)}function Sf(e,n,t,r,i){return function Dv(e,n,t,r,i,o,s){const a=n+t;return function no(e,n,t,r){const i=Ln(e,n,t);return Ln(e,n+1,r)||i}(e,a,i,o)?qr(e,a+2,s?r.call(s,i,o):r(i,o)):la(e,a+2)}(Ee(),Vn(),e,n,t,r,i)}function la(e,n){const t=e[n];return t===ot?void 0:t}function Df(e){return n=>{setTimeout(e,void 0,n)}}const Fn=class W_ extends Le{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Df(o),i&&(i=Df(i)),s&&(s=Df(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof w&&n.add(a),a}};function q_(){return this._results[Symbol.iterator]()}class bf{get changes(){return this._changes||(this._changes=new Fn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=bf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=q_)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function yr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function jD(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gi=(()=>{class e{}return e.__NG_ELEMENT_ID__=X_,e})();const Q_=gi,Y_=class extends Q_{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const i=this._declarationTContainer.tView,o=Gu(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,t||null,r||null);o[Ts]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Vr];return null!==a&&(o[Vr]=a.createEmbeddedView(i)),zd(i,o,n),new Xs(o)}};function X_(){return ul(wn(),Ee())}function ul(e,n){return 4&e.type?new Y_(n,e,Fo(e,n)):null}let wr=(()=>{class e{}return e.__NG_ELEMENT_ID__=iw,e})();function iw(){return Rv(wn(),Ee())}const ow=wr,wv=class extends ow{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Fo(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bc(this._hostTNode,this._hostLView);if(yg(n)){const t=fu(n,this._hostLView),r=du(n);return new xo(t[Me].data[r+8],t)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Nv(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function Ms(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const le=t||{};a=le.index,r=le.injector,i=le.projectableNodes,o=le.environmentInjector||le.ngModuleRef}const l=s?n:new Zs(At(n)),g=r||this.parentInjector;if(!o&&null==l.ngModule){const ye=(s?g:this.parentInjector).get(Kr,null);ye&&(o=ye)}At(l.componentType??{});const X=l.create(g,i,null,o);return this.insertImpl(X.hostView,a,false),X}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,o=i[Me];if(function oD(e){return Yn(e[Ut])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const g=i[Ut],I=new wv(g,g[Bn],g[Ut]);I.detach(I.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;if(function Rb(e,n,t,r){const i=_n+r,o=t.length;r>0&&(t[i-1][Ir]=n),r<o-_n?(n[Ir]=t[i],Ng(t,_n+r,n)):(t.push(n),n[Ir]=null),n[Ut]=t;const s=n[Ts];null!==s&&t!==s&&function Mb(e,n){const t=e[Do];n[dn]!==n[Ut][Ut][dn]&&(e[Lp]=!0),null===t?e[Do]=[n]:t.push(n)}(s,n);const a=n[Vr];null!==a&&a.insertView(e),n[at]|=128}(o,i,a,s),!r){const l=id(s,a),g=i[it],I=xu(g,a[Hr]);null!==I&&function _b(e,n,t,r,i,o){r[En]=i,r[Bn]=n,Us(e,r,t,1,i,o)}(o,a[Bn],g,i,I,l)}return n.attachToViewContainerRef(),Ng(If(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Nv(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ed(this._lContainer,t);r&&(yu(If(this._lContainer),t),Jg(r[Me],r))}detach(n){const t=this._adjustIndex(n,-1),r=ed(this._lContainer,t);return r&&null!=yu(If(this._lContainer),t)?new Xs(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Nv(e){return e[eu]}function If(e){return e[eu]||(e[eu]=[])}function Rv(e,n){let t;const r=n[e.index];return Yn(r)?t=r:(t=pm(r,n,null,e),n[e.index]=t,Ku(n,t)),Mv(t,n,e,r),new wv(t,e,n)}let Mv=function Pv(e,n,t,r){if(e[Hr])return;let i;i=8&t.type?Ot(r):function sw(e,n){const t=e[it],r=t.createComment(""),i=Xn(n,e);return Xi(t,xu(t,i),r,function Ob(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[Hr]=i};class Tf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Tf(this.queryList)}setDirty(){this.queryList.setDirty()}}class xf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new xf(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Uv(n,t).matches&&this.queries[t].setDirty()}}class kv{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class _f{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new _f(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wf{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new wf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,lw(t,o)),this.matchTNodeWithReadOption(n,t,gu(t,n,o,!1,!1))}else r===gi?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,gu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bi||i===wr||i===gi&&4&t.type)this.addMatch(t.index,-2);else{const o=gu(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function lw(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function dw(e,n,t,r){return-1===t?function cw(e,n){return 11&e.type?Fo(e,n):4&e.type?ul(e,n):null}(n,e):-2===t?function fw(e,n,t){return t===Bi?Fo(n,e):t===gi?ul(n,e):t===wr?Rv(n,e):void 0}(e,n,r):Yi(e,e[Me],t,n)}function Bv(e,n,t,r){const i=n[Vr].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const g=s[l];a.push(g<0?null:dw(n,o[g],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function Nf(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Bv(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const g=o[a+1],I=n[-l];for(let O=_n;O<I.length;O++){const K=I[O];K[Ts]===K[Ut]&&Nf(K[Me],K,g,r)}if(null!==I[Do]){const O=I[Do];for(let K=0;K<O.length;K++){const X=O[K];Nf(X[Me],X,g,r)}}}}}return r}function ll(e){const n=Ee(),t=Et(),r=ag();_c(r+1);const i=Uv(t,r);if(e.dirty&&function iD(e){return 4==(4&e[at])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Nf(t,n,r,[]):Bv(t,n,i,r);e.reset(o,OA),e.notifyOnChanges()}return!0}return!1}function Rf(e,n,t){const r=Et();r.firstCreatePass&&(function Fv(e,n,t){null===e.queries&&(e.queries=new _f),e.queries.track(new wf(n,t))}(r,new kv(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function Lv(e,n,t){const r=new bf(4==(4&t));(function iI(e,n,t,r){const i=mm(n);i.push(t),e.firstCreatePass&&ym(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[Vr]&&(n[Vr]=new xf),n[Vr].queries.push(new Tf(r))}(r,Ee(),n)}function cl(){return function hw(e,n){return e[Vr].queries[n].queryList}(Ee(),ag())}function Uv(e,n){return e.queries.getByIndex(n)}const Lf=new je("Application Initializer");let Ff=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Oe(Lf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(tl(o))t.push(o);else if(Gm(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nC=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const mi=new je("LocaleId",{providedIn:"root",factory:()=>Oe(mi,Qe.Optional|Qe.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||Zo}()});class Fw{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let rC=(()=>{class e{compileModuleSync(t){return new vf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=fi(ar(t).declarations).reduce((s,a)=>{const l=At(a);return l&&s.push(new Zs(l)),s},[]);return new Fw(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Hw=(()=>Promise.resolve(0))();function Uf(e){typeof Zone>"u"?Hw.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function sC(...e){}class Lt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fn(!1),this.onMicrotaskEmpty=new Fn(!1),this.onStable=new Fn(!1),this.onError=new Fn(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function jw(){let e=Mt.requestAnimationFrame,n=Mt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Gw(e){const n=()=>{!function zw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Mt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hf(e),e.isCheckStableRunning=!0,Vf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return aC(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),uC(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return aC(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),uC(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Hf(e),Vf(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new Ie(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,$w,sC,sC);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const $w={};function Vf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function aC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function uC(e){e._nesting--,Vf(e)}class Kw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fn,this.onMicrotaskEmpty=new Fn,this.onStable=new Fn,this.onError=new Fn}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const lC=new je("",{providedIn:"root",factory:cC});function cC(){const e=Oe(Lt);let n=!0;return function ac(...e){const n=$i(e),t=function tc(e,n){return"number"==typeof Cs(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Tt(r[0]):Rt(t)(cn(r,n)):gr}(new re(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new re(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),Uf(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(function uc(e={}){const{connector:n=(()=>new Le),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,g=0,I=!1,O=!1;const K=()=>{a?.unsubscribe(),a=void 0},X=()=>{K(),s=l=void 0,I=O=!1},ie=()=>{const le=s;X(),le?.unsubscribe()};return pe((le,ye)=>{g++,!O&&!I&&K();const Se=l=l??n();ye.add(()=>{g--,0===g&&!O&&!I&&(a=L(ie,i))}),Se.subscribe(ye),!s&&g>0&&(s=new S({next:se=>Se.next(se),error:se=>{O=!0,K(),a=L(X,t,se),Se.error(se)},complete:()=>{I=!0,K(),a=L(X,r),Se.complete()}}),Tt(le).subscribe(s))})(o)}}()))}const dC=new je(""),fl=new je("");let zf,jf=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zf||(function Ww(e){zf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),Uf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uf(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ue(Lt),Ue($f),Ue(fl))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})(),$f=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return zf?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Fi=null;const fC=new je("AllowMultipleToken"),Gf=new je("PlatformDestroyListeners"),Kf=new je("appBootstrapListener");class pC{constructor(n,t){this.name=n,this.token=t}}function mC(e,n,t=[]){const r=`Platform: ${n}`,i=new je(r);return(o=[])=>{let s=Wf();if(!s||s.injector.get(fC,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function Yw(e){if(Fi&&!Fi.get(fC,!1))throw new Ie(400,!1);(function hC(){!function qS(e){$p=e}(()=>{throw new Ie(600,!1)})})(),Fi=e;const n=e.get(vC);(function gC(e){e.get(P0,null)?.forEach(t=>t())})(e)}(function yC(e=[],n){return hi.create({name:n,providers:[{provide:yd,useValue:"platform"},{provide:Gf,useValue:new Set([()=>Fi=null])},...e]})}(a,r))}return function Zw(e){const n=Wf();if(!n)throw new Ie(401,!1);return n}()}}function Wf(){return Fi?.get(vC)??null}let vC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Jw(e="zone.js",n){return"noop"===e?new Kw:"zone.js"===e?new Lt(n):e}(r?.ngZone,function CC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function D_(e,n,t){return new yf(e,n,t)}(t.moduleType,this.injector,function AC(e){return[{provide:Lt,useFactory:e},{provide:zs,multi:!0,useFactory:()=>{const n=Oe(t2,{optional:!0});return()=>n.initialize()}},{provide:bC,useFactory:e2},{provide:lC,useFactory:cC}]}(()=>i)),s=o.injector.get(to,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{hl(this._modules,o),a.unsubscribe()})}),function EC(e,n,t){try{const r=t();return tl(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Ff);return a.runInitializers(),a.donePromise.then(()=>(function Hy(e){mr(e,"Expected localeId to be defined"),"string"==typeof e&&(Vy=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(mi,Zo)||Zo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=SC({},r);return function qw(e,n,t){const r=new vf(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ns);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ie(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Gf,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ue(hi))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function SC(e,n){return Array.isArray(n)?n.reduce(SC,e):{...e,...n}}let ns=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Oe(bC),this.componentTypes=[],this.components=[],this.isStable=Oe(lC),this._injector=Oe(Kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof V0;if(!this._injector.get(Ff).done)throw!i&&function yo(e){const n=At(e)||kn(e)||Qn(e);return null!==n&&n.standalone}(t),new Ie(405,!1);let s;s=i?t:this._injector.get(Vu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Qw(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Jo),g=s.create(hi.NULL,[],r||s.selector,a),I=g.location.nativeElement,O=g.injector.get(dC,null);return O?.registerApplication(I),g.onDestroy(()=>{this.detachView(g.hostView),hl(this.components,g),O?.unregisterApplication(I)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;hl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Kf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ie(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hl(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const bC=new je("",{providedIn:"root",factory:()=>Oe(to).handleError.bind(void 0)});function e2(){const e=Oe(Lt),n=Oe(to);return t=>e.runOutsideAngular(()=>n.handleError(t))}let t2=(()=>{class e{constructor(){this.zone=Oe(Lt),this.applicationRef=Oe(ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let qf=(()=>{class e{}return e.__NG_ELEMENT_ID__=r2,e})();function r2(e){return function i2(e,n,t){if(Ki(e)&&!t){const r=Zn(e.index,n);return new Xs(r,r)}return 47&e.type?new Xs(n[dn],n):null}(wn(),Ee(),16==(16&e))}class _C{constructor(){}supports(n){return Yu(n)}create(n){return new c2(n)}}const l2=(e,n)=>n;class c2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||l2}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<NC(r,i,o)?t:r,a=NC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const g=a-i,I=l-i;if(g!=I){for(let K=0;K<g;K++){const X=K<o.length?o[K]:o[K]=0,ie=X+K;I<=ie&&ie<g&&(o[K]=X+1)}o[s.previousIndex]=I-g}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Yu(n))throw new Ie(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function eT(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new d2(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new wC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class d2{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class f2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new f2,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class RC{constructor(){}supports(n){return n instanceof Map||Wd(n)}create(){return new h2}}class h2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Wd(n)))throw new Ie(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new p2(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class p2{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MC(){return new ml([new _C])}let ml=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||MC()),deps:[[e,new Eu,new Cu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ie(901,!1)}}return e.\u0275prov=ze({token:e,providedIn:"root",factory:MC}),e})();function PC(){return new fa([new RC])}let fa=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||PC()),deps:[[e,new Eu,new Cu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ie(901,!1)}}return e.\u0275prov=ze({token:e,providedIn:"root",factory:PC}),e})();const y2=mC(null,"core",[]);let v2=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Ue(ns))},e.\u0275mod=Ni({type:e}),e.\u0275inj=ii({}),e})(),UC=(()=>{class e{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=Oe(Lt),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(t=>{this.resolve=t})})}add(){if(this.completed)return-1;const t=this.taskId++;return this.collection.add(t),t}remove(t){this.completed||(this.collection.delete(t),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nh=null;function rs(){return nh}class N2{}const dr=new je("DocumentToken");let rh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return Oe(M2)},providedIn:"platform"}),e})();const R2=new je("Location Initialized");let M2=(()=>{class e extends rh{constructor(){super(),this._doc=Oe(dr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rs().getBaseHref(this._doc)}onPopState(t){const r=rs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=rs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function ih(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function HC(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function yi(e){return e&&"?"!==e[0]?"?"+e:e}let so=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return Oe($C)},providedIn:"root"}),e})();const jC=new je("appBaseHref");let $C=(()=>{class e extends so{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Oe(dr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ih(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+yi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+yi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+yi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Ue(rh),Ue(jC,8))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P2=(()=>{class e extends so{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ih(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Ue(rh),Ue(jC,8))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})(),oh=(()=>{class e{constructor(t){this._subject=new Fn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function O2(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(HC(zC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yi(r))}normalize(t){return e.stripTrailingSlash(function B2(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,zC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=yi,e.joinWithSlash=ih,e.stripTrailingSlash=HC,e.\u0275fac=function(t){return new(t||e)(Ue(so))},e.\u0275prov=ze({token:e,factory:function(){return function k2(){return new oh(Ue(so))}()},providedIn:"root"}),e})();function zC(e){return e.replace(/\/index.html$/,"")}function JC(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const gh=/\s+/,e1=[];let ga=(()=>{class e{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=e1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gh):e1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gh):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(we(ml),we(fa),we(Bi),we(Hu))},e.\u0275dir=Un({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class EN{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ma=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new EN(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),n1(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{n1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(we(wr),we(gi),we(ml))},e.\u0275dir=Un({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function n1(e,n){e.context.$implicit=n.item}let Ci=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new SN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){r1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){r1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(we(wr),we(gi))},e.\u0275dir=Un({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class SN{constructor(){this.$implicit=null,this.ngIf=null}}function r1(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ee(n)}'.`)}let o1=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:Jn.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(we(Bi),we(fa),we(Hu))},e.\u0275dir=Un({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),WN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=ii({}),e})();function u1(e){return"server"===e}let XN=(()=>{class e{}return e.\u0275prov=ze({token:e,providedIn:"root",factory:()=>new ZN(Ue(dr),window)}),e})();class ZN{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function JN(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=l1(this.window.history)||l1(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function l1(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class c1{}class TR extends N2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Dh extends TR{static makeCurrent(){!function w2(e){nh||(nh=e)}(new Dh)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function xR(){return va=va||document.querySelector("base"),va?va.getAttribute("href"):null}();return null==t?null:function _R(e){wl=wl||document.createElement("a"),wl.setAttribute("href",e);const n=wl.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){va=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return JC(document.cookie,n)}}let wl,va=null,NR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();const bh=new je("EventManagerPlugins");let g1=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Ie(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(Ue(bh),Ue(Lt))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();class m1{constructor(n){this._doc=n}}const Ah="ng-app-id";let y1=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=u1(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ah}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ah),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ah,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(Ue(dr),Ue(Bu),Ue(k0,8),Ue(eo))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();const Ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Th=/%COMP%/g,kR=new je("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function C1(e,n){return n.map(t=>t.replace(Th,e))}let E1=(()=>{class e{constructor(t,r,i,o,s,a,l,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=u1(a),this.defaultRenderer=new xh(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r={...r,encapsulation:sr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof D1?i.applyToHost(t):i instanceof _h&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,g=this.sharedStylesHost,I=this.removeStylesOnCompDestory,O=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:o=new D1(l,g,r,this.appId,I,s,a,O);break;case sr.ShadowDom:return new FR(l,g,t,r,s,a,this.nonce,O);default:o=new _h(l,g,r,I,s,a,O)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(Ue(g1),Ue(y1),Ue(Bu),Ue(kR),Ue(dr),Ue(eo),Ue(Lt),Ue(k0))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();class xh{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Ih[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(S1(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(S1(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Ie(5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Ih[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Ih[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Jn.DashCase|Jn.Important)?n.style.setProperty(t,r,i&Jn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Jn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=rs().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&(t.preventDefault(),t.returnValue=!1)}}}function S1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class FR extends xh{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=C1(i.id,i.styles);for(const I of g){const O=document.createElement("style");a&&O.setAttribute("nonce",a),O.textContent=I,this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _h extends xh{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=l?C1(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class D1 extends _h{constructor(n,t,r,i,o,s,a,l){const g=i+"-"+r.id;super(n,t,r,o,s,a,l,g),this.contentAttr=function BR(e){return"_ngcontent-%COMP%".replace(Th,e)}(g),this.hostAttr=function OR(e){return"_nghost-%COMP%".replace(Th,e)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let UR=(()=>{class e extends m1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(Ue(dr))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();const b1=["alt","control","meta","shift"],VR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let jR=(()=>{class e extends m1{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rs().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),b1.forEach(g=>{const I=r.indexOf(g);I>-1&&(r.splice(I,1),s+=g+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=VR[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),b1.forEach(s=>{s!==i&&(0,HR[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Ue(dr))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();const KR=mC(y2,"browser",[{provide:eo,useValue:"browser"},{provide:P0,useValue:function $R(){Dh.makeCurrent()},multi:!0},{provide:dr,useFactory:function GR(){return function zb(e){ad=e}(document),document},deps:[]}]),WR=new je(""),T1=[{provide:fl,useClass:class wR{addToWindow(n){Mt.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new Ie(5103,!1);return o},Mt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Mt.getAllAngularRootElements=()=>n.getAllRootElements(),Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(r=>{const i=Mt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?rs().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:dC,useClass:jf,deps:[Lt,$f,fl]},{provide:jf,useClass:jf,deps:[Lt,$f,fl]}],x1=[{provide:yd,useValue:"root"},{provide:to,useFactory:function zR(){return new to},deps:[]},{provide:bh,useClass:UR,multi:!0,deps:[dr,Lt,eo]},{provide:bh,useClass:jR,multi:!0,deps:[dr]},E1,y1,g1,{provide:j0,useExisting:E1},{provide:c1,useClass:NR,deps:[]},[]];let qR=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Bu,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(Ue(WR,12))},e.\u0275mod=Ni({type:e}),e.\u0275inj=ii({providers:[...x1,...T1],imports:[WN,v2]}),e})(),_1=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Ue(dr))},e.\u0275prov=ze({token:e,factory:function(t){let r=null;return r=t?new t:function YR(){return new _1(Ue(dr))}(),r},providedIn:"root"}),e})();function tt(...e){return cn(e,$i(e))}function is(e,n){return d(n)?pt(e,n,1):pt(e,1)}function Ei(e,n){return pe((t,r)=>{let i=0;t.subscribe(Ye(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Zr(e,n){return pe((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Ye(r,l=>{i?.unsubscribe();let g=0;const I=o++;Tt(e(l,I)).subscribe(i=Ye(r,O=>r.next(n?n(l,O,I,g++):O),()=>{i=null,a()}))},()=>{s=!0,a()}))})}typeof window<"u"&&window;class Nl{}class Nh{}class Jr{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Jr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class tM{encodeKey(n){return M1(n)}encodeValue(n){return M1(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const rM=/%(\d[a-f0-9])/gi,iM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M1(e){return encodeURIComponent(e).replace(rM,(n,t)=>iM[t]??n)}function Rl(e){return`${e}`}class Vi{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new tM,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nM(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Rl):[Rl(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Vi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Rl(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Rl(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class oM{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function P1(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function k1(e){return typeof Blob<"u"&&e instanceof Blob}function B1(e){return typeof FormData<"u"&&e instanceof FormData}class Ca{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function sM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new oM),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Vi,this.urlWithParams=t}serializeBody(){return null===this.body?null:P1(this.body)||k1(this.body)||B1(this.body)||function aM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B1(this.body)?null:k1(this.body)?this.body.type||null:P1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,g=n.params||this.params;const I=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((O,K)=>O.set(K,n.setHeaders[K]),l)),n.setParams&&(g=Object.keys(n.setParams).reduce((O,K)=>O.set(K,n.setParams[K]),g)),new Ca(t,r,o,{params:g,headers:l,context:I,reportProgress:a,responseType:i,withCredentials:s})}}var gn=(()=>((gn=gn||{})[gn.Sent=0]="Sent",gn[gn.UploadProgress=1]="UploadProgress",gn[gn.ResponseHeader=2]="ResponseHeader",gn[gn.DownloadProgress=3]="DownloadProgress",gn[gn.Response=4]="Response",gn[gn.User=5]="User",gn))();class Rh{constructor(n,t=200,r="OK"){this.headers=n.headers||new Jr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Mh extends Rh{constructor(n={}){super(n),this.type=gn.ResponseHeader}clone(n={}){return new Mh({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class os extends Rh{constructor(n={}){super(n),this.type=gn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new os({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class O1 extends Rh{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ph(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let L1=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ca)o=t;else{let l,g;l=i.headers instanceof Jr?i.headers:new Jr(i.headers),i.params&&(g=i.params instanceof Vi?i.params:new Vi({fromObject:i.params})),o=new Ca(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=tt(o).pipe(is(l=>this.handler.handle(l)));if(t instanceof Ca||"events"===i.observe)return s;const a=s.pipe(Ei(l=>l instanceof os));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Vi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ph(i,r))}post(t,r,i={}){return this.request("POST",t,Ph(i,r))}put(t,r,i={}){return this.request("PUT",t,Ph(i,r))}}return e.\u0275fac=function(t){return new(t||e)(Ue(Nl))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();function F1(e,n){return n(e)}function uM(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const cM=new je(""),Ea=new je(""),U1=new je("");function dM(){let e=null;return(n,t)=>(null===e&&(e=(Oe(cM,{optional:!0})??[]).reduceRight(uM,F1)),e(n,t))}let V1=(()=>{class e extends Nl{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Ea),...this.injector.get(U1,[])]));this.chain=r.reduceRight((i,o)=>function lM(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(i,o,this.injector),F1)}return this.chain(t,r=>this.backend.handle(r))}}return e.\u0275fac=function(t){return new(t||e)(Ue(Nh),Ue(Kr))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();const gM=/^\)\]\}',?\n/;let j1=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");const r=this.xhrFactory;return(r.\u0275loadImpl?cn(r.\u0275loadImpl()):tt(null)).pipe(Zr(()=>new re(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((se,Te)=>s.setRequestHeader(se,Te.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const se=t.detectContentTypeHeader();null!==se&&s.setRequestHeader("Content-Type",se)}if(t.responseType){const se=t.responseType.toLowerCase();s.responseType="json"!==se?se:"text"}const a=t.serializeBody();let l=null;const g=()=>{if(null!==l)return l;const se=s.statusText||"OK",Te=new Jr(s.getAllResponseHeaders()),Ge=function mM(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new Mh({headers:Te,status:s.status,statusText:se,url:Ge}),l},I=()=>{let{headers:se,status:Te,statusText:Ge,url:st}=g(),Nt=null;204!==Te&&(Nt=typeof s.response>"u"?s.responseText:s.response),0===Te&&(Te=Nt?200:0);let Ai=Te>=200&&Te<300;if("json"===t.responseType&&"string"==typeof Nt){const dp=Nt;Nt=Nt.replace(gM,"");try{Nt=""!==Nt?JSON.parse(Nt):null}catch(vs){Nt=dp,Ai&&(Ai=!1,Nt={error:vs,text:Nt})}}Ai?(o.next(new os({body:Nt,headers:se,status:Te,statusText:Ge,url:st||void 0})),o.complete()):o.error(new O1({error:Nt,headers:se,status:Te,statusText:Ge,url:st||void 0}))},O=se=>{const{url:Te}=g(),Ge=new O1({error:se,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Te||void 0});o.error(Ge)};let K=!1;const X=se=>{K||(o.next(g()),K=!0);let Te={type:gn.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(Te.total=se.total),"text"===t.responseType&&s.responseText&&(Te.partialText=s.responseText),o.next(Te)},ie=se=>{let Te={type:gn.UploadProgress,loaded:se.loaded};se.lengthComputable&&(Te.total=se.total),o.next(Te)};let le;s.addEventListener("load",I),s.addEventListener("error",O),s.addEventListener("timeout",O),s.addEventListener("abort",O),t.reportProgress&&(s.addEventListener("progress",X),null!==a&&s.upload&&s.upload.addEventListener("progress",ie));const ye=()=>{le??=function vM(){const e=setTimeout(()=>{},yM);return()=>clearTimeout(e)}()},Se=()=>{le?.()};return s.addEventListener("loadstart",ye),s.addEventListener("loadend",Se),s.send(a),o.next({type:gn.Sent}),()=>{s.removeEventListener("loadstart",ye),s.removeEventListener("loadend",Se),s.removeEventListener("error",O),s.removeEventListener("abort",O),s.removeEventListener("load",I),s.removeEventListener("timeout",O),le?.(),t.reportProgress&&(s.removeEventListener("progress",X),null!==a&&s.upload&&s.upload.removeEventListener("progress",ie)),s.readyState!==s.DONE&&s.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(Ue(c1))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();const yM=2147483647,kh=new je("XSRF_ENABLED"),$1=new je("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),z1=new je("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class G1{}let SM=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=JC(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ue(dr),Ue(eo),Ue($1))},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();function DM(e,n){const t=e.url.toLowerCase();if(!Oe(kh)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Oe(G1).getToken(),i=Oe(z1);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var tn=(()=>((tn=tn||{})[tn.Interceptors=0]="Interceptors",tn[tn.LegacyInterceptors=1]="LegacyInterceptors",tn[tn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",tn[tn.NoXsrfProtection=3]="NoXsrfProtection",tn[tn.JsonpSupport=4]="JsonpSupport",tn[tn.RequestsMadeViaParent=5]="RequestsMadeViaParent",tn))();function ss(e,n){return{\u0275kind:e,\u0275providers:n}}function bM(...e){const n=[L1,j1,V1,{provide:Nl,useExisting:V1},{provide:Nh,useExisting:j1},{provide:Ea,useValue:DM,multi:!0},{provide:kh,useValue:!0},{provide:G1,useClass:SM}];for(const t of e)n.push(...t.\u0275providers);return function hd(e){return{\u0275providers:e}}(n)}const K1=new je("LEGACY_INTERCEPTOR_FN");let IM=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=ii({providers:[bM(ss(tn.LegacyInterceptors,[{provide:K1,useFactory:dM},{provide:Ea,useExisting:K1,multi:!0}]))]}),e})();class Pr extends Le{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const{isArray:MM}=Array,{getPrototypeOf:PM,prototype:kM,keys:BM}=Object;const{isArray:FM}=Array;function Bh(...e){const n=$i(e),t=function Ti(e){return d(Cs(e))?e.pop():void 0}(e),{args:r,keys:i}=function OM(e){if(1===e.length){const n=e[0];if(MM(n))return{args:n,keys:null};if(function LM(e){return e&&"object"==typeof e&&PM(e)===kM}(n)){const t=BM(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return cn([],n);const o=new re(function jM(e,n,t=$){return r=>{W1(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)W1(n,()=>{const g=cn(e[l],n);let I=!1;g.subscribe(Ye(r,O=>{o[l]=O,I||(I=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function HM(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):$));return t?o.pipe(function VM(e){return Fe(n=>function UM(e,n){return FM(n)?e(...n):e(n)}(e,n))}(t)):o}function W1(e,n,t){e?wt(t,e,n):n()}const Ml=u(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Oh(...e){return function $M(){return Rt(1)}()(cn(e,$i(e)))}function q1(e){return new re(n=>{Tt(e()).subscribe(n)})}function Da(e,n){const t=d(e)?e:()=>e,r=i=>i.error(t());return new re(n?i=>n.schedule(r,0,i):r)}function Lh(){return pe((e,n)=>{let t=null;e._refCount++;const r=Ye(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class Q1 extends re{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new w;const t=this.getSubject();n.add(this.source.subscribe(Ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=w.EMPTY)}return n}refCount(){return Lh()(this)}}function as(e){return e<=0?()=>gr:pe((n,t)=>{let r=0;n.subscribe(Ye(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Pl(e){return pe((n,t)=>{let r=!1;n.subscribe(Ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Y1(e=GM){return pe((n,t)=>{let r=!1;n.subscribe(Ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function GM(){return new Ml}function ao(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ei((i,o)=>e(i,o,r)):$,as(1),t?Pl(n):Y1(()=>new Ml))}function zn(e,n,t){const r=d(e)||n||t?{next:e,error:n,complete:t}:e;return r?pe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ye(o,l=>{var g;null===(g=r.next)||void 0===g||g.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var g;a=!1,null===(g=r.error)||void 0===g||g.call(r,l),o.error(l)},()=>{var l,g;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):$}function uo(e){return pe((n,t)=>{let o,r=null,i=!1;r=n.subscribe(Ye(t,void 0,void 0,s=>{o=Tt(e(s,uo(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Fh(e){return e<=0?()=>gr:pe((n,t)=>{let r=[];n.subscribe(Ye(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Uh(e){return pe((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const ct="primary",ba=Symbol("RouteTitle");class YM{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function us(e){return new YM(e)}function XM(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ei(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!X1(e[i],n[i]))return!1;return!0}function X1(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function Z1(e){return e.length>0?e[e.length-1]:null}function Hi(e){return function RM(e){return!!e&&(e instanceof re||d(e.lift)&&d(e.subscribe))}(e)?e:tl(e)?cn(Promise.resolve(e)):tt(e)}const JM={exact:function tE(e,n,t){if(!lo(e.segments,n.segments)||!kl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!tE(e.children[r],n.children[r],t))return!1;return!0},subset:nE},J1={exact:function eP(e,n){return ei(e,n)},subset:function tP(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>X1(e[t],n[t]))},ignored:()=>!0};function eE(e,n,t){return JM[t.paths](e.root,n.root,t.matrixParams)&&J1[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function nE(e,n,t){return rE(e,n,n.segments,t)}function rE(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!lo(i,t)||n.hasChildren()||!kl(i,t,r))}if(e.segments.length===t.length){if(!lo(e.segments,t)||!kl(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!nE(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(lo(e.segments,i)&&kl(e.segments,i,r)&&e.children[ct])&&rE(e.children[ct],n,o,r)}}function kl(e,n,t){return n.every((r,i)=>J1[t](e[i].parameters,r.parameters))}class ls{constructor(n=new _t([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return iP.serialize(this)}}class _t{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}}class Aa{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=us(this.parameters)),this._parameterMap}toString(){return sE(this)}}function lo(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Ia=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return new Vh},providedIn:"root"}),e})();class Vh{parse(n){const t=new gP(n);return new ls(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Ta(n.root,!0)}`,r=function aP(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Ol(t)}=${Ol(i)}`).join("&"):`${Ol(t)}=${Ol(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function oP(e){return encodeURI(e)}(n.fragment)}`:""}`}}const iP=new Vh;function Bl(e){return e.segments.map(n=>sE(n)).join("/")}function Ta(e,n){if(!e.hasChildren())return Bl(e);if(n){const t=e.children[ct]?Ta(e.children[ct],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ct&&r.push(`${i}:${Ta(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function rP(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===ct&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ct&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===ct?[Ta(e.children[ct],!1)]:[`${i}:${Ta(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ct]?`${Bl(e)}/${t[0]}`:`${Bl(e)}/(${t.join("//")})`}}function iE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ol(e){return iE(e).replace(/%3B/gi,";")}function Hh(e){return iE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(e){return decodeURIComponent(e)}function oE(e){return Ll(e.replace(/\+/g,"%20"))}function sE(e){return`${Hh(e.path)}${function sP(e){return Object.keys(e).map(n=>`;${Hh(n)}=${Hh(e[n])}`).join("")}(e.parameters)}`}const uP=/^[^\/()?;#]+/;function jh(e){const n=e.match(uP);return n?n[0]:""}const lP=/^[^\/()?;=#]+/,dP=/^[^=?&#]+/,hP=/^[^&#]+/;class gP{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[ct]=new _t(n,t)),r}parseSegment(){const n=jh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ie(4009,!1);return this.capture(n),new Aa(Ll(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function cP(e){const n=e.match(lP);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=jh(this.remaining);i&&(r=i,this.capture(r))}n[Ll(t)]=Ll(r)}parseQueryParam(n){const t=function fP(e){const n=e.match(dP);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function pP(e){const n=e.match(hP);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=oE(t),o=oE(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=jh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ct);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ct]:new _t([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ie(4011,!1)}}function aE(e){return e.segments.length>0?new _t([],{[ct]:e}):e}function uE(e){const n={};for(const r of Object.keys(e.children)){const o=uE(e.children[r]);if(r===ct&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function mP(e){if(1===e.numberOfChildren&&e.children[ct]){const n=e.children[ct];return new _t(e.segments.concat(n.segments),n.children)}return e}(new _t(e.segments,n))}function co(e){return e instanceof ls}function lE(e){let n;const i=aE(function t(o){const s={};for(const l of o.children){const g=t(l);s[l.outlet]=g}const a=new _t(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function cE(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return $h(i,i,i,t,r);const o=function vP(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new fE(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,g])=>{a[l]="string"==typeof g?g.split("/"):g}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new fE(t,n,r)}(n);if(o.toRoot())return $h(i,i,new _t([],{}),t,r);const s=function CP(e,n,t){if(e.isAbsolute)return new Ul(n,!0,0);if(!t)return new Ul(n,!1,NaN);if(null===t.parent)return new Ul(t,!0,0);const r=Fl(e.commands[0])?0:1;return function EP(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ie(4005,!1);i=r.segments.length}return new Ul(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?_a(s.segmentGroup,s.index,o.commands):hE(s.segmentGroup,s.index,o.commands);return $h(i,s.segmentGroup,a,t,r)}function Fl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xa(e){return"object"==typeof e&&null!=e&&e.outlets}function $h(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,g])=>{o[l]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),s=e===n?t:dE(e,n,t);const a=aE(uE(s));return new ls(a,o,i)}function dE(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:dE(o,n,t)}),new _t(e.segments,r)}class fE{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fl(r[0]))throw new Ie(4003,!1);const i=r.find(xa);if(i&&i!==Z1(r))throw new Ie(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ul{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function hE(e,n,t){if(e||(e=new _t([],{})),0===e.segments.length&&e.hasChildren())return _a(e,n,t);const r=function DP(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(xa(a))break;const l=`${a}`,g=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&g&&"object"==typeof g&&void 0===g.outlets){if(!gE(l,g,s))return o;r+=2}else{if(!gE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new _t(e.segments.slice(0,r.pathIndex),{});return o.children[ct]=new _t(e.segments.slice(r.pathIndex),e.children),_a(o,0,i)}return r.match&&0===i.length?new _t(e.segments,{}):r.match&&!e.hasChildren()?zh(e,n,t):r.match?_a(e,0,i):zh(e,n,t)}function _a(e,n,t){if(0===t.length)return new _t(e.segments,{});{const r=function SP(e){return xa(e[0])?e[0].outlets:{[ct]:e}}(t),i={};if(!r[ct]&&e.children[ct]&&1===e.numberOfChildren&&0===e.children[ct].segments.length){const o=_a(e.children[ct],n,t);return new _t(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=hE(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new _t(e.segments,i)}}function zh(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(xa(o)){const l=bP(o.outlets);return new _t(r,l)}if(0===i&&Fl(t[0])){r.push(new Aa(e.segments[n].path,pE(t[0]))),i++;continue}const s=xa(o)?o.outlets[ct]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Fl(a)?(r.push(new Aa(s,pE(a))),i+=2):(r.push(new Aa(s,{})),i++)}return new _t(r,{})}function bP(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=zh(new _t([],{}),0,r))}),n}function pE(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function gE(e,n,t){return e==t.path&&ei(n,t.parameters)}const wa="imperative";class ti{constructor(n,t){this.id=n,this.url=t}}class Gh extends ti{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fo extends ti{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vl extends ti{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Na extends ti{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Kh extends ti{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AP extends ti{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IP extends ti{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TP extends ti{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xP extends ti{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _P extends ti{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wP{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NP{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RP{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MP{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PP{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kP{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mE{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class BP{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ra,this.attachRef=null}}let Ra=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BP,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class yE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Wh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Wh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=qh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return qh(n,this._root).map(t=>t.value)}}function Wh(e,n){if(e===n.value)return n;for(const t of n.children){const r=Wh(e,t);if(r)return r}return null}function qh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=qh(e,t);if(r.length)return r.unshift(n),r}return[]}class Si{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function cs(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class vE extends yE{constructor(n,t){super(n),this.snapshot=t,Qh(this,n)}toString(){return this.snapshot.toString()}}function CE(e,n){const t=function OP(e,n){const s=new Hl([],{},{},"",{},ct,n,null,{});return new SE("",new Si(s,[]))}(0,n),r=new Pr([new Aa("",{})]),i=new Pr({}),o=new Pr({}),s=new Pr({}),a=new Pr(""),l=new ds(r,i,s,a,o,ct,n,t.root);return l.snapshot=t.root,new vE(new Si(l,[]),t)}class ds{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Fe(g=>g[ba]))??tt(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(n=>us(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(n=>us(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EE(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function LP(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hl{get title(){return this.data?.[ba]}constructor(n,t,r,i,o,s,a,l,g){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=us(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SE extends yE{constructor(n,t){super(t),this.url=n,Qh(this,t)}toString(){return DE(this._root)}}function Qh(e,n){n.value._routerState=e,n.children.forEach(t=>Qh(e,t))}function DE(e){const n=e.children.length>0?` { ${e.children.map(DE).join(", ")} } `:"";return`${e.value}${n}`}function Yh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ei(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ei(n.params,t.params)||e.paramsSubject.next(t.params),function ZM(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ei(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),ei(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Xh(e,n){const t=ei(e.params,n.params)&&function nP(e,n){return lo(e,n)&&e.every((t,r)=>ei(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Xh(e.parent,n.parent))}let Zh=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ct,this.activateEvents=new Fn,this.deactivateEvents=new Fn,this.attachEvents=new Fn,this.detachEvents=new Fn,this.parentContexts=Oe(Ra),this.location=Oe(wr),this.changeDetector=Oe(qf),this.environmentInjector=Oe(Kr),this.inputBinder=Oe(jl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ie(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new FP(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Un({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qi]}),e})();class FP{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ds?this.route:n===Ra?this.childContexts:this.parent.get(n,t)}}const jl=new je("");let bE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Bh([r.queryParams,r.params,r.data]).pipe(Zr(([o,s,a],l)=>(a={...o,...s,...a},0===l?tt(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function _2(e){const n=At(e);if(!n)return null;const t=new Zs(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();function Ma(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function VP(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ma(e,r,i);return Ma(e,r)})}(e,n,t);return new Si(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ma(e,a)),s}}const r=function HP(e){return new ds(new Pr(e.url),new Pr(e.params),new Pr(e.queryParams),new Pr(e.fragment),new Pr(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ma(e,o));return new Si(r,i)}}const Jh="ngNavigationCancelingError";function AE(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=co(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=IE(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function IE(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Jh]=!0,r.cancellationCode=n,t&&(r.url=t),r}function TE(e){return xE(e)&&co(e.url)}function xE(e){return e&&e[Jh]}let _E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Xt({type:e,selectors:[["ng-component"]],standalone:!0,features:[pv],decls:1,vars:0,template:function(t,r){1&t&&ft(0,"router-outlet")},dependencies:[Zh],encapsulation:2}),e})();function ep(e){const n=e.children&&e.children.map(ep),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ct&&(t.component=_E),t}function kr(e){return e.outlet||ct}function Pa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class qP{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Yh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=cs(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=cs(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=cs(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=cs(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kP(o.value.snapshot))}),n.children.length&&this.forwardEvent(new MP(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Yh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Yh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Pa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class wE{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class $l{constructor(n,t){this.component=n,this.route=t}}function QP(e,n,t){const r=e._root;return ka(r,n?n._root:null,t,[r.value])}function fs(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function fS(e){return null!==Ka(e)}(e)?n.get(e):e:r}function ka(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=cs(n);return e.children.forEach(s=>{(function XP(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function ZP(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!lo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!lo(e.url,n.url)||!ei(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xh(e,n)||!ei(e.queryParams,n.queryParams);default:return!Xh(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new wE(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ka(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $l(a.outlet.component,s))}else s&&Ba(n,a,i),i.canActivateChecks.push(new wE(r)),ka(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ba(a,t.getContext(s),i)),i}function Ba(e,n,t){const r=cs(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Ba(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new $l(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Oa(e){return"function"==typeof e}function NE(e){return e instanceof Ml||"EmptyError"===e?.name}const zl=Symbol("INITIAL_VALUE");function hs(){return Zr(e=>Bh(e.map(n=>n.pipe(as(1),function zM(...e){const n=$i(e);return pe((t,r)=>{(n?Oh(e,t,n):Oh(e,t)).subscribe(r)})}(zl)))).pipe(Fe(n=>{for(const t of n)if(!0!==t){if(t===zl)return zl;if(!1===t||t instanceof ls)return t}return!0}),Ei(n=>n!==zl),as(1)))}function RE(e){return function ne(...e){return te(e)}(zn(n=>{if(co(n))throw AE(0,n)}),Fe(n=>!0===n))}class Gl{constructor(n){this.segmentGroup=n||null}}class ME{constructor(n){this.urlTree=n}}function ps(e){return Da(new Gl(e))}function PE(e){return Da(new ME(e))}class vk{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new Ie(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[ct])return Da(new Ie(4e3,!1));i=i.children[ct]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new ls(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new _t(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Ie(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ck(e,n,t,r,i){const o=np(e,n,t);return o.matched?(r=function jP(e,n){return e.providers&&!e._injector&&(e._injector=Cf(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function gk(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?tt(i.map(s=>{const a=fs(s,e);return Hi(function ik(e){return e&&Oa(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(hs(),RE()):tt(!0)}(r,n,t).pipe(Fe(s=>!0===s?o:{...tp}))):tt(o)}function np(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...tp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||XM)(t,e,n);if(!i)return{...tp};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function kE(e,n,t,r){return t.length>0&&function Dk(e,n,t){return t.some(r=>Kl(e,n,r)&&kr(r)!==ct)}(e,t,r)?{segmentGroup:new _t(n,Sk(r,new _t(t,e.children))),slicedSegments:[]}:0===t.length&&function bk(e,n,t){return t.some(r=>Kl(e,n,r))}(e,t,r)?{segmentGroup:new _t(e.segments,Ek(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new _t(e.segments,e.children),slicedSegments:t}}function Ek(e,n,t,r,i){const o={};for(const s of r)if(Kl(e,t,s)&&!i[kr(s)]){const a=new _t([],{});o[kr(s)]=a}return{...i,...o}}function Sk(e,n){const t={};t[ct]=n;for(const r of e)if(""===r.path&&kr(r)!==ct){const i=new _t([],{});t[kr(r)]=i}return t}function Kl(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class xk{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new vk(this.urlSerializer,this.urlTree)}noMatchError(n){return new Ie(4002,!1)}recognize(){const n=kE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,ct).pipe(uo(t=>{if(t instanceof ME)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Gl?this.noMatchError(t):t}),Fe(t=>{const r=new Hl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,{}),i=new Si(r,t),o=new SE("",i),s=function yP(e,n,t=null,r=null){return cE(lE(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,ct).pipe(uo(r=>{throw r instanceof Gl?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=EE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return cn(i).pipe(is(o=>{const s=r.children[o],a=function KP(e,n){const t=e.filter(r=>kr(r)===n);return t.push(...e.filter(r=>kr(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function WM(e,n){return pe(function KM(e,n,t,r,i){return(o,s)=>{let a=t,l=n,g=0;o.subscribe(Ye(s,I=>{const O=g++;l=a?e(l,I,O):(a=!0,I),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Pl(null),function qM(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ei((i,o)=>e(i,o,r)):$,Fh(1),t?Pl(n):Y1(()=>new Ml))}(),pt(o=>{if(null===o)return ps(r);const s=BE(o);return function _k(e){e.sort((n,t)=>n.value.outlet===ct?-1:t.value.outlet===ct?1:n.value.outlet.localeCompare(t.value.outlet))}(s),tt(s)}))}processSegment(n,t,r,i,o,s){return cn(t).pipe(is(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(uo(l=>{if(l instanceof Gl)return tt(null);throw l}))),ao(a=>!!a),uo(a=>{if(NE(a))return function Ik(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?tt([]):ps(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function Ak(e,n,t,r){return!!(kr(e)===r||r!==ct&&Kl(n,t,e))&&("**"===e.path||np(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):ps(i):ps(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?PE(o):this.applyRedirects.lineralizeSegments(r,o).pipe(pt(s=>{const a=new _t(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:g,positionalParamSegments:I}=np(t,i,o);if(!a)return ps(t);const O=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,I);return i.redirectTo.startsWith("/")?PE(O):this.applyRedirects.lineralizeSegments(i,O).pipe(pt(K=>this.processSegment(n,r,t,K.concat(g),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?Z1(i).parameters:{};a=tt({snapshot:new Hl(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OE(r),kr(r),r.component??r._loadedComponent??null,r,LE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Ck(t,r,i,n).pipe(Fe(({matched:l,consumedSegments:g,remainingSegments:I,parameters:O})=>l?{snapshot:new Hl(g,O,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OE(r),kr(r),r.component??r._loadedComponent??null,r,LE(r)),consumedSegments:g,remainingSegments:I}:null));return a.pipe(Zr(l=>null===l?ps(t):this.getChildConfig(n=r._injector??n,r,i).pipe(Zr(({routes:g})=>{const I=r._loadedInjector??n,{snapshot:O,consumedSegments:K,remainingSegments:X}=l,{segmentGroup:ie,slicedSegments:le}=kE(t,K,X,g);if(0===le.length&&ie.hasChildren())return this.processChildren(I,g,ie).pipe(Fe(Se=>null===Se?null:[new Si(O,Se)]));if(0===g.length&&0===le.length)return tt([new Si(O,[])]);const ye=kr(r)===o;return this.processSegment(I,g,ie,le,ye?ct:o,!0).pipe(Fe(Se=>[new Si(O,Se)]))}))))}getChildConfig(n,t,r){return t.children?tt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function pk(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(s=>{const a=fs(s,e);return Hi(function ek(e){return e&&Oa(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(hs(),RE())}(n,t,r).pipe(pt(i=>i?this.configLoader.loadChildren(n,t).pipe(zn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function yk(e){return Da(IE(!1,3))}())):tt({routes:[],injector:n})}}function wk(e){const n=e.value.routeConfig;return n&&""===n.path}function BE(e){const n=[],t=new Set;for(const r of e){if(!wk(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=BE(r.children);n.push(new Si(r.value,i))}return n.filter(r=>!t.has(r))}function OE(e){return e.data||{}}function LE(e){return e.resolve||{}}function FE(e){return"string"==typeof e.title||null===e.title}function rp(e){return Zr(n=>{const t=e(n);return t?cn(t).pipe(Fe(()=>n)):tt(n)})}const gs=new je("ROUTES");let ip=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Oe(rC)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe(Fe(UE),zn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Uh(()=>{this.componentLoaders.delete(t)})),i=new Q1(r,()=>new Le).pipe(Lh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,g;return Array.isArray(a)?g=a:(l=a.create(t).injector,g=l.get(gs,[],Qe.Self|Qe.Optional).flat()),{routes:g.map(ep),injector:l}}),Uh(()=>{this.childrenLoaders.delete(r)})),s=new Q1(o,()=>new Le).pipe(Lh());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe(Fe(UE),pt(r=>r instanceof fv||Array.isArray(r)?tt(r):cn(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UE(e){return function Ok(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Wl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Le,this.configLoader=Oe(ip),this.environmentInjector=Oe(Kr),this.urlSerializer=Oe(Ia),this.rootContexts=Oe(Ra),this.inputBindingEnabled=null!==Oe(jl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NP(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new wP(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Pr({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wa,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(r=>0!==r.id),Fe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Zr(r=>{let i=!1,o=!1;return tt(r).pipe(zn(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zr(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new Na(s.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),gr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return VE(s.source)&&(t.browserUrlTree=s.extractedUrl),tt(s).pipe(Zr(I=>{const O=this.transitions?.getValue();return this.events.next(new Gh(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions?.getValue()?gr:Promise.resolve(I)}),function Nk(e,n,t,r,i,o){return pt(s=>function Tk(e,n,t,r,i,o,s="emptyOnly"){return new xk(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(Fe(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zn(I=>{if(r.targetSnapshot=I.targetSnapshot,r.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const K=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(K,I)}t.browserUrlTree=I.urlAfterRedirects}const O=new AP(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(O)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:O,source:K,restoredState:X,extras:ie}=s,le=new Gh(I,this.urlSerializer.serialize(O),K,X);this.events.next(le);const ye=CE(0,this.rootComponentType).snapshot;return tt(r={...s,targetSnapshot:ye,urlAfterRedirects:O,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new Na(s.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),gr}}),zn(s=>{const a=new IP(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Fe(s=>r={...s,guards:QP(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function sk(e,n){return pt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?tt({...t,guardsResult:!0}):function ak(e,n,t,r){return cn(e).pipe(pt(i=>function hk(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?tt(o.map(a=>{const l=Pa(n)??i,g=fs(a,l);return Hi(function rk(e){return e&&Oa(e.canDeactivate)}(g)?g.canDeactivate(e,n,t,r):l.runInContext(()=>g(e,n,t,r))).pipe(ao())})).pipe(hs()):tt(!0)}(i.component,i.route,t,n,r)),ao(i=>!0!==i,!0))}(s,r,i,e).pipe(pt(a=>a&&function JP(e){return"boolean"==typeof e}(a)?function uk(e,n,t,r){return cn(n).pipe(is(i=>Oh(function ck(e,n){return null!==e&&n&&n(new RP(e)),tt(!0)}(i.route.parent,r),function lk(e,n){return null!==e&&n&&n(new PP(e)),tt(!0)}(i.route,r),function fk(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function YP(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>q1(()=>tt(s.guards.map(l=>{const g=Pa(s.node)??t,I=fs(l,g);return Hi(function nk(e){return e&&Oa(e.canActivateChild)}(I)?I.canActivateChild(r,e):g.runInContext(()=>I(r,e))).pipe(ao())})).pipe(hs())));return tt(o).pipe(hs())}(e,i.path,t),function dk(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(o=>q1(()=>{const s=Pa(n)??t,a=fs(o,s);return Hi(function tk(e){return e&&Oa(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(ao())}));return tt(i).pipe(hs())}(e,i.route,t))),ao(i=>!0!==i,!0))}(r,o,e,n):tt(a)),Fe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),zn(s=>{if(r.guardsResult=s.guardsResult,co(s.guardsResult))throw AE(0,s.guardsResult);const a=new TP(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ei(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),rp(s=>{if(s.guards.canActivateChecks.length)return tt(s).pipe(zn(a=>{const l=new xP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Zr(a=>{let l=!1;return tt(a).pipe(function Rk(e,n){return pt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let o=0;return cn(i).pipe(is(s=>function Mk(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!FE(i)&&(o[ba]=i.title),function Pk(e,n,t,r){const i=function kk(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return tt({});const o={};return cn(i).pipe(pt(s=>function Bk(e,n,t,r){const i=Pa(n)??r,o=fs(e,i);return Hi(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(ao(),zn(a=>{o[s]=a}))),Fh(1),function QM(e){return Fe(()=>e)}(o),uo(s=>NE(s)?gr:Da(s)))}(o,e,n,r).pipe(Fe(s=>(e._resolvedData=s,e.data=EE(e,t).resolve,i&&FE(i)&&(e.data[ba]=i.title),null)))}(s.route,r,e,n)),zn(()=>o++),Fh(1),pt(s=>o===i.length?tt(t):gr))})}(t.paramsInheritanceStrategy,this.environmentInjector),zn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),zn(a=>{const l=new _P(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),rp(s=>{const a=l=>{const g=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(l.routeConfig).pipe(zn(I=>{l.component=I}),Fe(()=>{})));for(const I of l.children)g.push(...a(I));return g};return Bh(a(s.targetSnapshot.root)).pipe(Pl(),as(1))}),rp(()=>this.afterPreactivation()),Fe(s=>{const a=function UP(e,n,t){const r=Ma(e,n._root,t?t._root:void 0);return new vE(r,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),zn(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((e,n,t,r)=>Fe(i=>(new qP(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),as(1),zn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new fo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Uh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uo(s=>{if(o=!0,xE(s)){TE(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Vl(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),TE(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||VE(r.source)};t.scheduleNavigation(l,wa,null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Kh(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(l){r.reject(l)}}return gr}))}))}cancelNavigationTransition(t,r,i){const o=new Vl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function VE(e){return e!==wa}let HE=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ct);return r}getResolvedTitleForRoute(t){return t.data[ba]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return Oe(Lk)},providedIn:"root"}),e})(),Lk=(()=>{class e extends HE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(Ue(_1))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Fk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return Oe(Vk)},providedIn:"root"}),e})();class Uk{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let Vk=(()=>{class e extends Uk{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=function xg(e){return oi(()=>{const n=e.prototype.constructor,t=n[ai]||Lc(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[ai]||Lc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(r||e)}}(),e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ql=new je("",{providedIn:"root",factory:()=>({})});let Hk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:function(){return Oe(jk)},providedIn:"root"}),e})(),jk=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var fr=(()=>((fr=fr||{})[fr.COMPLETE=0]="COMPLETE",fr[fr.FAILED=1]="FAILED",fr[fr.REDIRECTING=2]="REDIRECTING",fr))();function jE(e,n){e.events.pipe(Ei(t=>t instanceof fo||t instanceof Vl||t instanceof Kh||t instanceof Na),Fe(t=>t instanceof fo||t instanceof Na?fr.COMPLETE:t instanceof Vl&&(0===t.code||1===t.code)?fr.REDIRECTING:fr.FAILED),Ei(t=>t!==fr.REDIRECTING),as(1)).subscribe(()=>{n()})}function $k(e){throw e}function zk(e,n,t){return n.parse("/")}const Gk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Oe(nC),this.isNgZoneEnabled=!1,this.options=Oe(ql,{optional:!0})||{},this.pendingTasks=Oe(UC),this.errorHandler=this.options.errorHandler||$k,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zk,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Oe(Hk),this.routeReuseStrategy=Oe(Fk),this.titleStrategy=Oe(HE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Oe(gs,{optional:!0})?.flat()??[],this.navigationTransitions=Oe(Wl),this.urlSerializer=Oe(Ia),this.location=Oe(oh),this.componentInputBindingEnabled=!!Oe(jl,{optional:!0}),this.isNgZoneEnabled=Oe(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ls,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CE(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ep),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,g=l?this.currentUrlTree.fragment:s;let O,I=null;switch(a){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}null!==I&&(I=this.removeEmptyProps(I));try{O=lE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),O=this.currentUrlTree.root}return cE(O,t,I,g??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=co(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wa,null,r)}navigate(t,r={skipLocationChange:!1}){return function Wk(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Ie(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Gk}:!1===r?{...Kk}:r,co(t))return eE(this.currentUrlTree,t,i);const o=this.parseUrl(t);return eE(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,g;s?(a=s.resolve,l=s.reject,g=s.promise):g=new Promise((O,K)=>{a=O,l=K});const I=this.pendingTasks.add();return jE(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class $E{}let Yk=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(t=>t instanceof fo),is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Cf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return cn(i).pipe(Rt())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):tt(null);const o=i.pipe(pt(s=>null===s?tt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?cn([o,this.loader.loadComponent(r)]).pipe(Rt()):o})}}return e.\u0275fac=function(t){return new(t||e)(Ue(mn),Ue(rC),Ue(Kr),Ue($E),Ue(ip))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sp=new je("");let zE=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Na&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function om(){throw new Error("invalid")}()},e.\u0275prov=ze({token:e,factory:e.\u0275fac}),e})();function Di(e,n){return{\u0275kind:e,\u0275providers:n}}function KE(){const e=Oe(hi);return n=>{const t=e.get(ns);if(n!==t.components[0])return;const r=e.get(mn),i=e.get(WE);1===e.get(ap)&&r.initialNavigation(),e.get(qE,null,Qe.Optional)?.setUpPreloading(),e.get(sp,null,Qe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const WE=new je("",{factory:()=>new Le}),ap=new je("",{providedIn:"root",factory:()=>1}),qE=new je("");function eB(e){return Di(0,[{provide:qE,useExisting:Yk},{provide:$E,useExisting:e}])}const QE=new je("ROUTER_FORROOT_GUARD"),nB=[oh,{provide:Ia,useClass:Vh},mn,Ra,{provide:ds,useFactory:function GE(e){return e.routerState.root},deps:[mn]},ip,[]];function rB(){return new pC("Router",mn)}let YE=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[nB,[],{provide:gs,multi:!0,useValue:t},{provide:QE,useFactory:aB,deps:[[mn,new Cu,new Eu]]},{provide:ql,useValue:r||{}},r?.useHash?{provide:so,useClass:P2}:{provide:so,useClass:$C},{provide:sp,useFactory:()=>{const e=Oe(XN),n=Oe(Lt),t=Oe(ql),r=Oe(Wl),i=Oe(Ia);return t.scrollOffset&&e.setOffset(t.scrollOffset),new zE(i,r,e,n,t)}},r?.preloadingStrategy?eB(r.preloadingStrategy).\u0275providers:[],{provide:pC,multi:!0,useFactory:rB},r?.initialNavigation?uB(r):[],r?.bindToComponentInputs?Di(8,[bE,{provide:jl,useExisting:bE}]).\u0275providers:[],[{provide:XE,useFactory:KE},{provide:Kf,multi:!0,useExisting:XE}]]}}static forChild(t){return{ngModule:e,providers:[{provide:gs,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Ue(QE,8))},e.\u0275mod=Ni({type:e}),e.\u0275inj=ii({}),e})();function aB(e){return"guarded"}function uB(e){return["disabled"===e.initialNavigation?Di(3,[{provide:Lf,multi:!0,useFactory:()=>{const n=Oe(mn);return()=>{n.setUpLocationChangeListener()}}},{provide:ap,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Di(2,[{provide:ap,useValue:0},{provide:Lf,multi:!0,deps:[hi],useFactory:n=>{const t=n.get(R2,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(mn),o=n.get(WE);jE(i,()=>{r(!0)}),n.get(Wl).afterPreactivation=()=>(r(!0),o.closed?tt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const XE=new je("");let Br=(()=>{class e{constructor(t){this.httpClient=t,this.baseURL="https://ap-southeast-2.aws.data.mongodb-api.com/app/base-camp-ttgwf/endpoint/"}getEncryptionKey(){return new Promise((t,r)=>{this.httpClient.get(this.baseURL+"encryption/pubKey").subscribe(i=>{t(i)})})}validateDetails(t,r){return new Promise((i,o)=>{this.httpClient.post(this.baseURL+"userData/logIn",{email:t.toString(),pwd:r}).subscribe(s=>{let a={success:!1,payload:""};s.worked&&(a.success=!0,a.payload=s.payload.Data,i(a)),i(a)})})}createAccount(t,r){return console.log(r),new Promise((i,o)=>{this.httpClient.post(this.baseURL+"userData/create",{email:t.toString(),pwd:r,app:"gabeogatchi"}).subscribe(s=>{i({success:s.success,payload:s.payload})})})}getData(t,r,i){return new Promise((o,s)=>{this.httpClient.post(this.baseURL+"userData/read",{email:t,pwdToken:r,key:i}).subscribe(a=>{0==Object.keys(a.payload).length&&(a.payload=null),a.success?o(a.payload):s(a.payload)})})}setData(t,r,i,o){return new Promise((s,a)=>{this.httpClient.post(this.baseURL+"userData/set",{email:t,pwdToken:r,valKey:i,val:o}).subscribe(l=>{s(l.success)})})}}return e.\u0275fac=function(t){return new(t||e)(Ue(L1))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Or=(()=>{class e{constructor(){this.email="",this.userToken=""}isSignedIn(){let t=localStorage.getItem("GabeoGatchiUserToken");if(t){let r=localStorage.getItem("GabeoGatchiUserEmail");return!!r&&(this.email=r,this.userToken=t,!0)}return!1}setUserDetails(t,r){this.userToken=r,this.email=t,localStorage.setItem("GabeoGatchiUserEmail",t),localStorage.setItem("GabeoGatchiUserToken",r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ms=(()=>{class e{updateStatus(){let t=(new Date).getTime(),r=t-this.lastUpdate;this.age=(t-this.timeOfCreation)/(5*this.kStatusDepletionTime/this.depletionMultiplier);let i=r/(this.kStatusDepletionTime/this.depletionMultiplier);this.cleanliness=this.cleanliness-i*this.cleanlinessModifier<=0?0:this.cleanliness-i*this.cleanlinessModifier,this.hunger=this.hunger-i*this.hungerModifier<=0?0:this.hunger-i*this.hungerModifier,this.happiness=this.happiness-i*this.happinessModifier<=0?0:this.happiness-i*this.happinessModifier,this.healthiness=this.kBaseHealth+(5*this.cleanliness+5*this.hunger+this.happiness)/11-this.age,this.healthiness<=0?(this.healthiness=0,this.happiness=0,this.hunger=0,this.cleanliness=0,this.living&&(this.living=!1,this.savePet())):this.healthiness>=100&&(this.healthiness=100),this.lastUpdate=t,t-this.lastSave>=15e3&&(this.lastSave=t,this.savePet())}feed(t){this.hunger+=this.hungerModifier*t,this.hunger>100&&(this.hunger=100),this.updateStatus()}clean(t){this.cleanliness+=Math.floor(Math.random()*t),this.cleanliness>100&&(this.cleanliness=100),this.updateStatus()}increaseHappiness(t){this.happiness+=t,this.happiness>100&&(this.happiness=100),this.updateStatus()}getStatus(){return this.updateStatus(),{happiness:this.happiness,cleanliness:this.cleanliness,hunger:this.hunger,healthiness:this.healthiness}}createPet(t,r){this.name=t,this.happiness=100,this.cleanliness=100,this.hunger=100,this.timeOfCreation=(new Date).getTime(),this.petNumber=2,this.updateStatus(),this.living=!0,this.savePet()}savePet(){this.connections.setData(this.storage.email,this.storage.userToken,"petStatus",JSON.stringify({name:this.name,number:this.petNumber,timeOfCreation:this.timeOfCreation,lastUpdate:this.lastUpdate,happiness:this.happiness,cleanliness:this.cleanliness,hunger:this.hunger,healthiness:this.healthiness})).then(r=>{})}constructor(t,r){this.connections=t,this.storage=r,this.kStatusDepletionTime=24e5,this.kStatusMax=100,this.kBaseHealth=0,this.depletionMultiplier=100,this.petNumber=1,this.living=!1,this.happiness=100,this.cleanliness=100,this.hunger=100,this.healthiness=100,this.happinessModifier=4,this.cleanlinessModifier=1,this.hungerModifier=1.5,this.age=0,this.lastUpdate=(new Date).getTime(),this.lastSave=(new Date).getTime(),this.connections.getData(this.storage.email,this.storage.userToken,"petStatus").then(i=>{if(i){let o=JSON.parse(i);this.name=o.name,this.petNumber=o.number,this.timeOfCreation=o.timeOfCreation,this.lastUpdate=o.lastUpdate,this.happiness=o.happiness,this.cleanliness=o.cleanliness,this.hunger=o.hunger,this.healthiness=o.healthiness}else this.living=!1;this.updateStatus()}),this.living=this.healthiness>0}}return e.\u0275fac=function(t){return new(t||e)(Ue(Br),Ue(Or))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const La=function(e){return{"bar-elem-active":e}};let Fa=(()=>{class e{constructor(t){this.router=t}setPage(t){this.currentPage=t,setTimeout(()=>{this.router.navigateByUrl("home"==this.currentPage?"/":this.currentPage)},250)}}return e.\u0275fac=function(t){return new(t||e)(we(mn))},e.\u0275cmp=Xt({type:e,selectors:[["app-bottom-bar"]],inputs:{currentPage:"currentPage"},decls:12,vars:15,consts:[[1,"component-container"],[1,"bar"],["id","battlepass",1,"bar-elem",3,"ngClass","click"],["src","https://www.svgrepo.com/show/390356/badge-reward-medal.svg","alt","",1,"bar-img"],["src","https://www.svgrepo.com/show/390191/store-shop.svg","alt","",1,"bar-img"],["id","home",1,"bar-elem",3,"ngClass","click"],["src","https://www.svgrepo.com/show/500894/home.svg","alt","",1,"bar-img"],["id","games",1,"bar-elem",3,"ngClass","click"],["src","https://www.svgrepo.com/show/385162/joystick-videogame-controller.svg","alt","",1,"bar-img"],["src","https://www.svgrepo.com/show/485909/suitcase.svg","alt","",1,"bar-img"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"div",2),Ct("click",function(){return r.setPage("battlepass")}),ft(3,"img",3),fe(),ce(4,"div",2),Ct("click",function(){return r.setPage("store")}),ft(5,"img",4),fe(),ce(6,"div",5),Ct("click",function(){return r.setPage("home")}),ft(7,"img",6),fe(),ce(8,"div",7),Ct("click",function(){return r.setPage("games")}),ft(9,"img",8),fe(),ce(10,"div",7),Ct("click",function(){return r.setPage("inventory")}),ft(11,"img",9),fe()()()),2&t&&(xe(2),Ve("ngClass",Cr(5,La,"battlepass"==r.currentPage)),xe(2),Ve("ngClass",Cr(7,La,"store"==r.currentPage)),xe(2),Ve("ngClass",Cr(9,La,"home"==r.currentPage)),xe(2),Ve("ngClass",Cr(11,La,"games"==r.currentPage)),xe(2),Ve("ngClass",Cr(13,La,"inventory"==r.currentPage)))},dependencies:[ga],styles:[".component-container[_ngcontent-%COMP%]{width:100vw;height:15vh;padding-bottom:15px;background-color:var(--secondary-color)}.bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.bar-elem[_ngcontent-%COMP%]{margin-top:10px;height:10vh;aspect-ratio:1/1;border:10px var(--attention-color) solid;border-radius:100%;transition:all .25s ease;cursor:pointer;display:grid;place-items:center}.bar-elem-active[_ngcontent-%COMP%]{transform:scale(1.5);margin-top:-20px;background:var(--attention-color)}.bar-img[_ngcontent-%COMP%]{aspect-ratio:1/1;width:65%;filter:invert(100%) sepia(83%) saturate(697%) hue-rotate(294deg) brightness(125%) contrast(105%);height:auto}.bar-text[_ngcontent-%COMP%]{font-size:1rem}"]}),e})();const Ql=function(e){return{width:e}};let cB=(()=>{class e{constructor(t){this.pet=t,this.happiness=100,this.cleanliness=100,this.hunger=100,this.healthiness=100,this.barUpdate=setInterval(()=>this.updateStatus(),1e3),this.updateStatus()}updateStatus(){let t=this.pet.getStatus();this.happiness=t.happiness,this.cleanliness=t.cleanliness,this.hunger=t.hunger,this.healthiness=t.healthiness}}return e.\u0275fac=function(t){return new(t||e)(we(ms))},e.\u0275cmp=Xt({type:e,selectors:[["app-pet-status"]],decls:23,vars:12,consts:[[1,"displayed-status-container"],[1,"displayed-status-bar-border"],[1,"displayed-status-bar-progress",3,"ngStyle"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"h1"),Re(2,"Status"),fe(),ce(3,"div")(4,"p"),Re(5,"Happiness"),fe(),ce(6,"div",1),ft(7,"div",2),fe()(),ce(8,"div")(9,"p"),Re(10,"Cleanliness"),fe(),ce(11,"div",1),ft(12,"div",2),fe()(),ce(13,"div")(14,"p"),Re(15,"Hunger"),fe(),ce(16,"div",1),ft(17,"div",2),fe()(),ce(18,"div")(19,"p"),Re(20,"Healthiness"),fe(),ce(21,"div",1),ft(22,"div",2),fe()()()),2&t&&(xe(7),Ve("ngStyle",Cr(4,Ql,r.happiness+"%")),xe(5),Ve("ngStyle",Cr(6,Ql,r.cleanliness+"%")),xe(5),Ve("ngStyle",Cr(8,Ql,r.hunger+"%")),xe(5),Ve("ngStyle",Cr(10,Ql,r.healthiness+"%")))},dependencies:[o1],styles:[".displayed-status-container[_ngcontent-%COMP%]{aspect-ratio:3/4;height:100%;place-items:left}.displayed-status-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0 0 0 5%}.displayed-status-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem;text-align:center;margin-bottom:0}.displayed-status-bar-border[_ngcontent-%COMP%]{border-radius:100px;margin:3%;width:90%;aspect-ratio:19/2;display:grid;place-items:left;border:4px solid var(--attention-color);background-color:var(--elem-bg)}.displayed-status-bar-progress[_ngcontent-%COMP%]{border-radius:100px;height:100%;background-color:var(--neutral-color);transition:all .25s ease-out}"]}),e})(),dB=(()=>{class e{constructor(t){this.pet=t,this.petImg=""}ngOnInit(){this.petNumber=this.pet.petNumber,this.getPetImage(),setInterval(()=>{this.getPetImage()},1500)}getPetImage(){let t=this.pet.getStatus();this.pet.living?(this.petImg=this.pet.petNumber+this.expression(t),typeof this.petImg>"u"&&(this.petImg="2-happy")):this.petImg="dead"}expression(t){let r;return this.petNumber=this.pet.petNumber,r=t.happiness>=75?"happy":t.happiness>=45?"neutral":"sad",t.healthiness<35&&(r="ill"),"-"+r}}return e.\u0275fac=function(t){return new(t||e)(we(ms))},e.\u0275cmp=Xt({type:e,selectors:[["app-pet-display"]],decls:4,vars:2,consts:[[1,"pet-container"],[1,"pet-name"],["id","sprite",3,"src"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"p",1),Re(2),fe(),ft(3,"img",2),fe()),2&t&&(xe(2),Zt(r.pet.name),xe(1),Oi("src","https://github.com/sillylittlerobots/Gabeogatchi/blob/main/gabeogatchi/src/assets/sprites/pet/"+r.petImg+".png?raw=true",Zi))},styles:[".pet-container[_ngcontent-%COMP%]{padding:0;display:grid;align-items:top;margin:0;border-radius:16px;align-items:center;justify-content:center;cursor:pointer}.pet-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-left:0;padding:0;font-size:1.5rem}#sprite[_ngcontent-%COMP%]{aspect-ratio:4/3;width:80%;margin-left:10%;background-color:var(--elem-bg);border-radius:16px;min-width:150px}#sprite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}"]}),e})();var Ze=(()=>((Ze=Ze||{})[Ze.idle=0]="idle",Ze[Ze.loading=1]="loading",Ze[Ze.error=2]="error",Ze[Ze.success=3]="success",Ze))();let fB=(()=>{class e{feed(){this.removeItem("Food",this.pet)}pat(){this.pet.increaseHappiness(5)}clean(){this.removeItem("Cleaning",this.pet)}removeItem(t,r){const i=this.ls.email,o=this.ls.userToken;this.connections.getData(i,o,"items").then(s=>{let a=JSON.parse(s),l=!1;for(let g of a)if(g.title.includes(t)){l=!0,"Food"==t?r.feed(parseFloat(g.rarity)*this.kValueMultiplier):"Cleaning"==t&&r.clean(parseFloat(g.rarity)*this.kValueMultiplier),a.splice(a.indexOf(g),1),this.connections.setData(i,o,"items",JSON.stringify(a)).then(I=>{});break}l||("Food"==t?this.feedText="You have no food":"Cleaning"==t&&(this.cleanText="You have no cleaning products"))})}constructor(t,r,i){this.pet=t,this.connections=r,this.ls=i,this.feedText="Feed",this.patText="Pet",this.cleanText="Clean",this.pageState=Ze,this.kValueMultiplier=10}}return e.\u0275fac=function(t){return new(t||e)(we(ms),we(Br),we(Or))},e.\u0275cmp=Xt({type:e,selectors:[["app-pet-buttons"]],decls:10,vars:3,consts:[[1,"button-container"],[1,"button-clickable",3,"click"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1),Ct("click",function(){return r.feed()}),ce(2,"p"),Re(3),fe()(),ce(4,"div",1),Ct("click",function(){return r.pat()}),ce(5,"p"),Re(6),fe()(),ce(7,"div",1),Ct("click",function(){return r.clean()}),ce(8,"p"),Re(9),fe()()()),2&t&&(xe(3),Zt(r.feedText),xe(3),Zt(r.patText),xe(3),Zt(r.cleanText))},styles:[".button-container[_ngcontent-%COMP%]{aspect-ratio:3/4;height:100%;place-items:left}.button-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0 0 0 5%}.button-clickable[_ngcontent-%COMP%]{aspect-ratio:5/2;width:72%;background-color:var(--neutral-color);display:flex;margin:9% 12%;border:5px solid var(--attention-color);border-radius:16px;align-items:center;justify-content:center;cursor:pointer}.button-clickable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:0;padding:0;font-size:1.5rem}"]}),e})(),up=(()=>{class e{constructor(){this.value=""}updateValue(t){this.value=t.target.value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Xt({type:e,selectors:[["app-text-entry"]],inputs:{inputType:"inputType"},outputs:{value:"value"},decls:2,vars:1,consts:[[1,"component-container"],[1,"entry",3,"type","keyup"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"input",1),Ct("keyup",function(o){return r.updateValue(o)}),fe()()),2&t&&(xe(1),Oi("type",r.inputType||"text"))},styles:[".entry[_ngcontent-%COMP%]{width:100%;height:100%;font-size:1.5rem;border-radius:15px;border:2px #fff solid;background:linear-gradient(to right,var(--attention-color) 49%,rgba(255,255,255,0) 50%);background-size:200%;background-position:100% 0%;transition:all .5s ease}.entry[_ngcontent-%COMP%]:focus{background-position:0% 0%}"]}),e})(),Yl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Xt({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"component-container","centered-parent"],[1,"spinner"]],template:function(t,r){1&t&&(ce(0,"div",0),ft(1,"div",1),fe())},styles:[".spinner[_ngcontent-%COMP%]{height:80%;aspect-ratio:1/1;border-radius:100%;border:4px #fff solid;border-top:4px rgba(255,255,255,0) solid;animation:_ngcontent-%COMP%_spin 1.5s ease infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();function hB(e,n){if(1&e&&(ce(0,"p",3),Re(1),fe()),2&e){const t=It();xe(1),Zt(t.buttonText)}}function pB(e,n){1&e&&ft(0,"app-loading",3)}let ho=(()=>{class e{constructor(){this.possibleStates=Ze,this.onClick=new Fn}getClick(t){this.onClick.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Xt({type:e,selectors:[["app-submit-button"]],inputs:{buttonText:"buttonText",buttonState:"buttonState"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"component-container"],[1,"btn",3,"click"],["class","btn-elem",4,"ngIf"],[1,"btn-elem"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"button",1),Ct("click",function(o){return r.getClick(o)}),gt(2,hB,2,1,"p",2),gt(3,pB,1,0,"app-loading",2),fe()()),2&t&&(xe(2),Ve("ngIf",r.buttonState==r.possibleStates.idle||r.buttonState==r.possibleStates.error),xe(1),Ve("ngIf",r.buttonState==r.possibleStates.loading))},dependencies:[Ci,Yl],styles:[".btn[_ngcontent-%COMP%]{width:100%;height:100%;background:none;border:2px #fff solid;border-radius:15px;font-size:1.25rem;cursor:pointer;background:linear-gradient(to right,var(--attention-color) 49%,rgba(255,255,255,0) 50%);background-size:200%;background-position:100% 0%;transition:all .5s ease}.btn-elem[_ngcontent-%COMP%]{margin:0}.btn[_ngcontent-%COMP%]:hover{background-position:0% 0%}"]}),e})(),gB=(()=>{class e{getPetImage(t){return t<=2?t+"-happy":"locked"}submitPet(t){this.pet.createPet(t,1)}constructor(t){this.pet=t,this.pageState=Ze,this.currentPageState=Ze.loading}}return e.\u0275fac=function(t){return new(t||e)(we(ms))},e.\u0275cmp=Xt({type:e,selectors:[["app-create-pet"]],decls:12,vars:2,consts:[[1,"status-container"],[1,"status-window"],[1,"status-content"],[1,"centered-text","status-text"],[1,"status-text"],["petName",""],[1,"centered","submit-container"],[3,"buttonText","buttonState","click"]],template:function(t,r){if(1&t){const i=Nn();ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),Re(4,"Create Pet"),fe(),ce(5,"div",4)(6,"p"),Re(7,"Name"),fe(),ft(8,"app-text-entry",null,5),fe(),ce(10,"div",6)(11,"app-submit-button",7),Ct("click",function(){Sn(i);const s=Qr(9);return Dn(r.submitPet(s.value))}),fe()()()()()}2&t&&(xe(11),Ve("buttonText","Create")("buttonState",r.pageState.idle))},dependencies:[up,ho],styles:["pets-container[_ngcontent-%COMP%]{width:80%;height:20%;background-color:red;border-color:red;display:flex;flex-direction:row}pets-sprite[_ngcontent-%COMP%]{width:10%;aspect-ratio:3/4 img;aspect-ratio-object-fit:scale-down}.row[_ngcontent-%COMP%]{display:flex}.column[_ngcontent-%COMP%]{flex:33.33%;padding:5px}"]}),e})();function mB(e,n){1&e&&(ce(0,"div"),ft(1,"app-create-pet"),fe())}let yB=(()=>{class e{constructor(t,r,i){this.connections=t,this.storage=r,this.pet=i}ngOnInit(){this.connections.setData(this.storage.email,this.storage.userToken,"lastLogin",(new Date).getTime().toString()).then(t=>{})}}return e.\u0275fac=function(t){return new(t||e)(we(Br),we(Or),we(ms))},e.\u0275cmp=Xt({type:e,selectors:[["app-home"]],decls:11,vars:1,consts:[[4,"ngIf"],[1,"component-container"],[1,"room-container"],[1,"pet-status-container"],[1,"bar-container"],["currentPage","home"]],template:function(t,r){1&t&&(gt(0,mB,2,0,"div",0),ce(1,"div",1)(2,"div",2)(3,"div",3),ft(4,"app-pet-status"),fe(),ce(5,"div",3),ft(6,"app-pet-display"),fe(),ce(7,"div",3),ft(8,"app-pet-buttons"),fe()(),ce(9,"div",4),ft(10,"app-bottom-bar",5),fe()()),2&t&&Ve("ngIf",!r.pet.living)},dependencies:[Ci,Fa,cB,dB,fB,gB],styles:[".room-container[_ngcontent-%COMP%]{width:100%;margin:auto;height:100%;display:flex;flex-direction:row;place-items:center;justify-content:space-evenly}.pet-status-container[_ngcontent-%COMP%]{aspect-ratio:3/4;height:60%;background-color:var(--secondary-color);display:grid;align-items:center;border-radius:16px}"]}),e})();var vB=Y(592);let ZE=(()=>{class e{constructor(t,r){this.connections=t,this.storage=r}validateLogin(t,r){return new Promise((i,o)=>{this.connections.getEncryptionKey().then(s=>{const a=this.encryptText(r,s);this.connections.validateDetails(t,a).then(l=>{l.success?(console.log(l),this.storage.setUserDetails(t,l.payload),i(!0)):i(!1)})})})}createAccount(t,r){return new Promise((i,o)=>{this.connections.getEncryptionKey().then(s=>{const a=this.encryptText(r,s);this.connections.createAccount(t,a).then(l=>{if(l.success){const g=l.payload;this.storage.setUserDetails(t,g),this.connections.setData(t,g,"funds","200").then(I=>{this.connections.setData(t,g,"battlePassScore","20").then(O=>{this.connections.setData(t,g,"items","[]").then(K=>{this.connections.setData(t,g,"previousGachaPulls","[]").then(X=>{i(!0)})})})})}else i(!1)})})})}encryptText(t,r){const i=vB.pki.publicKeyFromPem(r);return window.btoa(i.encrypt(t.toString()))}}return e.\u0275fac=function(t){return new(t||e)(Ue(Br),Ue(Or))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const CB=function(e){return{hidden:e}};let EB=(()=>{class e{constructor(t,r){this.auth=t,this.router=r,this.pageState=Ze,this.formState=Ze.idle}validateAuth(t,r,i){i&&i.preventDefault(),this.formState=Ze.loading,this.auth.validateLogin(t,r).then(o=>{o?(this.formState=Ze.idle,this.router.navigateByUrl("/")):this.formState=Ze.error})}}return e.\u0275fac=function(t){return new(t||e)(we(ZE),we(mn))},e.\u0275cmp=Xt({type:e,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"component-container"],[1,"centered","form-container"],[1,"centered-text"],[1,"centered","form-wrapper",3,"submit"],[1,"entry-container"],["userNameEntry",""],["inputType","password"],["passwordEntry",""],[1,"centered","submit-container"],["buttonText","Login",3,"buttonState","onClick"],[1,"centered","error-container",3,"ngClass"],[1,"error-text"]],template:function(t,r){if(1&t){const i=Nn();ce(0,"div",0)(1,"div",1)(2,"h1",2),Re(3,"Welcome! Please login"),fe(),ce(4,"form",3),Ct("submit",function(s){Sn(i);const a=Qr(9),l=Qr(14);return Dn(r.validateAuth(a.value,l.value,s))}),ce(5,"p"),Re(6,"Email"),fe(),ce(7,"div",4),ft(8,"app-text-entry",null,5),fe(),ce(10,"p"),Re(11,"Password"),fe(),ce(12,"div",4),ft(13,"app-text-entry",6,7),fe(),ce(15,"div",8)(16,"app-submit-button",9),Ct("onClick",function(s){Sn(i);const a=Qr(9),l=Qr(14);return Dn(r.validateAuth(a.value,l.value,s))}),fe()()(),ce(17,"div",10)(18,"h3",11),Re(19,"Oopsie!"),fe(),ce(20,"p",11),Re(21,"Those details aren't correct"),fe()()()()}2&t&&(xe(16),Ve("buttonState",r.formState),xe(1),Ve("ngClass",Cr(2,CB,r.formState!=r.pageState.error)))},dependencies:[ga,up,ho],styles:[".form-container[_ngcontent-%COMP%]{width:85%;height:-moz-fit-content;height:fit-content;max-width:850px;margin-top:2%;background-color:var(--elem-bg);padding:15px}.form-wrapper[_ngcontent-%COMP%]{width:85%;display:grid;grid-template-columns:1fr 1fr;place-items:center}.entry-container[_ngcontent-%COMP%]{width:100%;height:50%}.submit-container[_ngcontent-%COMP%]{width:50%;height:50px;margin:auto;grid-column:1/span 2}.error-container[_ngcontent-%COMP%]{width:75%;margin:15px auto auto;background-color:var(--attention-color);transition:opacity .5s ease}.error-text[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:0}"]}),e})();function SB(e,n){if(1&e){const t=Nn();ce(0,"div",9),Ct("click",function(){const o=Sn(t).$implicit;return Dn(It().buyItem(o))}),ce(1,"div",10),ft(2,"img",11),fe(),ce(3,"div",12)(4,"h2"),Re(5),ce(6,"strong"),Re(7),fe()(),ce(8,"p"),Re(9),fe()()()}if(2&e){const t=n.$implicit;xe(2),Oi("src",t.imgLink,Zi),xe(3),tr("",t.title," - "),xe(2),Zt(t.cost),xe(2),Zt(t.subtitle)}}function DB(e,n){1&e&&(ce(0,"div",16)(1,"h1",17),Re(2,"Loading..."),fe(),ce(3,"div",18),ft(4,"app-loading"),fe()())}function bB(e,n){1&e&&(ce(0,"h1",17),Re(1,"Ooops"),fe())}function AB(e,n){1&e&&(ce(0,"h1",17),Re(1,"Hooray"),fe())}function IB(e,n){if(1&e){const t=Nn();ce(0,"div",16),gt(1,bB,2,0,"h1",19),gt(2,AB,2,0,"h1",19),ce(3,"p",17),Re(4),fe(),ce(5,"div",20)(6,"app-submit-button",21),Ct("onClick",function(){Sn(t);const i=It(2);return Dn(i.currentPageState=i.pageState.idle)}),fe()()()}if(2&e){const t=It(2);xe(1),Ve("ngIf",t.currentPageState==t.pageState.error),xe(1),Ve("ngIf",t.currentPageState==t.pageState.success),xe(2),Zt(t.pageText),xe(2),Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function TB(e,n){if(1&e&&(ce(0,"div",13)(1,"div",14),gt(2,DB,5,0,"div",15),gt(3,IB,7,5,"div",15),fe()()),2&e){const t=It();xe(2),Ve("ngIf",t.currentPageState==t.pageState.loading),xe(1),Ve("ngIf",t.currentPageState==t.pageState.error||t.currentPageState==t.pageState.success)}}let xB=(()=>{class e{constructor(t,r){this.connections=t,this.storage=r,this.storeItems=[],this.pageState=Ze,this.currentPageState=Ze.loading,this.pageText="Idle"}ngOnInit(){this.connections.getData(this.storage.email,this.storage.userToken,"funds").then(t=>{t&&(this.funds=parseInt(t)),this.currentPageState=Ze.idle}),this.storeItems=[{id:"b1",title:"Gacha Pull",subtitle:"Gambling is profitable in the long term",imgLink:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Gachapon.jpg/220px-Gachapon.jpg",cost:10,owned:!1,rarity:"1"},{id:"b2",title:"Premium Food",subtitle:"Its very Tasty",imgLink:"https://www.sbs.com.au/food/sites/sbs.com.au.food/files/styles/full/public/chineseroastedpork-01.jpg?itok=yo9kJSGq",cost:40,owned:!1,rarity:"4"},{id:"b3",title:"Standard Food",subtitle:"Its Alright",imgLink:"https://images.happycow.net/venues/1024/18/68/hcmp186858_764524.jpeg",cost:30,owned:!1,rarity:"3"},{id:"b3",title:"Bad Food",subtitle:"Its only value is its nutrients",imgLink:"https://media.cnn.com/api/v1/images/stellar/prod/190321132023-fishfingers-1.jpg?q=w_5333,h_3000,x_0,y_0,c_fill",cost:10,owned:!1,rarity:"1"},{id:"b3",title:"Cleaning Product",subtitle:"Gets rid of the gunk",imgLink:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJVN-BjIontLWtp9N-vEV0WvdDtYKY5HMnbQ&usqp=CAU",cost:10,owned:!1,rarity:"1"}]}buyItem(t){if(t.cost>this.funds)return this.currentPageState=Ze.error,void(this.pageText="You can't afford this item :(");this.currentPageState=Ze.loading,this.funds=this.funds-t.cost,this.connections.getData(this.storage.email,this.storage.userToken,"items").then(r=>{if(console.log(r),r){let i=JSON.parse(r);i.push(t),this.connections.setData(this.storage.email,this.storage.userToken,"items",JSON.stringify(i)).then(()=>{console.log(i),this.connections.setData(this.storage.email,this.storage.userToken,"funds",JSON.stringify(this.funds)).then(()=>{this.currentPageState=Ze.success,this.pageText="Purchase Successful, You can find this item in your inventory"})})}else this.currentPageState=Ze.error,this.pageText=r})}}return e.\u0275fac=function(t){return new(t||e)(we(Br),we(Or))},e.\u0275cmp=Xt({type:e,selectors:[["app-store"]],decls:11,vars:3,consts:[[1,"component-container"],[1,"window-container","store-container"],[1,"centered","centered-text"],[1,"centered","centered-text",2,"margin-bottom","15px"],[1,"store-list"],["class","store-item",3,"click",4,"ngFor","ngForOf"],[1,"bar-container"],["currentPage","store"],["class","status-container",4,"ngIf"],[1,"store-item",3,"click"],[1,"store-item-thumbnail","store-item-thumbnail-left"],["alt","",1,"store-item-thumbnail-img",3,"src"],[1,"store-item-text"],[1,"status-container"],[1,"status-window"],["class","status-content",4,"ngIf"],[1,"status-content"],[1,"centered-text"],[1,"status-loading"],["class","centered-text",4,"ngIf"],[1,"status-button"],[3,"buttonText","buttonState","onClick"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Re(3,"Store"),fe(),ce(4,"h2",3),Re(5),fe(),ce(6,"div",4),gt(7,SB,10,4,"div",5),fe()(),ce(8,"div",6),ft(9,"app-bottom-bar",7),fe()(),gt(10,TB,4,2,"div",8)),2&t&&(xe(5),tr("Your Funds: ",r.funds,""),xe(2),Ve("ngForOf",r.storeItems),xe(3),Ve("ngIf",r.currentPageState!=r.pageState.idle))},dependencies:[ma,Ci,ho,Yl,Fa],styles:[".store-item[_ngcontent-%COMP%]{width:80%;height:-moz-fit-content;height:fit-content;border-radius:15px;margin:auto auto 15px;border:10px var(--attention-color) solid;background-color:var(--secondary-color);display:flex;flex-direction:row;gap:15px;cursor:pointer}.store-item-thumbnail[_ngcontent-%COMP%]{max-height:200px;width:50%;background:var(--neutral-color);overflow:hidden}.store-item-thumbnail-img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;overflow:hidden}.store-item-thumbnail-left[_ngcontent-%COMP%]{border-radius:0 30px 30px 0}.store-item-thumbnail-right[_ngcontent-%COMP%]{border-radius:30px 0 0 30px}.store-item-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{background-color:#0000004d;padding:5px 15px;border-radius:15px}.store-item-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}"]}),e})();function _B(e,n){if(1&e&&(ce(0,"p",15),Re(1),fe()),2&e){const t=It().$implicit;xe(1),Zt(t.title)}}function wB(e,n){if(1&e&&(ce(0,"p",16),Re(1),fe()),2&e){const t=It().$implicit;xe(1),tr(" ",t.cost," points")}}function NB(e,n){if(1&e&&(ce(0,"div",17)(1,"p",15),Re(2),fe(),ce(3,"p",16),Re(4),fe()()),2&e){const t=It().$implicit;xe(2),Zt(t.title),xe(2),tr("",t.cost," points")}}const JE=function(e,n){return{"battlepass-item-premium":e,"battlepass-item-completed":n}};function RB(e,n){if(1&e){const t=Nn();ce(0,"div",11),Ct("click",function(){const o=Sn(t).$implicit;return Dn(It().verifyClaim(o))}),gt(1,_B,2,1,"p",12),gt(2,wB,2,1,"p",13),gt(3,NB,5,2,"div",14),fe()}if(2&e){const t=n.$implicit;Ve("ngClass",Sf(4,JE,t.isPremium,t.owned)),xe(1),Ve("ngIf",!t.isPremium),xe(1),Ve("ngIf",!t.isPremium),xe(1),Ve("ngIf",t.isPremium)}}function MB(e,n){if(1&e&&(ce(0,"p",15),Re(1),fe()),2&e){const t=It().$implicit;xe(1),Zt(t.title)}}function PB(e,n){if(1&e&&(ce(0,"p",16),Re(1),fe()),2&e){const t=It().$implicit;xe(1),tr(" ",t.cost," points")}}function kB(e,n){if(1&e&&(ce(0,"div",17)(1,"p",15),Re(2),fe(),ce(3,"p",16),Re(4),fe()()),2&e){const t=It().$implicit;xe(2),Zt(t.title),xe(2),tr("",t.cost," points")}}function BB(e,n){if(1&e){const t=Nn();ce(0,"div",11),Ct("click",function(){const o=Sn(t).$implicit;return Dn(It().verifyClaim(o))}),gt(1,MB,2,1,"p",12),gt(2,PB,2,1,"p",13),gt(3,kB,5,2,"div",14),fe()}if(2&e){const t=n.$implicit;Ve("ngClass",Sf(4,JE,t.isPremium,t.owned)),xe(1),Ve("ngIf",!t.isPremium),xe(1),Ve("ngIf",!t.isPremium),xe(1),Ve("ngIf",t.isPremium)}}function OB(e,n){1&e&&(ce(0,"div",21)(1,"h1",5),Re(2,"Loading..."),fe(),ce(3,"div",22),ft(4,"app-loading"),fe()())}function LB(e,n){1&e&&(ce(0,"h1",5),Re(1,"Ooops"),fe())}function FB(e,n){1&e&&(ce(0,"h1",5),Re(1,"Hooray"),fe())}function UB(e,n){if(1&e){const t=Nn();ce(0,"div",21),gt(1,LB,2,0,"h1",23),gt(2,FB,2,0,"h1",23),ce(3,"p",5),Re(4),fe(),ce(5,"div",24)(6,"app-submit-button",25),Ct("onClick",function(){Sn(t);const i=It(2);return Dn(i.currentPageState=i.pageState.idle)}),fe()()()}if(2&e){const t=It(2);xe(1),Ve("ngIf",t.currentPageState==t.pageState.error),xe(1),Ve("ngIf",t.currentPageState==t.pageState.success),xe(2),Zt(t.pageText),xe(2),Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function VB(e,n){if(1&e&&(ce(0,"div",18)(1,"div",19),gt(2,OB,5,0,"div",20),gt(3,UB,7,5,"div",20),fe()()),2&e){const t=It();xe(2),Ve("ngIf",t.currentPageState==t.pageState.loading),xe(1),Ve("ngIf",t.currentPageState==t.pageState.error||t.currentPageState==t.pageState.success)}}let HB=(()=>{class e{constructor(t,r){this.connections=t,this.storage=r,this.pageState=Ze,this.freeItems=[],this.paidItems=[],this.currentPageState=Ze.loading,this.pageText="Idle",this.points=0}ngOnInit(){this.freeItems=[{id:"a1",title:"Dog Toy",subtitle:"How Fun!",imgLink:"https://kmartau.mo.cloudinary.net/04bb6faa-349e-4c47-89f3-d5902a23f66f.jpg?tx=w_600,h_600",cost:10,owned:!1},{id:"a2",title:"Bed",subtitle:"Time for bed",imgLink:"https://www.fancyhomes.com.au/wp/wp-content/uploads/2019/02/TANIKA-7.jpg",cost:20,owned:!1,isPremium:!0},{id:"a3",title:"Play Pit",subtitle:"Weewoo",imgLink:"https://davesonlinedeals.com.au/wp-content/uploads/2019/03/plum-large-octagonal-sandpit.jpg",cost:30,owned:!1}],this.paidItems=[{id:"b1",title:"Gacha Pull",subtitle:"Gambling is profitable in the long term",imgLink:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Gachapon.jpg/220px-Gachapon.jpg",cost:10,owned:!1},{id:"b2",title:"Robot Toy",subtitle:"He is in the rain",imgLink:"https://pbs.twimg.com/media/EFTDraSU8AA98Dn.jpg:large",cost:20,owned:!1,isPremium:!0},{id:"b3",title:"Little Guy",subtitle:"What a silly guy",imgLink:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMHBhQQERIWFRITFxoXGBYVGBcXGRgYGBkaGBkcFRUYHCggHRsmHRcdIjUhJS0rLi4yGSA1ODMvNyo5LisBCgoKDg0OGhAQGysmHyUyLy83LzUyLS8tNS0rKy8vLS0tNjgtLS8tLSstLS0tLS02NS0tLi0vLTUtLTUtLS0rLf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAABQYEBwECAwj/xAA9EAACAQIFAQUECAQFBQAAAAAAAQIDEQQFEiExQQYTUWGBByJxsRQVMkJSkaHBI3KS0WKC4fDxk6KywtL/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAgMEAQUG/8QAKBEBAAICAQMDAwUBAAAAAAAAAAECAxEhBBIxEzJBInGhI1FhwfAz/9oADAMBAAIRAxEAPwDeIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABw3pV3skByCpZ17Rsvymbi63ezXMaC7zjo53UE/K55ZF7S8DnOJVLVOjOTtFV4xipPolOMpRu+ibVzupNrkDzr1o4ek5zkoxXMpNJL4tnocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKV2t9ouGyHFRpQkqtWNVRrU4ptwhpbk1L7OtPT7rd9y6mpfbnS1YzBe7H3lWTlbfburXfNknJ2O1jcuSq2e+0LG5zXbVaWHpP7NKg7St/iqK0m/O6/lKxi8dWxS01atWa8Kk5z/wDJnmk4bq9rX2503tdnFSalH7bfx/5ZbpDbzDV0SOVZFic3f8CjOa/Fa0P65Wj6XJ2r7O8XQw7qTqYaEYq8nOrKKiurlLRZL1IzescTKcUtPiEdlHaGUM0oTxs6+IoUZRl3TqyavDeDUZvS7NJ22va17H0L2fzmnn+VQxNHV3c9Vta0v3ZOLuvimfO+C7Pxxlfu447Buo7qEY1ZNzn92MW4KLbe3PU3x2AxdLF9kqHcw7tQj3cqe94VIe7OMr731Ju73d79SMzE+He2Y8rCACIAAAAAAAAAAAAAAAAAAAAAAAAA6zmoLd2+J2AGuvbfgu+7NUqy5o1lf+WpFxf/AHaTYpXe2eVxzzL1hqkpxpyak9DSb0u6TbT2vZ+iOTeKRuUq07501D7M630fM8RWau4YfTFfilKcFGK820o+pLY/s1FYui8fjZ08VXmlH6NGlRpxnL7MV7uqd3sm7t2d/Eisjy36o7dVqC1S7n34JN3lGM6dRXivty7pyaX4ki2dr8ir9o8bgquFrQ+jwqwq1bydpqnJOm4Wi7tKdTa6W69KMlt33PG2mkapxzqUrh8yWSYPu8bXjqppWrStHvY3smor762Tir9H1ssLH43C9po6E1Wo4dOvVpvVBuUF/ChOE0npfvS3Vvdj0JaUI47PYytGSw0ZrU0npq1HCyi+klGDv4a4+IzWhKdaM4xUnplTlBtLvKcl70U3xJWum9uU7arrNtp1xwj+z+Lo9pMtqwnRgvo9epQlFJaVKk1aVOzdtmmmns+Gens9qywfazMcJKV1enWi+rcopSlL/E1ou+rTfUw+yGUU+ymVSw+Gp4io5zc2qsVG0nGMd6llDStN9nJ82vwTfZfI6uG7U1cXNxcalCMJNdarqSm0l+GMNEU3ykvM0YpjvnXhmyxPpxvyuQANLIAAAAAAAAAAAAAAAAAAAAABj4nEKm9LbTktn4GQR2Y05vfmPw3RDJMxHCeOIm2pYlWs50tMt2nszOePUKEXy3yvmRd9jAedUqWJSacop7uPHp4lOCmXJMxjjbRm9OkR3zpcTzq0o1V7yudqc1UpqSd00mn4p8HY0zHxLJEqtWyyjHNHX7qHfK8e80rXbi2rnjYj85+iZVh5YjEWpQutco94k3J2TqKnzd2V2i04/BuctUeeq/sQuZYGGZYGdCrHVConGS/3w09/Qw3rNbcvQx2i1eGRhcH3eGiqUEqdlpUEtNumlR2scug4yu4tPxszSGc+z3HZPXk8G6koveM6E9Dfhrgmt/NbeZKdieyucVsbGpjcbiqFCLu6axNRzqeVozajF9W9/BdVKK0mN7dyd9LREanf7f3+zbRLZXHThr+L/wBDDwuEeIld7R8fH4f3JeMdMbLhE8NJ33KM+SNdsOQAaWUAAAAAAAAAAAAAAAAAAAAAAABBdq8K55Y5U473Wq3Lj12XnYplNQjRbe8nsoq+3nJ/sjaBSO0mSPCVXVpq9N7tL7j/APn5HpdBmrH6c8b5ZuopM/UkuyucqrSVCo7SirQf4l0XxRZTVcEnNXdl48/l5kj9eYinT0Ks2vGyb/qauW9R0HdfdJ8oY+o1GrLtmWZ08tp3qS3fEVvJ/BfvwVrE9oJY6/d04xcVdarttLndNWfUg4U5Yqbk5X3WqUm2+G238FH5HOE99zgvvxaXxXvJetrepKnQ4q1+rmfwT1F5njhJT7S4eg9NSoozSTaV2t0nz6nStmk60O8pSUaaUZJ7Sb1q8V1V/LpYq+de/mc7riy+zp4ilw91wTdGThlim/vU4QWzV+re/NlHnzMvT9LijLM639/uvy9RkmkRtK5d2pq0Klqv8SPXZKS+FrJ/B/mWrAZpSzCP8Oab6xe0l6M1/Sw6qW34laXw8f0f6HhSqujVUotxkt01yjZl6PFl32cT+Gaua1fPLaYIvIM1WaYS72qR2kvk15P+5KHjXpNLTW3ltrMTG4AARdAAAAAAAAAAAAAAAAAAAAAHWbtE8nzvvsezV0cKCSArmY9mIV5aqb7tvlWvH0XT5GGuyUutWNvKLf7lv07WGhWNNeszVjUWVThpPw19neC+ra8aSm5PRd9Fa7srXfh8jBoNwrxa5TTXxv8A6GVneK+l5pUkuL6V8I7frz6mLho68RFc3a223387L8z2scW9OO7zpitMd3CMzbfNKt+k2uXL9Xu+CUbby+gumhtbt9d/hwtvIhMbPVi5/wA8uiX3n4EvR3yyk7WupK9kr2k+qd36pGLp/wDovy+1zC0pxUntffyXl6GbjcreEx7pOceNSe/HO6V2nZcHGS1FTxyT6pxXk3b/AI9TIzhKhi7raTSkmvxJtP8ANfqkXXz2jqIxfxv/AH2RjFHpep/LxybGfV+ZRkpXi3pla9mm/Pw59DYiZTOzuRPFTVaptC91HrL+0fmXJQSlcw9datsnHn5XYImK8uwAMK8AAAAAAAAAAAAAAAAAAAAAAAAOlZ6aMn4J/I7nWorwa8hA1hg6fe14rot2/CK3bfoeuGkqmPTeybb+75v7/u/me+ZYGpl+B7yUZU6XM03tFp2V3+HfrwRmCzWjSranWgrKXE4J8PjV8j6OclbVm0TDze2YmI0gJYlN30z3/wAD+aViey6aqZRB2s9Ulvovz10+9+ZQcOrwafSLf5Ft7O42nT7PqEqkYyVWT0ylBbNLe32vXgw9Pb9SGjJH0p5e7TpT6RdpfFSct/R/oWqnlUcyrxlP7MOi+9fi78Nv1KjlN8wrOFCSneynptNJPhyS44dvhsXrs1h3hsu0uEo+89p8tbK78OOCPXRq1b1tzG/yl09vpmkxxOvwlYrSrLg5APMaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB1qQVSm4ySaas0900+U14GhO2eFp5d2ir0qEdFJSSte++iEpJN7papceRv0+c8+xP0zOa1S99dWpL4XnK1v8ti7D5QuxIOXdtJvTezS4u79P8r/ACGHko11d2V0nxw+eduCQw1B/UMqi5eJpQX/AEqzIqe8H8C5B9G5Nk9HJMGqVCCjHl9XJ+MpPdszzzw1TvcPGXjFP81c9DGuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY+YYj6LgKlT8EJS/pTf7HzdJuyurWS+XPrz6n0B2zn3fZPFO9r0ai/qi1+5oCSb35JVzY8funTvo3v7Y2sWDoKp7P6kntpxsG34LutP/ALlZe6LDlueUY9iq+Du1XdaFVKS2snBW+K08PnVdXs7QE4NR2tfwfX16HJ63DXzKcdFmt8PovIKvf5Fh5/io03+cEzPNf+zbtlDMMNDBVId1UpxUKfSNSMVayu37yS+D5XgtgEK3reN1cvjtSe2wACSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiu1GUvPez9bCqeh1oadVtVt0+Lq/BrWl7IcTTo2+sIXVkl3N1bzeu/gbfBC+Ot/dC3HmvjjVZaaqeyjHN6fpOGlF7NuNROz5tFKzdul0S2G9j0I0Ep4+vKS6wjCCt/K9T/U2eCMYMcfCc9Vln5a+yv2V0suzOlXWMxEnSqRqKLcEm4SUkpWjw7bmwQCdaxXxCq+S1/dIACSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//2Q==",cost:30,owned:!1}],this.connections.getData(this.storage.email,this.storage.userToken,"battlePassScore").then(t=>{t&&(this.points=parseInt(t)),this.checkClaimedItems().then(()=>{this.currentPageState=Ze.idle})})}checkClaimedItems(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{if(i){let o=JSON.parse(i),s=[];o.forEach(a=>{s.push(a.id)}),this.freeItems.forEach(a=>{s.includes(a.id)&&(a.owned=!0)}),this.paidItems.forEach(a=>{s.includes(a.id)&&(a.owned=!0)}),t()}r()})})}verifyClaim(t){return t.cost>this.points?(this.currentPageState=Ze.error,void(this.pageText="You don't have enough points to claim "+t.title)):t.owned?(this.currentPageState=Ze.error,void(this.pageText="You have already claimed "+t.title)):(t.owned=!0,this.currentPageState=Ze.loading,void this.connections.getData(this.storage.email,this.storage.userToken,"items").then(r=>{if(console.log(r),r){let i=JSON.parse(r);i.push(t),this.connections.setData(this.storage.email,this.storage.userToken,"items",JSON.stringify(i)).then(()=>{console.log(i),this.checkClaimedItems().then(()=>{this.currentPageState=Ze.success,this.pageText="Claim Successfull, You can see your item in the inventory"})})}else this.currentPageState=Ze.error,this.pageText=r}))}}return e.\u0275fac=function(t){return new(t||e)(we(Br),we(Or))},e.\u0275cmp=Xt({type:e,selectors:[["app-battlepass"]],decls:18,vars:4,consts:[[1,"component-container"],[1,"window-container"],[1,"centered","centered-text"],[1,"battlepass-container"],[1,"battlepass-column","battlepass-column-free"],[1,"centered-text"],["class","battlepass-item centered-text",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"battlepass-column"],[1,"bar-container"],["currentPage","battlepass"],["class","status-container",4,"ngIf"],[1,"battlepass-item","centered-text",3,"ngClass","click"],["class","battlepass-item-title",4,"ngIf"],["class","battlepass-item-points",4,"ngIf"],["class","battlepass-item-premium-inner",4,"ngIf"],[1,"battlepass-item-title"],[1,"battlepass-item-points"],[1,"battlepass-item-premium-inner"],[1,"status-container"],[1,"status-window"],["class","status-content",4,"ngIf"],[1,"status-content"],[1,"status-loading"],["class","centered-text",4,"ngIf"],[1,"status-button"],[3,"buttonText","buttonState","onClick"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Re(3,"Battlepass"),fe(),ce(4,"h2",2),Re(5),fe(),ce(6,"div",3)(7,"div",4)(8,"h2",5),Re(9,"Free"),fe(),gt(10,RB,4,7,"div",6),fe(),ce(11,"div",7)(12,"h2",5),Re(13,"Free++"),fe(),gt(14,BB,4,7,"div",6),fe()()(),ce(15,"div",8),ft(16,"app-bottom-bar",9),fe()(),gt(17,VB,4,2,"div",10)),2&t&&(xe(5),tr("You have ",r.points," points"),xe(5),Ve("ngForOf",r.freeItems),xe(4),Ve("ngForOf",r.paidItems),xe(3),Ve("ngIf",r.currentPageState!=r.pageState.idle))},dependencies:[ga,ma,Ci,ho,Yl,Fa],styles:[".battlepass-container[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:row;margin-top:5px}.battlepass-column[_ngcontent-%COMP%]{width:100%}.battlepass-column-free[_ngcontent-%COMP%]{border-right:3px #fff solid}.battlepass-item[_ngcontent-%COMP%]{width:80%;aspect-ratio:4/1;margin:auto auto 10px;height:auto;border:5px var(--attention-color) solid;border-radius:30px;transition:all .5s ease;background:var(--neutral-color)}.battlepass-item-completed[_ngcontent-%COMP%]{background-color:var(--secondary-color)}.battlepass-item-premium[_ngcontent-%COMP%]{width:30%;aspect-ratio:1/1;transform:rotate(45deg);margin-top:50px;margin-bottom:50px;display:grid;place-items:center}.battlepass-item-premium-inner[_ngcontent-%COMP%]{transform:rotate(-45deg)}.battlepass-item-points[_ngcontent-%COMP%]{background-color:#0006;width:-moz-fit-content;width:fit-content;padding:5px;border-radius:15px;margin:15px auto auto}.battlepass-item[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-10px,-10px)}.battlepass-item[_ngcontent-%COMP%]:hover-premium{transform:translate(-10px,-10px) rotate(45deg)!important}.battlepass-item-premium[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-15px,-15px) rotate(45deg)!important}"]}),e})();const lp=["none","rgba(0, 255, 255)","rgba(0, 0, 255)","rgba(255, 132, 0)","rgba(255, 255, 0)","rgba(0, 255, 0)","rgba(255, 0, 255)","rgba(255, 0, 0)"],tS=["none","rgba(132, 255, 255)","rgba(132, 132, 255)","rgba(255, 195, 132)","rgba(255, 255, 132)","rgba(132, 255, 132)","rgba(255, 132, 255)","rgba(255, 132, 132)"],nS=["none","rgba(0, 132, 132)","rgba(0, 0, 132)","rgba(132, 65, 0)","rgba(132, 132, 0)","rgba(0, 132, 0)","rgba(132, 0, 132)","rgba(132, 0, 0)"],jB=[[],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[2,0,0],[2,2,2],[0,0,0]],[[0,0,3],[3,3,3],[0,0,0]],[[4,4],[4,4]],[[0,5,5],[5,5,0],[0,0,0]],[[0,6,0],[6,6,6],[0,0,0]],[[7,7,0],[0,7,7],[0,0,0]]];let rS,iS,bi,ys=(()=>{class e{}return e.SINGLE=100,e.DOUBLE=300,e.TRIPLE=500,e.TETRIS=800,e.SOFT_DROP=1,e.HARD_DROP=2,e})();class jt{}jt[0]=800,jt[1]=720,jt[2]=630,jt[3]=550,jt[4]=470,jt[5]=380,jt[6]=300,jt[7]=220,jt[8]=130,jt[9]=100,jt[10]=80,jt[11]=80,jt[12]=80,jt[13]=70,jt[14]=70,jt[15]=70,jt[16]=50,jt[17]=50,jt[18]=50,jt[19]=30,jt[20]=30;class cp{constructor(n){this.ctx=n,this.spawn()}spawn(){const n=this.randomizeTetrominoType(lp.length-1);this.shape=jB[n],this.color=lp[n],this.colorLighter=tS[n],this.colorDarker=nS[n],this.x=4===n?4:3,this.y=0}add3D(n,t,r){n.fillStyle=this.colorDarker,n.fillRect(t+.9,r,.1,1),n.fillRect(t,r+.9,1,.1),n.fillRect(t+.65,r+.3,.05,.3),n.fillRect(t+.3,r+.6,.4,.05),n.fillStyle=this.colorLighter,n.fillRect(t+.3,r+.3,.05,.3),n.fillRect(t+.3,r+.3,.4,.05),n.fillRect(t,r,.05,1),n.fillRect(t,r,.1,.95),n.fillRect(t,r,1,.05),n.fillRect(t,r,.95,.1)}addNextShadow(n,t,r){n.fillStyle="black",n.fillRect(t,r,1.025,1.025)}draw(){this.shape.forEach((n,t)=>{n.forEach((r,i)=>{if(r>0){this.ctx.fillStyle=this.color;const o=this.x+i,s=this.y+t;this.ctx.fillRect(o,s,1,1),this.add3D(this.ctx,o,s)}})})}drawNext(n){n.clearRect(0,0,n.canvas.width,n.canvas.height),this.shape.forEach((t,r)=>{t.forEach((i,o)=>{i>0&&this.addNextShadow(n,o,r)})}),n.fillStyle=this.color,this.shape.forEach((t,r)=>{t.forEach((i,o)=>{if(i>0){n.fillStyle=this.color;const s=o+.025,a=r+.025;n.fillRect(s,a,.975,.975),this.add3D(n,s,a)}})})}move(n){this.x=n.x,this.y=n.y,this.shape=n.shape}randomizeTetrominoType(n){return Math.floor(Math.random()*n+1)}}class zB{static start(n){const t=function $B(e){return iS=e,rS=(n=1,t=.05,r=220,i=0,o=0,s=.1,a=0,l=1,g=0,I=0,O=0,K=0,X=0,ie=0,le=0,ye=0,Se=0,se=2*Math.PI,Te=44100,Ge=(Zl=>2*Zl*Math.random()-Zl),st=(Zl=>0<Zl?1:-1),Nt=(g*=500*se/Math.pow(Te,2)),Ai=(r*=(1+Ge(t))*se/Te),dp=st(le)*se/4,vs=[],oS=0,sS=0,Lr=0,Va=1,aS=0,uS=0,Rn=0,DO=.5,Ha,fp,hp=bi.createBufferSource())=>{for(i=50+i*Te|0,o=o*Te|0,s=s*Te|0,Se=Se*Te|0,I*=500*se/Math.pow(Te,3),Ha=i+o+s+Se,le*=se/Te,O*=se/Te,K*=Te,X*=Te;Lr<Ha;vs[Lr++]=Rn)++uS>100*ye&&(uS=0,Rn=oS*r*Math.sin(sS*le-dp),Rn=a?1<a?2<a?3<a?4<a?st((Rn/se%1+1)%1-(DO+=1e3*l/Te)%1):Math.sin(Math.pow(Rn%se,3)):Math.max(Math.min(Math.tan(Rn),1),-1):1-(2*Rn/se%2+2)%2:1-4*Math.abs(Math.round(Rn/se)-Rn/se):Math.sin(Rn),5>a&&(Rn=st(Rn)*Math.pow(Math.abs(Rn),l)),Rn*=n*iS*(Lr<i?Lr/i:Lr<i+o?1:Lr<Ha-Se?1-(Lr-i-o)/s:0),Rn=Se?Rn/2+(Se>Lr?0:(Lr<Ha-Se?1:(Lr-Ha)/Se)*vs[Lr-Se]/2):Rn),oS+=1+Ge(ie),sS+=1+Ge(ie),r+=g+=I,Va&&++Va>K&&(Ai+=O,r+=O,Va=0),X&&++aS>X&&(r=Ai,g=Nt,aS=1,Va=Va||1);(fp=bi.createBuffer(1,vs.length,Te)).getChannelData(0).set(vs),hp.buffer=fp,hp.connect(bi.destination),hp.start()},bi=new(window.AudioContext||webkitAudioContext),bi.z=bi.createBufferSource,bi.createBufferSource=(n=bi.z())=>(n.start=n.start||(t=>bi.noteOn(t)),n),rS}(n);return r=>{t(...r)}}}let GB=(()=>{class e{valid(t,r){return t.shape.every((i,o)=>i.every((s,a)=>{let l=t.x+a,g=t.y+o;return this.isEmpty(s)||this.insideWalls(l)&&this.aboveFloor(g)&&this.notOccupied(r,l,g)}))}isEmpty(t){return 0===t}insideWalls(t){return t>=0&&t<10}aboveFloor(t){return t<=20}notOccupied(t,r,i){return t[i]&&0===t[i][r]}rotate(t){let r=JSON.parse(JSON.stringify(t));for(let i=0;i<r.shape.length;++i)for(let o=0;o<i;++o)[r.shape[o][i],r.shape[i][o]]=[r.shape[i][o],r.shape[o][i]];return r.shape.forEach(i=>i.reverse()),r}getLinesClearedPoints(t,r){return(r+1)*(1===t?ys.SINGLE:2===t?ys.DOUBLE:3===t?ys.TRIPLE:4===t?ys.TETRIS:0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const KB=["board"],WB=["next"];function qB(e,n){if(1&e){const t=Nn();ce(0,"button",9),Ct("click",function(){return Sn(t),Dn(It().play())}),Re(1," Play "),fe()}}function QB(e,n){if(1&e){const t=Nn();ce(0,"button",10),Ct("click",function(){return Sn(t),Dn(It().gameOver())}),Re(1," Reset "),fe()}}let YB=(()=>{class e{keyEvent(t){if("Escape"===t.key)this.gameOver();else if(this.moves[t.key]){t.preventDefault();let r=this.moves[t.key](this.piece);if(" "==t.key)for(;this.service.valid(r,this.board);)this.points+=ys.HARD_DROP,this.piece.move(r),r=this.moves.ArrowDown(this.piece);else this.service.valid(r,this.board)&&(this.piece.move(r),"ArrowDown"===t.key&&(this.points+=ys.SOFT_DROP))}}constructor(t,r,i,o){this.service=t,this.storage=r,this.mongo=i,this.pets=o,this.moves={ArrowLeft:s=>({...s,x:s.x-1}),ArrowRight:s=>({...s,x:s.x+1}),ArrowDown:s=>({...s,y:s.y+1}),Space:s=>({...s,y:s.y+1}),ArrowUp:s=>this.service.rotate(s)}}ngOnInit(){this.initBoard(),this.initSound(),this.initNext(),this.resetGame(),this.highScore=0}initSound(){this.playSoundFn=zB.start(.2)}initBoard(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.canvas.width=300,this.ctx.canvas.height=600,this.ctx.scale(30,30)}initNext(){this.mongo.getData(this.storage.email,this.storage.userToken,"THighscore").then(t=>{this.highScore=JSON.parse(t)}),this.ctxNext=this.canvasNext.nativeElement.getContext("2d"),this.ctxNext.canvas.width=122,this.ctxNext.canvas.height=120,this.ctxNext.scale(30,30)}play(){this.gameStarted=!0,this.resetGame(),this.next=new cp(this.ctx),this.piece=new cp(this.ctx),this.next.drawNext(this.ctxNext),this.time.start=performance.now(),this.requestId&&cancelAnimationFrame(this.requestId),this.animate()}resetGame(){this.points=0,this.lines=0,this.level=0,this.board=this.getEmptyBoard(),this.time={start:0,elapsed:0,level:jt[this.level]},this.paused=!1,this.addOutlines()}animate(t=0){this.time.elapsed=t-this.time.start,this.time.elapsed>this.time.level&&(this.time.start=t,!this.drop())?this.gameOver():(this.draw(),this.requestId=requestAnimationFrame(this.animate.bind(this)))}draw(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.piece.draw(),this.drawBoard()}drop(){let t=this.moves.ArrowDown(this.piece);if(this.service.valid(t,this.board))this.piece.move(t);else{if(this.freeze(),this.clearLines(),0===this.piece.y)return!1;this.playSoundFn([,,224,.02,.02,.08,1,1.7,-13.9,,,,,,6.7]),this.piece=this.next,this.next=new cp(this.ctx),this.next.drawNext(this.ctxNext)}return!0}clearLines(){let t=0;this.board.forEach((r,i)=>{r.every(o=>0!==o)&&(t++,this.board.splice(i,1),this.board.unshift(Array(10).fill(0)))}),t>0&&(this.points+=this.service.getLinesClearedPoints(t,this.level),this.lines+=t,this.lines>=10&&(this.level++,this.lines-=10,this.time.level=jt[this.level]))}freeze(){this.piece.shape.forEach((t,r)=>{t.forEach((i,o)=>{i>0&&(this.board[r+this.piece.y][o+this.piece.x]=i)})})}add3D(t,r,i){this.ctx.fillStyle=nS[i],this.ctx.fillRect(t+.9,r,.1,1),this.ctx.fillRect(t,r+.9,1,.1),this.ctx.fillRect(t+.65,r+.3,.05,.3),this.ctx.fillRect(t+.3,r+.6,.4,.05),this.ctx.fillStyle=tS[i],this.ctx.fillRect(t+.3,r+.3,.05,.3),this.ctx.fillRect(t+.3,r+.3,.4,.05),this.ctx.fillRect(t,r,.05,1),this.ctx.fillRect(t,r,.1,.95),this.ctx.fillRect(t,r,1,.05),this.ctx.fillRect(t,r,.95,.1)}addOutlines(){for(let t=1;t<10;t++)this.ctx.fillStyle="#a6c6ff",this.ctx.fillRect(t,0,.025,this.ctx.canvas.height);for(let t=1;t<20;t++)this.ctx.fillStyle="#a6c6ff",this.ctx.fillRect(0,t,this.ctx.canvas.width,.025)}drawBoard(){this.board.forEach((t,r)=>{t.forEach((i,o)=>{i>0&&(this.ctx.fillStyle=lp[i],this.ctx.fillRect(o,r,1,1),this.add3D(o,r,i))})}),this.addOutlines()}pause(){this.gameStarted&&(this.paused?this.animate():(this.ctx.font="1px Arial",this.ctx.fillStyle="black",this.ctx.fillText("GAME PAUSED",1.4,4),cancelAnimationFrame(this.requestId)),this.paused=!this.paused)}gameOver(){if(this.gameStarted=!1,cancelAnimationFrame(this.requestId),this.mongo.getData(this.storage.email,this.storage.userToken,"THighscore").then(r=>{this.points>JSON.parse(r)&&(this.highScore=this.points,this.mongo.setData(this.storage.email,this.storage.userToken,"THighscore",JSON.stringify(this.highScore)).then(()=>{}))}),this.points>1e3){var t=Math.floor(this.points/1e3);this.mongo.getData(this.storage.email,this.storage.userToken,"funds").then(r=>{var i=JSON.parse(r)+t;this.mongo.setData(this.storage.email,this.storage.userToken,"funds",JSON.stringify(i)).then(o=>{}),this.pets.increaseHappiness(Math.floor(i/2))})}this.ctx.fillStyle="black",this.ctx.fillRect(1,3,8,1.2),this.ctx.font="1px Arial",this.ctx.fillStyle="red",this.ctx.fillText("GAME OVER",1.8,4)}getEmptyBoard(){return Array.from({length:20},()=>Array(10).fill(0))}}return e.\u0275fac=function(t){return new(t||e)(we(GB),we(Or),we(Br),we(ms))},e.\u0275cmp=Xt({type:e,selectors:[["game-board"]],viewQuery:function(t,r){if(1&t&&(Rf(KB,7),Rf(WB,7)),2&t){let i;ll(i=cl())&&(r.canvas=i.first),ll(i=cl())&&(r.canvasNext=i.first)}},hostBindings:function(t,r){1&t&&Ct("keydown",function(o){return r.keyEvent(o)},0,K0)},decls:23,vars:8,consts:[[1,"grid"],[1,"game-board"],["board",""],[1,"next"],["next",""],[1,"button-container"],["class","play-button button",3,"click",4,"ngIf"],["class","reset-button button",3,"click",4,"ngIf"],[1,"pause-button","button",3,"click"],[1,"play-button","button",3,"click"],[1,"reset-button","button",3,"click"]],template:function(t,r){1&t&&(ce(0,"div",0),ft(1,"canvas",1,2),ce(3,"div")(4,"h1"),Re(5,"TETRIS"),fe(),ce(6,"p"),Re(7),fe(),ce(8,"p"),Re(9),fe(),ce(10,"p"),Re(11),fe(),ce(12,"p"),Re(13),fe(),ce(14,"p"),Re(15,"Next Block:"),fe(),ft(16,"canvas",3,4),ce(18,"div",5),gt(19,qB,2,0,"button",6),gt(20,QB,2,0,"button",7),ce(21,"button",8),Ct("click",function(){return r.pause()}),Re(22," Pause "),fe()()()()),2&t&&(xe(7),tr("Score: ",r.points,""),xe(2),tr("Lines: ",r.lines,""),xe(2),tr("Level: ",r.level,""),xe(2),tr("High Score: ",r.highScore,""),xe(6),Ve("ngIf",!r.gameStarted),xe(1),Ve("ngIf",r.gameStarted),xe(1),lf("button-disabled",!r.gameStarted))},dependencies:[Ci],styles:['*[_ngcontent-%COMP%] {\n    font-family: "Oxygen";\n}\n\n.grid[_ngcontent-%COMP%] {\n  transform: scale(.8);\n  display: flex;\n  grid-template-columns: 240px 150px;\n}\n\n.right-column[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: right;\n  width: 150px;\n}\n.button-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: left;\n\n  .play-button {\n    background-color: #4caf50;\n  }\n\n  .reset-button {\n    background-color: red;\n  }\n\n  .pause-button {\n    background-color: #4caf50;\n\n    &.button-disabled {\n      background-color: #cccccc;\n    }\n  }\n\n  .button {\n    font-size: 12px;\n    padding: 11px 22px;\n    cursor: pointer;\n    width: 105px; \n    border: 1px solid black;\n  }\n}\n\n.game-board[_ngcontent-%COMP%] {\n  border: solid 2px #fff;\n}']}),e})();function XB(e,n){if(1&e){const t=Nn();ce(0,"div",10),Ct("click",function(){const o=Sn(t).$implicit;return Dn(It(2).openGame(o.slug))}),ce(1,"div",11),ft(2,"img",12),fe(),ce(3,"div",13)(4,"h2",14),Re(5),fe(),ce(6,"p",15),Re(7),fe()()()}if(2&e){const t=n.$implicit;xe(2),Oi("src",t.imgLink,Zi),xe(3),Zt(t.title),xe(2),Zt(t.description)}}function ZB(e,n){if(1&e&&(ce(0,"div",6)(1,"h1",7),Re(2,"Games"),fe(),ce(3,"div",8),gt(4,XB,8,3,"div",9),fe()()),2&e){const t=It();xe(4),Ve("ngForOf",t.gamesList)}}function JB(e,n){1&e&&(ce(0,"div",16),ft(1,"game-board"),fe())}function eO(e,n){if(1&e){const t=Nn();ce(0,"div",17)(1,"img",18),Ct("click",function(){return Sn(t),Dn(It().openGame("none"))}),fe()()}}let tO=(()=>{class e{constructor(t){this.router=t,this.gamesList=[],this.displayedGame="none"}ngOnInit(){this.gamesList=[{title:"Tetris",description:"Stack the Blocks",imgLink:"https://play-lh.googleusercontent.com/za2Nu_qjMw5GzWfbzet4zeiZT1xvJlTRi4NJzGpJWX9grxFAAko5dGBwe7qeqK01THw",slug:"tetris"}]}openGame(t){this.displayedGame=t}}return e.\u0275fac=function(t){return new(t||e)(we(mn))},e.\u0275cmp=Xt({type:e,selectors:[["app-minigames"]],decls:6,vars:3,consts:[[1,"component-container"],["class","window-container",4,"ngIf"],["class","game-container",4,"ngIf"],["class","exit-container",4,"ngIf"],[1,"bar-container"],["currentPage","games"],[1,"window-container"],[1,"centered-text"],[1,"list-container"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"list-thumbnail-container"],["alt","",1,"list-thumbnail",3,"src"],[1,"list-item-text"],[1,"list-title"],[1,"list-subtitle"],[1,"game-container"],[1,"exit-container"],["src","https://www.svgrepo.com/show/506172/cross.svg","alt","",1,"exit-img",3,"click"]],template:function(t,r){1&t&&(ce(0,"div",0),gt(1,ZB,5,1,"div",1),gt(2,JB,2,0,"div",2),gt(3,eO,2,0,"div",3),ce(4,"div",4),ft(5,"app-bottom-bar",5),fe()()),2&t&&(xe(1),Ve("ngIf","none"==r.displayedGame),xe(1),Ve("ngIf","tetris"==r.displayedGame),xe(1),Ve("ngIf","none"!=r.displayedGame))},dependencies:[ma,Ci,YB,Fa],styles:[".list-item[_ngcontent-%COMP%]{cursor:pointer}.game-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:auto}.exit-container[_ngcontent-%COMP%]{aspect-ratio:1/1;height:40px;position:absolute;top:2%;left:2%;filter:invert(100%) sepia(83%) saturate(697%) hue-rotate(294deg) brightness(125%) contrast(105%);cursor:pointer}.exit-img[_ngcontent-%COMP%]{width:100%}"]}),e})();function nO(e,n){if(1&e){const t=Nn();ce(0,"div",8),Ct("click",function(){const o=Sn(t).$implicit;return Dn(It().openElem(o))}),ce(1,"div",9),ft(2,"img",10),fe(),ce(3,"div",11)(4,"h2"),Re(5),fe(),ce(6,"p"),Re(7),fe()()()}if(2&e){const t=n.$implicit;xe(2),Oi("src",t.imgLink,Zi),xe(3),Zt(t.title),xe(2),Zt(t.subtitle)}}function rO(e,n){1&e&&(ce(0,"p",2),Re(1,"There is nothing here :("),fe())}let iO=(()=>{class e{constructor(t,r,i){this.storage=t,this.connections=r,this.router=i,this.inventory=[]}ngOnInit(){this.getInventoryItems()}getInventoryItems(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{i&&(this.inventory=JSON.parse(i))})})}openElem(t){console.log(t.title),"Gacha Pull"==t.title&&this.router.navigateByUrl("gacha")}}return e.\u0275fac=function(t){return new(t||e)(we(Or),we(Br),we(mn))},e.\u0275cmp=Xt({type:e,selectors:[["app-inventory"]],decls:9,vars:2,consts:[[1,"component-container"],[1,"window-container"],[1,"centered-text"],[1,"list-container"],["class","list-item inventory-item",3,"click",4,"ngFor","ngForOf"],["class","centered-text",4,"ngIf"],[1,"bar-container"],["currentPage","inventory"],[1,"list-item","inventory-item",3,"click"],[1,"list-thumbnail-container"],["alt","",1,"list-thumbnail",3,"src"],[1,"list-item-text"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Re(3,"Your Stuff"),fe(),ce(4,"div",3),gt(5,nO,8,3,"div",4),fe(),gt(6,rO,2,0,"p",5),fe(),ce(7,"div",6),ft(8,"app-bottom-bar",7),fe()()),2&t&&(xe(5),Ve("ngForOf",r.inventory),xe(1),Ve("ngIf",0==r.inventory.length))},dependencies:[ma,Ci,Fa],styles:[".inventory-item[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),oO=(()=>{class e{constructor(t){this.router=t,this.currentPageState=Ze.idle}setPage(t){this.router.navigateByUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(we(mn))},e.\u0275cmp=Xt({type:e,selectors:[["app-welcome"]],decls:9,vars:2,consts:[[1,"component-container"],[1,"centered","window-container"],[1,"centered-text"],[1,"button-container"],["buttonText","Make Account",1,"button-elem",3,"buttonState","onClick"],["buttonText","Login",1,"button-elem",3,"buttonState","onClick"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1)(2,"h1",2),Re(3,"Welcome to Gabeogatchi!"),fe(),ce(4,"h2",2),Re(5,"Developed by 3 penguins in a trenchcoat"),fe(),ce(6,"div",3)(7,"app-submit-button",4),Ct("onClick",function(){return r.setPage("create")}),fe(),ce(8,"app-submit-button",5),Ct("onClick",function(){return r.setPage("login")}),fe()()()()),2&t&&(xe(7),Ve("buttonState",r.currentPageState),xe(1),Ve("buttonState",r.currentPageState))},dependencies:[ho],styles:[".button-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;display:flex;flex-direction:row;justify-content:center;gap:45px}.button-elem[_ngcontent-%COMP%]{width:50%;min-width:300px;min-height:50px}.window-container[_ngcontent-%COMP%]{height:auto!important;min-height:0px!important;padding-bottom:450px!important}"]}),e})();const sO=function(e){return{hidden:e}};let aO=(()=>{class e{constructor(t,r){this.auth=t,this.router=r,this.pageState=Ze,this.formState=Ze.idle}validateAuth(t,r,i){i&&i.preventDefault(),this.formState=Ze.loading,this.auth.createAccount(t,r).then(o=>{console.log(o),o?(this.formState=Ze.idle,this.router.navigateByUrl("/")):this.formState=Ze.error})}}return e.\u0275fac=function(t){return new(t||e)(we(ZE),we(mn))},e.\u0275cmp=Xt({type:e,selectors:[["app-create-account"]],decls:22,vars:4,consts:[[1,"component-container"],[1,"centered","form-container"],[1,"centered-text"],[1,"centered","form-wrapper",3,"submit"],[1,"entry-container"],["userNameEntry",""],["inputType","password"],["passwordEntry",""],[1,"centered","submit-container"],["buttonText","Create",3,"buttonState","onClick"],[1,"centered","error-container",3,"ngClass"],[1,"error-text"]],template:function(t,r){if(1&t){const i=Nn();ce(0,"div",0)(1,"div",1)(2,"h1",2),Re(3," Welcome! Please make an Account "),fe(),ce(4,"form",3),Ct("submit",function(s){Sn(i);const a=Qr(9),l=Qr(14);return Dn(r.validateAuth(a.value,l.value,s))}),ce(5,"p"),Re(6,"Email"),fe(),ce(7,"div",4),ft(8,"app-text-entry",null,5),fe(),ce(10,"p"),Re(11,"Password"),fe(),ce(12,"div",4),ft(13,"app-text-entry",6,7),fe(),ce(15,"div",8)(16,"app-submit-button",9),Ct("onClick",function(s){Sn(i);const a=Qr(9),l=Qr(14);return Dn(r.validateAuth(a.value,l.value,s))}),fe()()(),ce(17,"div",10)(18,"h3",11),Re(19,"Oopsie!"),fe(),ce(20,"p",11),Re(21,"This email is already registered with Gabeogatchi"),fe()()()()}2&t&&(xe(16),Ve("buttonState",r.formState),xe(1),Ve("ngClass",Cr(2,sO,r.formState!=r.pageState.error)))},dependencies:[ga,up,ho],styles:[".form-container[_ngcontent-%COMP%]{width:85%;height:-moz-fit-content;height:fit-content;max-width:850px;margin-top:2%;background-color:var(--elem-bg);padding:15px}.form-wrapper[_ngcontent-%COMP%]{width:85%;display:grid;grid-template-columns:1fr 1fr;place-items:center}.entry-container[_ngcontent-%COMP%]{width:100%;height:50%}.submit-container[_ngcontent-%COMP%]{width:50%;height:50px;margin:auto;grid-column:1/span 2}.error-container[_ngcontent-%COMP%]{width:75%;margin:15px auto auto;background-color:var(--attention-color);transition:opacity .5s ease}.error-text[_ngcontent-%COMP%]{margin-bottom:5px;margin-top:0}"]}),e})(),uO=(()=>{class e{checkRecentValues(t,r,i){return!(t.length>r)||t.slice(-r).includes(i)||t.slice(-r).includes(i)}randoItemByCategory(t,r){const i=t.filter(s=>s.rarity===r.toString());return i[Math.floor(Math.random()*i.length)]}generateRandomItem(t){return new Promise((r,i)=>{const o=this.ls.userToken,s=this.ls.email,a=Math.random();return this.mongo.getData(s,o,"previousGachaPulls").then(g=>{let I=JSON.parse(g);this.checkRecentValues(I,89,5)?this.checkRecentValues(I,9,4)&&this.checkRecentValues(I,9,5)?this.checkRecentValues(I,14,3)?this.checkRecentValues(I,75,5)?r(this.randoItemByCategory(t,a<.005?5:a<.055?4:a<.255?3:a<.555?2:1)):r(this.randoItemByCategory(t,a<.25?5:a<.3?4:a<.5?3:a<.8?2:1)):r(this.randoItemByCategory(t,a<.005?5:a<.05?4:3)):r(this.randoItemByCategory(t,a<.005?5:4)):r(this.randoItemByCategory(t,5))}),t[0]})}givePlayerItem(t){const r=this.ls.userToken,i=this.ls.email;return this.mongo.getData(i,r,"items").then(a=>{let l=JSON.parse(a);l.push(t),l=JSON.stringify(l),this.mongo.setData(i,r,"items",l)}),this.mongo.getData(i,r,"previousGachaPulls").then(a=>{let l=JSON.parse(a);l.push(t.rarity),l=JSON.stringify(l),this.mongo.setData(i,r,"previousGachaPulls",l)}),t.title}pullOnBanner(){return new Promise((t,r)=>{this.generateRandomItem(lO).then(i=>{this.givePlayerItem(i),t(i)})})}constructor(t,r){this.ls=t,this.mongo=r}}return e.\u0275fac=function(t){return new(t||e)(Ue(Or),Ue(Br))},e.\u0275prov=ze({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const lO=[{id:"gachaPull",title:"Special Pet Type B",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"5"},{id:"gachaPull",title:"Special Pet Type C ",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"5"},{id:"gachaPull",title:"Very Premium Food 1",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Very Premium Food 2",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Very Premium Cleaning Product 1",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Very Premium Cleaning Product 2",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Food 1 but a lot",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Food 2 but a lot",subtitle:"Food: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 1",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 2",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 3",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Special Costume 4",subtitle:"",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Cleaning Product 3 but a lot",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Cleaning Product 4 but a lot",subtitle:"Cleaning: 20",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"4"},{id:"gachaPull",title:"Premium Food 1",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Food 2",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Food 3",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Food 4",subtitle:"Food: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 1",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 2",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 3",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Premium Cleaning Product 4",subtitle:"Cleaning: 15",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"3"},{id:"gachaPull",title:"Quality Food 1",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 2",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 3",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 4",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Quality Food 5",subtitle:"Food: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Cleaning Product",subtitle:"Cleaning: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Cleaning Product",subtitle:"Cleaning: 10",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"2"},{id:"gachaPull",title:"Low Quality Food",subtitle:"Food: 5",imgLink:"https://mario.wiki.gallery/images/thumb/4/48/Question_Block_Artwork_-_Super_Mario_3D_World.png/200px-Question_Block_Artwork_-_Super_Mario_3D_World.png",cost:0,owned:!1,rarity:"1"}];function cO(e,n){1&e&&(ce(0,"div",8)(1,"h1",9),Re(2,"Loading..."),fe(),ce(3,"div",10),ft(4,"app-loading"),fe()())}function dO(e,n){if(1&e){const t=Nn();ce(0,"div",8)(1,"h1",9),Re(2,"Congratulations! You Win"),fe(),ce(3,"div",11),ft(4,"img",12),ce(5,"h3",13),Re(6),fe()(),ce(7,"div",14)(8,"app-submit-button",15),Ct("onClick",function(){return Sn(t),Dn(It(2).router.navigateByUrl("/inventory"))}),fe()()()}if(2&e){const t=It(2);xe(4),Oi("src",t.pullItem.imgLink,Zi),xe(2),Zt(t.pullItem.title),xe(2),Ve("buttonText","Claim")("buttonState",t.pageState.idle)}}function fO(e,n){1&e&&(ce(0,"h1",9),Re(1,"Ooops"),fe())}function hO(e,n){1&e&&(ce(0,"h1",9),Re(1,"Hooray"),fe())}function pO(e,n){if(1&e){const t=Nn();ce(0,"app-submit-button",15),Ct("onClick",function(){return Sn(t),Dn(It(3).router.navigateByUrl("/"))}),fe()}if(2&e){const t=It(3);Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function gO(e,n){if(1&e){const t=Nn();ce(0,"app-submit-button",15),Ct("onClick",function(){Sn(t);const i=It(3);return Dn(i.currentPageState=i.pageState.idle)}),fe()}if(2&e){const t=It(3);Ve("buttonText","Ok")("buttonState",t.pageState.idle)}}function mO(e,n){if(1&e&&(ce(0,"div",8),gt(1,fO,2,0,"h1",16),gt(2,hO,2,0,"h1",16),ce(3,"p",1),Re(4),fe(),ce(5,"div",14),gt(6,pO,1,2,"app-submit-button",17),gt(7,gO,1,2,"app-submit-button",17),fe()()),2&e){const t=It(2);xe(1),Ve("ngIf",t.currentPageState==t.pageState.error),xe(1),Ve("ngIf",t.currentPageState==t.pageState.success),xe(2),Zt(t.pageText),xe(2),Ve("ngIf","You do not have a gacha pod at the moment, unlock one from the store"==t.pageText),xe(1),Ve("ngIf","You do not have a gacha pod at the moment, unlock one from the store"!=t.pageText)}}function yO(e,n){if(1&e&&(ce(0,"div",5)(1,"div",6),gt(2,cO,5,0,"div",7),gt(3,dO,9,4,"div",7),gt(4,mO,8,5,"div",7),fe()()),2&e){const t=It();xe(2),Ve("ngIf",t.currentPageState==t.pageState.loading),xe(1),Ve("ngIf",null!=t.pullItem),xe(1),Ve("ngIf",t.currentPageState==t.pageState.error||t.currentPageState==t.pageState.success)}}const vO=[{path:"",component:yB},{path:"welcome",component:oO},{path:"create",component:aO},{path:"login",component:EB},{path:"store",component:xB},{path:"battlepass",component:HB},{path:"inventory",component:iO},{path:"games",component:tO},{path:"gacha",component:(()=>{class e{constructor(t,r,i,o){this.storage=t,this.connections=r,this.router=i,this.gacha=o,this.pageState=Ze,this.currentPageState=Ze.loading,this.pageText="Idle",this.pullItem=null}ngOnInit(){this.currentPageState=Ze.idle,this.checkGacha().then(t=>{t?this.currentPageState=Ze.idle:(this.currentPageState=Ze.error,this.pageText="You do not have a gacha pod at the moment, unlock one from the store")})}checkGacha(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{if(i){let o=JSON.parse(i),s=[];o.forEach(a=>{s.push(a.title)}),console.log(s),s.includes("Gacha Pull")?t(!0):t(!1)}else this.currentPageState=Ze.error,this.pageText="Cannot find your inventory",r(!1)})})}removeGacha(){return new Promise((t,r)=>{this.connections.getData(this.storage.email,this.storage.userToken,"items").then(i=>{if(i){let o=JSON.parse(i);for(let s=0;s<o.length;s++)if("Gacha Pull"==o[s].title){o.splice(s,1);break}this.connections.setData(this.storage.email,this.storage.userToken,"items",JSON.stringify(o)).then(s=>{t()})}})})}pullGacha(){this.currentPageState=Ze.loading,this.removeGacha().then(()=>{this.gacha.pullOnBanner().then(t=>{this.currentPageState=Ze.idle,this.pullItem=t})})}}return e.\u0275fac=function(t){return new(t||e)(we(Or),we(Br),we(mn),we(uO))},e.\u0275cmp=Xt({type:e,selectors:[["app-gacha"]],decls:6,vars:1,consts:[[1,"component-container"],[1,"centered-text"],[1,"gacha-container",3,"click"],["src","https://media.istockphoto.com/id/603904698/vector/colorful-bubblegum-gumball-machine.jpg?s=612x612&w=0&k=20&c=ohF_YoN4Y-qD0Zpes_AELRrTPohtkISB5xL2MZnd5mc=","alt","",1,"gacha-img"],["class","status-container",4,"ngIf"],[1,"status-container"],[1,"status-window"],["class","status-content",4,"ngIf"],[1,"status-content"],[1,"centered-text","status-text"],[1,"status-loading"],[1,"win-card"],["alt","",1,"win-img","centered",3,"src"],[1,"centered-text","win-text"],[1,"status-button"],[3,"buttonText","buttonState","onClick"],["class","centered-text status-text",4,"ngIf"],[3,"buttonText","buttonState","onClick",4,"ngIf"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"h1",1),Re(2,"Open Your Gacha here!"),fe(),ce(3,"div",2),Ct("click",function(){return r.pullGacha()}),ft(4,"img",3),fe()(),gt(5,yO,5,3,"div",4)),2&t&&(xe(5),Ve("ngIf",r.currentPageState!=r.pageState.idle||null!=r.pullItem))},dependencies:[Ci,ho,Yl],styles:[".gacha-container[_ngcontent-%COMP%]{background-color:#e1b4d2;padding:15px;border-radius:15px;margin:auto;aspect-ratio:1/1;height:60%;display:grid;place-items:center;transition:all .5s ease;box-shadow:0 0 0 var(--attention-color)}.gacha-container[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translate(-20px,-20px);box-shadow:20px 20px 0 var(--attention-color)}.gacha-img[_ngcontent-%COMP%]{width:100%;height:auto}.status-text[_ngcontent-%COMP%]{font-size:2.5rem}.win-card[_ngcontent-%COMP%]{height:50vh;aspect-ratio:2/3;width:auto;margin:auto auto 15px;background-color:var(--attention-color);border-radius:15px;padding:15px 15px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_danceMonkeyDance 1s linear infinite}.win-img[_ngcontent-%COMP%]{width:100%;height:auto}.win-text[_ngcontent-%COMP%]{font-size:1rem}.status-window[_ngcontent-%COMP%]{margin-top:30px!important}@keyframes _ngcontent-%COMP%_danceMonkeyDance{0%{transform:scale(1) translate(0) rotate(0)}25%{transform:scale(1.06) translate(5px,5px) rotate(5deg)}50%{transform:scale(1) translate(0) rotate(0)}75%{transform:scale(1.06) translate(-5px,-5px) rotate(-5deg)}to{transform:scale(1) translate(0) rotate(0)}}"]}),e})()}];let CO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ni({type:e}),e.\u0275inj=ii({imports:[YE.forRoot(vO),YE]}),e})(),EO=(()=>{class e{constructor(t,r,i){this.storageManager=t,this.router=r,this.connections=i,this.title="Gabeogatchi"}ngOnInit(){if(!this.storageManager.isSignedIn()){let t=window.location.href.split("/");["welcome","login","create"].includes(t[t.length-1])||this.router.navigateByUrl("/welcome")}}}return e.\u0275fac=function(t){return new(t||e)(we(Or),we(mn),we(Br))},e.\u0275cmp=Xt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&ft(0,"router-outlet")},dependencies:[Zh]}),e})(),SO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ni({type:e,bootstrap:[EO]}),e.\u0275inj=ii({imports:[qR,CO,IM]}),e})();KR().bootstrapModule(SO).catch(e=>console.error(e))},298:(_e,Je,Y)=>{var d=Y(659);function u(_,k){d.cipher.registerAlgorithm(_,function(){return new d.aes.Algorithm(_,k)})}Y(311),Y(481),Y(747),_e.exports=d.aes=d.aes||{},d.aes.startEncrypting=function(_,k,D,T){var h=R({key:_,output:D,decrypt:!1,mode:T});return h.start(k),h},d.aes.createEncryptionCipher=function(_,k){return R({key:_,output:null,decrypt:!1,mode:k})},d.aes.startDecrypting=function(_,k,D,T){var h=R({key:_,output:D,decrypt:!0,mode:T});return h.start(k),h},d.aes.createDecryptionCipher=function(_,k){return R({key:_,output:null,decrypt:!0,mode:k})},d.aes.Algorithm=function(_,k){p||C();var D=this;D.name=_,D.mode=new k({blockSize:16,cipher:{encrypt:function(T,h){return G(D._w,T,h,!1)},decrypt:function(T,h){return G(D._w,T,h,!0)}}}),D._init=!1},d.aes.Algorithm.prototype.initialize=function(_){if(!this._init){var D,k=_.key;if("string"!=typeof k||16!==k.length&&24!==k.length&&32!==k.length){if(d.util.isArray(k)&&(16===k.length||24===k.length||32===k.length)){D=k,k=d.util.createBuffer();for(var T=0;T<D.length;++T)k.putByte(D[T])}}else k=d.util.createBuffer(k);if(!d.util.isArray(k)){D=k,k=[];var h=D.length();if(16===h||24===h||32===h)for(h>>>=2,T=0;T<h;++T)k.push(D.getInt32())}if(!d.util.isArray(k)||4!==k.length&&6!==k.length&&8!==k.length)throw new Error("Invalid key parameter.");var A=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=B(k,_.decrypt&&!A),this._init=!0}},d.aes._expandKey=function(_,k){return p||C(),B(_,k)},d.aes._updateBlock=G,u("AES-ECB",d.cipher.modes.ecb),u("AES-CBC",d.cipher.modes.cbc),u("AES-CFB",d.cipher.modes.cfb),u("AES-OFB",d.cipher.modes.ofb),u("AES-CTR",d.cipher.modes.ctr),u("AES-GCM",d.cipher.modes.gcm);var w,M,b,E,f,p=!1,N=4;function C(){p=!0,b=[0,1,2,4,8,16,32,64,128,27,54];for(var _=new Array(256),k=0;k<128;++k)_[k]=k<<1,_[k+128]=k+128<<1^283;for(w=new Array(256),M=new Array(256),E=new Array(4),f=new Array(4),k=0;k<4;++k)E[k]=new Array(256),f[k]=new Array(256);var h,v,A,F,H,W,S,D=0,T=0;for(k=0;k<256;++k){w[D]=F=(F=T^T<<1^T<<2^T<<3^T<<4)>>8^255&F^99,M[F]=D,W=(H=_[F])<<24^F<<16^F<<8^F^H,S=((h=_[D])^(v=_[h])^(A=_[v]))<<24^(D^A)<<16^(D^v^A)<<8^D^h^A;for(var x=0;x<4;++x)E[x][D]=W,f[x][F]=S,W=W<<24|W>>>8,S=S<<24|S>>>8;0===D?D=T=1:(D=h^_[_[_[h^A]]],T^=_[_[T]])}}function B(_,k){for(var T,D=_.slice(0),h=1,v=D.length,F=N*(v+6+1),H=v;H<F;++H)T=D[H-1],H%v==0?(T=w[T>>>16&255]<<24^w[T>>>8&255]<<16^w[255&T]<<8^w[T>>>24]^b[h]<<24,h++):v>6&&H%v==4&&(T=w[T>>>24]<<24^w[T>>>16&255]<<16^w[T>>>8&255]<<8^w[255&T]),D[H]=D[H-v]^T;if(k){for(var W,S=f[0],x=f[1],V=f[2],c=f[3],j=D.slice(0),Q=(H=0,(F=D.length)-N);H<F;H+=N,Q-=N)if(0===H||H===F-N)j[H]=D[Q],j[H+1]=D[Q+3],j[H+2]=D[Q+2],j[H+3]=D[Q+1];else for(var $=0;$<N;++$)j[H+(3&-$)]=S[w[(W=D[Q+$])>>>24]]^x[w[W>>>16&255]]^V[w[W>>>8&255]]^c[w[255&W]];D=j}return D}function G(_,k,D,T){var v,A,F,H,W,S,x,V,c,j,Q,$,h=_.length/4-1;T?(v=f[0],A=f[1],F=f[2],H=f[3],W=M):(v=E[0],A=E[1],F=E[2],H=E[3],W=w),S=k[0]^_[0],x=k[T?3:1]^_[1],V=k[2]^_[2],c=k[T?1:3]^_[3];for(var ne=3,te=1;te<h;++te)j=v[S>>>24]^A[x>>>16&255]^F[V>>>8&255]^H[255&c]^_[++ne],Q=v[x>>>24]^A[V>>>16&255]^F[c>>>8&255]^H[255&S]^_[++ne],$=v[V>>>24]^A[c>>>16&255]^F[S>>>8&255]^H[255&x]^_[++ne],c=v[c>>>24]^A[S>>>16&255]^F[x>>>8&255]^H[255&V]^_[++ne],S=j,x=Q,V=$;D[0]=W[S>>>24]<<24^W[x>>>16&255]<<16^W[V>>>8&255]<<8^W[255&c]^_[++ne],D[T?3:1]=W[x>>>24]<<24^W[V>>>16&255]<<16^W[c>>>8&255]<<8^W[255&S]^_[++ne],D[2]=W[V>>>24]<<24^W[c>>>16&255]<<16^W[S>>>8&255]<<8^W[255&x]^_[++ne],D[T?1:3]=W[c>>>24]<<24^W[S>>>16&255]<<16^W[x>>>8&255]<<8^W[255&V]^_[++ne]}function R(_){var T,D="AES-"+((_=_||{}).mode||"CBC").toUpperCase(),h=(T=_.decrypt?d.cipher.createDecipher(D,_.key):d.cipher.createCipher(D,_.key)).start;return T.start=function(v,A){var F=null;A instanceof d.util.ByteBuffer&&(F=A,A={}),(A=A||{}).output=F,A.iv=v,h.call(T,A)},T}},683:(_e,Je,Y)=>{var d=Y(659);Y(298),Y(266);var u=_e.exports=d.tls;function p(f,C,B){var G=C.entity===d.tls.ConnectionEnd.client;f.read.cipherState={init:!1,cipher:d.cipher.createDecipher("AES-CBC",G?B.keys.server_write_key:B.keys.client_write_key),iv:G?B.keys.server_write_IV:B.keys.client_write_IV},f.write.cipherState={init:!1,cipher:d.cipher.createCipher("AES-CBC",G?B.keys.client_write_key:B.keys.server_write_key),iv:G?B.keys.client_write_IV:B.keys.server_write_IV},f.read.cipherFunction=b,f.write.cipherFunction=N,f.read.macLength=f.write.macLength=B.mac_length,f.read.macFunction=f.write.macFunction=u.hmac_sha1}function N(f,C){var R,B=!1,G=C.macFunction(C.macKey,C.sequenceNumber,f);f.fragment.putBytes(G),C.updateSequenceNumber(),R=f.version.minor===u.Versions.TLS_1_0.minor?C.cipherState.init?null:C.cipherState.iv:d.random.getBytesSync(16),C.cipherState.init=!0;var _=C.cipherState.cipher;return _.start({iv:R}),f.version.minor>=u.Versions.TLS_1_1.minor&&_.output.putBytes(R),_.update(f.fragment),_.finish(w)&&(f.fragment=_.output,f.length=f.fragment.length(),B=!0),B}function w(f,C,B){if(!B){var G=f-C.length()%f;C.fillWithByte(G-1,G)}return!0}function M(f,C,B){var G=!0;if(B){for(var R=C.length(),_=C.last(),k=R-1-_;k<R-1;++k)G=G&&C.at(k)==_;G&&C.truncate(_+1)}return G}function b(f,C){var G,B=!1;G=f.version.minor===u.Versions.TLS_1_0.minor?C.cipherState.init?null:C.cipherState.iv:f.fragment.getBytes(16),C.cipherState.init=!0;var R=C.cipherState.cipher;R.start({iv:G}),R.update(f.fragment),B=R.finish(M);var _=C.macLength,k=d.random.getBytesSync(_),D=R.output.length();D>=_?(f.fragment=R.output.getBytes(D-_),k=R.output.getBytes(_)):f.fragment=R.output.getBytes(),f.fragment=d.util.createBuffer(f.fragment),f.length=f.fragment.length();var T=C.macFunction(C.macKey,C.sequenceNumber,f);return C.updateSequenceNumber(),B=function E(f,C,B){var G=d.hmac.create();return G.start("SHA1",f),G.update(C),C=G.digest().getBytes(),G.start(null,null),G.update(B),C===(B=G.digest().getBytes())}(C.macKey,k,T)&&B,B}u.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=u.BulkCipherAlgorithm.aes,f.cipher_type=u.CipherType.block,f.enc_key_length=16,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=u.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:p},u.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=u.BulkCipherAlgorithm.aes,f.cipher_type=u.CipherType.block,f.enc_key_length=32,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=u.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:p}},877:(_e,Je,Y)=>{var d=Y(659);Y(791);var u=d.asn1;Je.privateKeyValidator={name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Je.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},791:(_e,Je,Y)=>{var d=Y(659);Y(747),Y(78);var u=_e.exports=d.asn1=d.asn1||{};function p(b,E,f){if(f>E){var C=new Error("Too few bytes to parse DER.");throw C.available=b.length(),C.remaining=E,C.requested=f,C}}function w(b,E,f,C){var B;p(b,E,2);var G=b.getByte();E--;var R=192&G,_=31&G;B=b.length();var k=function(b,E){var f=b.getByte();if(E--,128!==f){var C;if(128&f){var G=127&f;p(b,E,G),C=b.getInt(G<<3)}else C=f;if(C<0)throw new Error("Negative length: "+C);return C}}(b,E);if(E-=B-b.length(),void 0!==k&&k>E){if(C.strict){var D=new Error("Too few bytes to read ASN.1 value.");throw D.available=b.length(),D.remaining=E,D.requested=k,D}k=E}var T,h,v=32==(32&G);if(v)if(T=[],void 0===k)for(;;){if(p(b,E,2),b.bytes(2)===String.fromCharCode(0,0)){b.getBytes(2),E-=2;break}B=b.length(),T.push(w(b,E,f+1,C)),E-=B-b.length()}else for(;k>0;)B=b.length(),T.push(w(b,k,f+1,C)),E-=B-b.length(),k-=B-b.length();if(void 0===T&&R===u.Class.UNIVERSAL&&_===u.Type.BITSTRING&&(h=b.bytes(k)),void 0===T&&C.decodeBitStrings&&R===u.Class.UNIVERSAL&&_===u.Type.BITSTRING&&k>1){var A=b.read,F=E,H=0;if(_===u.Type.BITSTRING&&(p(b,E,1),H=b.getByte(),E--),0===H)try{B=b.length();var S=w(b,E,f+1,{strict:!0,decodeBitStrings:!0}),x=B-b.length();E-=x,_==u.Type.BITSTRING&&x++;var V=S.tagClass;x===k&&(V===u.Class.UNIVERSAL||V===u.Class.CONTEXT_SPECIFIC)&&(T=[S])}catch{}void 0===T&&(b.read=A,E=F)}if(void 0===T){if(void 0===k){if(C.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=E}if(_===u.Type.BMPSTRING)for(T="";k>0;k-=2)p(b,E,2),T+=String.fromCharCode(b.getInt16()),E-=2;else T=b.getBytes(k),E-=k}return u.create(R,_,v,T,void 0===h?null:{bitStringContents:h})}u.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},u.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},u.create=function(b,E,f,C,B){if(d.util.isArray(C)){for(var G=[],R=0;R<C.length;++R)void 0!==C[R]&&G.push(C[R]);C=G}var _={tagClass:b,type:E,constructed:f,composed:f||d.util.isArray(C),value:C};return B&&"bitStringContents"in B&&(_.bitStringContents=B.bitStringContents,_.original=u.copy(_)),_},u.copy=function(b,E){var f;if(d.util.isArray(b)){f=[];for(var C=0;C<b.length;++C)f.push(u.copy(b[C],E));return f}return"string"==typeof b?b:(f={tagClass:b.tagClass,type:b.type,constructed:b.constructed,composed:b.composed,value:u.copy(b.value,E)},E&&!E.excludeBitStringContents&&(f.bitStringContents=b.bitStringContents),f)},u.equals=function(b,E,f){if(d.util.isArray(b)){if(!d.util.isArray(E)||b.length!==E.length)return!1;for(var C=0;C<b.length;++C)if(!u.equals(b[C],E[C]))return!1;return!0}if(typeof b!=typeof E)return!1;if("string"==typeof b)return b===E;var B=b.tagClass===E.tagClass&&b.type===E.type&&b.constructed===E.constructed&&b.composed===E.composed&&u.equals(b.value,E.value);return f&&f.includeBitStringContents&&(B=B&&b.bitStringContents===E.bitStringContents),B},u.getBerValueLength=function(b){var E=b.getByte();if(128!==E)return 128&E?b.getInt((127&E)<<3):E},u.fromDer=function(b,E){void 0===E&&(E={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof E&&(E={strict:E,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in E||(E.strict=!0),"parseAllBytes"in E||(E.parseAllBytes=!0),"decodeBitStrings"in E||(E.decodeBitStrings=!0),"string"==typeof b&&(b=d.util.createBuffer(b));var f=b.length(),C=w(b,b.length(),0,E);if(E.parseAllBytes&&0!==b.length()){var B=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw B.byteCount=f,B.remaining=b.length(),B}return C},u.toDer=function(b){var E=d.util.createBuffer(),f=b.tagClass|b.type,C=d.util.createBuffer(),B=!1;if("bitStringContents"in b&&(B=!0,b.original&&(B=u.equals(b,b.original))),B)C.putBytes(b.bitStringContents);else if(b.composed){b.constructed?f|=32:C.putByte(0);for(var G=0;G<b.value.length;++G)void 0!==b.value[G]&&C.putBuffer(u.toDer(b.value[G]))}else if(b.type===u.Type.BMPSTRING)for(G=0;G<b.value.length;++G)C.putInt16(b.value.charCodeAt(G));else b.type===u.Type.INTEGER&&b.value.length>1&&(0===b.value.charCodeAt(0)&&!(128&b.value.charCodeAt(1))||255===b.value.charCodeAt(0)&&128==(128&b.value.charCodeAt(1)))?C.putBytes(b.value.substr(1)):C.putBytes(b.value);if(E.putByte(f),C.length()<=127)E.putByte(127&C.length());else{var R=C.length(),_="";do{_+=String.fromCharCode(255&R),R>>>=8}while(R>0);for(E.putByte(128|_.length),G=_.length-1;G>=0;--G)E.putByte(_.charCodeAt(G))}return E.putBuffer(C),E},u.oidToDer=function(b){var E=b.split("."),f=d.util.createBuffer();f.putByte(40*parseInt(E[0],10)+parseInt(E[1],10));for(var C,B,G,R,_=2;_<E.length;++_){C=!0,B=[],G=parseInt(E[_],10);do{R=127&G,G>>>=7,C||(R|=128),B.push(R),C=!1}while(G>0);for(var k=B.length-1;k>=0;--k)f.putByte(B[k])}return f},u.derToOid=function(b){var E;"string"==typeof b&&(b=d.util.createBuffer(b));var f=b.getByte();E=Math.floor(f/40)+"."+f%40;for(var C=0;b.length()>0;)C<<=7,128&(f=b.getByte())?C+=127&f:(E+="."+(C+f),C=0);return E},u.utcTimeToDate=function(b){var E=new Date,f=parseInt(b.substr(0,2),10);f=f>=50?1900+f:2e3+f;var C=parseInt(b.substr(2,2),10)-1,B=parseInt(b.substr(4,2),10),G=parseInt(b.substr(6,2),10),R=parseInt(b.substr(8,2),10),_=0;if(b.length>11){var k=b.charAt(10),D=10;"+"!==k&&"-"!==k&&(_=parseInt(b.substr(10,2),10),D+=2)}if(E.setUTCFullYear(f,C,B),E.setUTCHours(G,R,_,0),D&&("+"===(k=b.charAt(D))||"-"===k)){var v=60*parseInt(b.substr(D+1,2),10)+parseInt(b.substr(D+4,2),10);v*=6e4,E.setTime("+"===k?+E-v:+E+v)}return E},u.generalizedTimeToDate=function(b){var E=new Date,f=parseInt(b.substr(0,4),10),C=parseInt(b.substr(4,2),10)-1,B=parseInt(b.substr(6,2),10),G=parseInt(b.substr(8,2),10),R=parseInt(b.substr(10,2),10),_=parseInt(b.substr(12,2),10),k=0,D=0,T=!1;"Z"===b.charAt(b.length-1)&&(T=!0);var h=b.length-5,v=b.charAt(h);return"+"!==v&&"-"!==v||(D=60*parseInt(b.substr(h+1,2),10)+parseInt(b.substr(h+4,2),10),D*=6e4,"+"===v&&(D*=-1),T=!0),"."===b.charAt(14)&&(k=1e3*parseFloat(b.substr(14),10)),T?(E.setUTCFullYear(f,C,B),E.setUTCHours(G,R,_,k),E.setTime(+E+D)):(E.setFullYear(f,C,B),E.setHours(G,R,_,k)),E},u.dateToUtcTime=function(b){if("string"==typeof b)return b;var E="",f=[];f.push((""+b.getUTCFullYear()).substr(2)),f.push(""+(b.getUTCMonth()+1)),f.push(""+b.getUTCDate()),f.push(""+b.getUTCHours()),f.push(""+b.getUTCMinutes()),f.push(""+b.getUTCSeconds());for(var C=0;C<f.length;++C)f[C].length<2&&(E+="0"),E+=f[C];return E+"Z"},u.dateToGeneralizedTime=function(b){if("string"==typeof b)return b;var E="",f=[];f.push(""+b.getUTCFullYear()),f.push(""+(b.getUTCMonth()+1)),f.push(""+b.getUTCDate()),f.push(""+b.getUTCHours()),f.push(""+b.getUTCMinutes()),f.push(""+b.getUTCSeconds());for(var C=0;C<f.length;++C)f[C].length<2&&(E+="0"),E+=f[C];return E+"Z"},u.integerToDer=function(b){var E=d.util.createBuffer();if(b>=-128&&b<128)return E.putSignedInt(b,8);if(b>=-32768&&b<32768)return E.putSignedInt(b,16);if(b>=-8388608&&b<8388608)return E.putSignedInt(b,24);if(b>=-2147483648&&b<2147483648)return E.putSignedInt(b,32);var f=new Error("Integer too large; max is 32-bits.");throw f.integer=b,f},u.derToInteger=function(b){"string"==typeof b&&(b=d.util.createBuffer(b));var E=8*b.length();if(E>32)throw new Error("Integer too large; max is 32-bits.");return b.getSignedInt(E)},u.validate=function(b,E,f,C){var B=!1;if((b.tagClass===E.tagClass||typeof E.tagClass>"u")&&(b.type===E.type||typeof E.type>"u"))if(b.constructed===E.constructed||typeof E.constructed>"u"){if(B=!0,E.value&&d.util.isArray(E.value))for(var G=0,R=0;B&&R<E.value.length;++R)B=E.value[R].optional||!1,b.value[G]&&((B=u.validate(b.value[G],E.value[R],f,C))?++G:E.value[R].optional&&(B=!0)),!B&&C&&C.push("["+E.name+'] Tag class "'+E.tagClass+'", type "'+E.type+'" expected value length "'+E.value.length+'", got "'+b.value.length+'"');if(B&&f&&(E.capture&&(f[E.capture]=b.value),E.captureAsn1&&(f[E.captureAsn1]=b),E.captureBitStringContents&&"bitStringContents"in b&&(f[E.captureBitStringContents]=b.bitStringContents),E.captureBitStringValue&&"bitStringContents"in b))if(b.bitStringContents.length<2)f[E.captureBitStringValue]="";else{if(0!==b.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");f[E.captureBitStringValue]=b.bitStringContents.slice(1)}}else C&&C.push("["+E.name+'] Expected constructed "'+E.constructed+'", got "'+b.constructed+'"');else C&&(b.tagClass!==E.tagClass&&C.push("["+E.name+'] Expected tag class "'+E.tagClass+'", got "'+b.tagClass+'"'),b.type!==E.type&&C.push("["+E.name+'] Expected type "'+E.type+'", got "'+b.type+'"'));return B};var M=/[^\\u0000-\\u00ff]/;u.prettyPrint=function(b,E,f){var C="";f=f||2,(E=E||0)>0&&(C+="\n");for(var B="",G=0;G<E*f;++G)B+=" ";switch(C+=B+"Tag: ",b.tagClass){case u.Class.UNIVERSAL:C+="Universal:";break;case u.Class.APPLICATION:C+="Application:";break;case u.Class.CONTEXT_SPECIFIC:C+="Context-Specific:";break;case u.Class.PRIVATE:C+="Private:"}if(b.tagClass===u.Class.UNIVERSAL)switch(C+=b.type,b.type){case u.Type.NONE:C+=" (None)";break;case u.Type.BOOLEAN:C+=" (Boolean)";break;case u.Type.INTEGER:C+=" (Integer)";break;case u.Type.BITSTRING:C+=" (Bit string)";break;case u.Type.OCTETSTRING:C+=" (Octet string)";break;case u.Type.NULL:C+=" (Null)";break;case u.Type.OID:C+=" (Object Identifier)";break;case u.Type.ODESC:C+=" (Object Descriptor)";break;case u.Type.EXTERNAL:C+=" (External or Instance of)";break;case u.Type.REAL:C+=" (Real)";break;case u.Type.ENUMERATED:C+=" (Enumerated)";break;case u.Type.EMBEDDED:C+=" (Embedded PDV)";break;case u.Type.UTF8:C+=" (UTF8)";break;case u.Type.ROID:C+=" (Relative Object Identifier)";break;case u.Type.SEQUENCE:C+=" (Sequence)";break;case u.Type.SET:C+=" (Set)";break;case u.Type.PRINTABLESTRING:C+=" (Printable String)";break;case u.Type.IA5String:C+=" (IA5String (ASCII))";break;case u.Type.UTCTIME:C+=" (UTC time)";break;case u.Type.GENERALIZEDTIME:C+=" (Generalized time)";break;case u.Type.BMPSTRING:C+=" (BMP String)"}else C+=b.type;if(C+="\n",C+=B+"Constructed: "+b.constructed+"\n",b.composed){var R=0,_="";for(G=0;G<b.value.length;++G)void 0!==b.value[G]&&(R+=1,_+=u.prettyPrint(b.value[G],E+1,f),G+1<b.value.length&&(_+=","));C+=B+"Sub values: "+R+_}else{if(C+=B+"Value: ",b.type===u.Type.OID){var k=u.derToOid(b.value);C+=k,d.pki&&d.pki.oids&&k in d.pki.oids&&(C+=" ("+d.pki.oids[k]+") ")}if(b.type===u.Type.INTEGER)try{C+=u.derToInteger(b.value)}catch{C+="0x"+d.util.bytesToHex(b.value)}else if(b.type===u.Type.BITSTRING){if(C+=b.value.length>1?"0x"+d.util.bytesToHex(b.value.slice(1)):"(none)",b.value.length>0){var D=b.value.charCodeAt(0);1==D?C+=" (1 unused bit shown)":D>1&&(C+=" ("+D+" unused bits shown)")}}else if(b.type===u.Type.OCTETSTRING)M.test(b.value)||(C+="("+b.value+") "),C+="0x"+d.util.bytesToHex(b.value);else if(b.type===u.Type.UTF8)try{C+=d.util.decodeUtf8(b.value)}catch(T){if("URI malformed"!==T.message)throw T;C+="0x"+d.util.bytesToHex(b.value)+" (malformed UTF8)"}else b.type===u.Type.PRINTABLESTRING||b.type===u.Type.IA5String?C+=b.value:M.test(b.value)?C+="0x"+d.util.bytesToHex(b.value):C+=0===b.value.length?"[null]":b.value}return C}},20:_e=>{var Je={};_e.exports=Je;var Y={};Je.encode=function(u,p,N){if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');if(void 0!==N&&"number"!=typeof N)throw new TypeError('"maxline" must be a number.');var w="";if(u instanceof Uint8Array){var M=0,b=p.length,E=p.charAt(0),f=[0];for(M=0;M<u.length;++M){for(var C=0,B=u[M];C<f.length;++C)f[C]=(B+=f[C]<<8)%b,B=B/b|0;for(;B>0;)f.push(B%b),B=B/b|0}for(M=0;0===u[M]&&M<u.length-1;++M)w+=E;for(M=f.length-1;M>=0;--M)w+=p[f[M]]}else w=function d(u,p){var N=0,w=p.length,M=p.charAt(0),b=[0];for(N=0;N<u.length();++N){for(var E=0,f=u.at(N);E<b.length;++E)b[E]=(f+=b[E]<<8)%w,f=f/w|0;for(;f>0;)b.push(f%w),f=f/w|0}var C="";for(N=0;0===u.at(N)&&N<u.length()-1;++N)C+=M;for(N=b.length-1;N>=0;--N)C+=p[b[N]];return C}(u,p);if(N){var G=new RegExp(".{1,"+N+"}","g");w=w.match(G).join("\r\n")}return w},Je.decode=function(u,p){if("string"!=typeof u)throw new TypeError('"input" must be a string.');if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');var N=Y[p];if(!N){N=Y[p]=[];for(var w=0;w<p.length;++w)N[p.charCodeAt(w)]=w}u=u.replace(/\s/g,"");var M=p.length,b=p.charAt(0),E=[0];for(w=0;w<u.length;w++){var f=N[u.charCodeAt(w)];if(void 0===f)return;for(var C=0,B=f;C<E.length;++C)E[C]=255&(B+=E[C]*M),B>>=8;for(;B>0;)E.push(255&B),B>>=8}for(var G=0;u[G]===b&&G<u.length-1;++G)E.push(0);return typeof Buffer<"u"?Buffer.from(E.reverse()):new Uint8Array(E.reverse())}},311:(_e,Je,Y)=>{var d=Y(659);Y(747),_e.exports=d.cipher=d.cipher||{},d.cipher.algorithms=d.cipher.algorithms||{},d.cipher.createCipher=function(p,N){var w=p;if("string"==typeof w&&(w=d.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+p);return new d.cipher.BlockCipher({algorithm:w,key:N,decrypt:!1})},d.cipher.createDecipher=function(p,N){var w=p;if("string"==typeof w&&(w=d.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+p);return new d.cipher.BlockCipher({algorithm:w,key:N,decrypt:!0})},d.cipher.registerAlgorithm=function(p,N){p=p.toUpperCase(),d.cipher.algorithms[p]=N},d.cipher.getAlgorithm=function(p){return(p=p.toUpperCase())in d.cipher.algorithms?d.cipher.algorithms[p]:null};var u=d.cipher.BlockCipher=function(p){this.algorithm=p.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=p.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=p.decrypt,this.algorithm.initialize(p)};u.prototype.start=function(p){p=p||{};var N={};for(var w in p)N[w]=p[w];N.decrypt=this._decrypt,this._finish=!1,this._input=d.util.createBuffer(),this.output=p.output||d.util.createBuffer(),this.mode.start(N)},u.prototype.update=function(p){for(p&&this._input.putBuffer(p);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},u.prototype.finish=function(p){p&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(w){return p(this.blockSize,w,!1)},this.mode.unpad=function(w){return p(this.blockSize,w,!0)});var N={};return N.decrypt=this._decrypt,N.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,N)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,N))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,N))}},481:(_e,Je,Y)=>{var d=Y(659);Y(747),d.cipher=d.cipher||{};var u=_e.exports=d.cipher.modes=d.cipher.modes||{};function p(M,b){if("string"==typeof M&&(M=d.util.createBuffer(M)),d.util.isArray(M)&&M.length>4){var E=M;M=d.util.createBuffer();for(var f=0;f<E.length;++f)M.putByte(E[f])}if(M.length()<b)throw new Error("Invalid IV length; got "+M.length()+" bytes and expected "+b+" bytes.");if(!d.util.isArray(M)){var C=[],B=b/4;for(f=0;f<B;++f)C.push(M.getInt32());M=C}return M}function N(M){M[M.length-1]=M[M.length-1]+1&4294967295}function w(M){return[M/4294967296|0,4294967295&M]}u.ecb=function(M){M=M||{},this.name="ECB",this.cipher=M.cipher,this.blockSize=M.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},u.ecb.prototype.start=function(M){},u.ecb.prototype.encrypt=function(M,b,E){if(M.length()<this.blockSize&&!(E&&M.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=M.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._outBlock[f])},u.ecb.prototype.decrypt=function(M,b,E){if(M.length()<this.blockSize&&!(E&&M.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=M.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._outBlock[f])},u.ecb.prototype.pad=function(M,b){var E=M.length()===this.blockSize?this.blockSize:this.blockSize-M.length();return M.fillWithByte(E,E),!0},u.ecb.prototype.unpad=function(M,b){if(b.overflow>0)return!1;var E=M.length(),f=M.at(E-1);return!(f>this.blockSize<<2||(M.truncate(f),0))},u.cbc=function(M){M=M||{},this.name="CBC",this.cipher=M.cipher,this.blockSize=M.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},u.cbc.prototype.start=function(M){if(null===M.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in M))throw new Error("Invalid IV parameter.");this._iv=p(M.iv,this.blockSize),this._prev=this._iv.slice(0)}},u.cbc.prototype.encrypt=function(M,b,E){if(M.length()<this.blockSize&&!(E&&M.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=this._prev[f]^M.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._outBlock[f]);this._prev=this._outBlock},u.cbc.prototype.decrypt=function(M,b,E){if(M.length()<this.blockSize&&!(E&&M.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=M.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)b.putInt32(this._prev[f]^this._outBlock[f]);this._prev=this._inBlock.slice(0)},u.cbc.prototype.pad=function(M,b){var E=M.length()===this.blockSize?this.blockSize:this.blockSize-M.length();return M.fillWithByte(E,E),!0},u.cbc.prototype.unpad=function(M,b){if(b.overflow>0)return!1;var E=M.length(),f=M.at(E-1);return!(f>this.blockSize<<2||(M.truncate(f),0))},u.cfb=function(M){M=M||{},this.name="CFB",this.cipher=M.cipher,this.blockSize=M.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0},u.cfb.prototype.start=function(M){if(!("iv"in M))throw new Error("Invalid IV parameter.");this._iv=p(M.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},u.cfb.prototype.encrypt=function(M,b,E){var f=M.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)this._inBlock[C]=M.getInt32()^this._outBlock[C],b.putInt32(this._inBlock[C]);else{var B=(this.blockSize-f)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialBlock[C]=M.getInt32()^this._outBlock[C],this._partialOutput.putInt32(this._partialBlock[C]);if(B>0)M.read-=this.blockSize;else for(C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!E)return b.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},u.cfb.prototype.decrypt=function(M,b,E){var f=M.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)this._inBlock[C]=M.getInt32(),b.putInt32(this._inBlock[C]^this._outBlock[C]);else{var B=(this.blockSize-f)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialBlock[C]=M.getInt32(),this._partialOutput.putInt32(this._partialBlock[C]^this._outBlock[C]);if(B>0)M.read-=this.blockSize;else for(C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!E)return b.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},u.ofb=function(M){M=M||{},this.name="OFB",this.cipher=M.cipher,this.blockSize=M.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0},u.ofb.prototype.start=function(M){if(!("iv"in M))throw new Error("Invalid IV parameter.");this._iv=p(M.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},u.ofb.prototype.encrypt=function(M,b,E){var f=M.length();if(0===M.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)b.putInt32(M.getInt32()^this._outBlock[C]),this._inBlock[C]=this._outBlock[C];else{var B=(this.blockSize-f)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialOutput.putInt32(M.getInt32()^this._outBlock[C]);if(B>0)M.read-=this.blockSize;else for(C=0;C<this._ints;++C)this._inBlock[C]=this._outBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!E)return b.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},u.ofb.prototype.decrypt=u.ofb.prototype.encrypt,u.ctr=function(M){M=M||{},this.name="CTR",this.cipher=M.cipher,this.blockSize=M.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0},u.ctr.prototype.start=function(M){if(!("iv"in M))throw new Error("Invalid IV parameter.");this._iv=p(M.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},u.ctr.prototype.encrypt=function(M,b,E){var f=M.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var C=0;C<this._ints;++C)b.putInt32(M.getInt32()^this._outBlock[C]);else{var B=(this.blockSize-f)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialOutput.putInt32(M.getInt32()^this._outBlock[C]);if(B>0&&(M.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!E)return b.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}N(this._inBlock)},u.ctr.prototype.decrypt=u.ctr.prototype.encrypt,u.gcm=function(M){M=M||{},this.name="GCM",this.cipher=M.cipher,this.blockSize=M.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=d.util.createBuffer(),this._partialBytes=0,this._R=3774873600},u.gcm.prototype.start=function(M){if(!("iv"in M))throw new Error("Invalid IV parameter.");var E,b=d.util.createBuffer(M.iv);if(this._cipherLength=0,E="additionalData"in M?d.util.createBuffer(M.additionalData):d.util.createBuffer(),this._tagLength="tagLength"in M?M.tagLength:128,this._tag=null,M.decrypt&&(this._tag=d.util.createBuffer(M.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var f=b.length();if(12===f)this._j0=[b.getInt32(),b.getInt32(),b.getInt32(),1];else{for(this._j0=[0,0,0,0];b.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[b.getInt32(),b.getInt32(),b.getInt32(),b.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(w(8*f)))}this._inBlock=this._j0.slice(0),N(this._inBlock),this._partialBytes=0,E=d.util.createBuffer(E),this._aDataLength=w(8*E.length());var C=E.length()%this.blockSize;for(C&&E.fillWithByte(0,this.blockSize-C),this._s=[0,0,0,0];E.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[E.getInt32(),E.getInt32(),E.getInt32(),E.getInt32()])},u.gcm.prototype.encrypt=function(M,b,E){var f=M.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize){for(var C=0;C<this._ints;++C)b.putInt32(this._outBlock[C]^=M.getInt32());this._cipherLength+=this.blockSize}else{var B=(this.blockSize-f)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),C=0;C<this._ints;++C)this._partialOutput.putInt32(M.getInt32()^this._outBlock[C]);if(B<=0||E){if(E){var G=f%this.blockSize;this._cipherLength+=G,this._partialOutput.truncate(this.blockSize-G)}else this._cipherLength+=this.blockSize;for(C=0;C<this._ints;++C)this._outBlock[C]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!E)return M.read-=this.blockSize,b.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;b.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),N(this._inBlock)},u.gcm.prototype.decrypt=function(M,b,E){var f=M.length();if(f<this.blockSize&&!(E&&f>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),N(this._inBlock),this._hashBlock[0]=M.getInt32(),this._hashBlock[1]=M.getInt32(),this._hashBlock[2]=M.getInt32(),this._hashBlock[3]=M.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var C=0;C<this._ints;++C)b.putInt32(this._outBlock[C]^this._hashBlock[C]);this._cipherLength+=f<this.blockSize?f%this.blockSize:this.blockSize},u.gcm.prototype.afterFinish=function(M,b){var E=!0;b.decrypt&&b.overflow&&M.truncate(this.blockSize-b.overflow),this.tag=d.util.createBuffer();var f=this._aDataLength.concat(w(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,f);var C=[];this.cipher.encrypt(this._j0,C);for(var B=0;B<this._ints;++B)this.tag.putInt32(this._s[B]^C[B]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),b.decrypt&&this.tag.bytes()!==this._tag&&(E=!1),E},u.gcm.prototype.multiply=function(M,b){for(var E=[0,0,0,0],f=b.slice(0),C=0;C<128;++C)M[C/32|0]&1<<31-C%32&&(E[0]^=f[0],E[1]^=f[1],E[2]^=f[2],E[3]^=f[3]),this.pow(f,f);return E},u.gcm.prototype.pow=function(M,b){for(var E=1&M[3],f=3;f>0;--f)b[f]=M[f]>>>1|(1&M[f-1])<<31;b[0]=M[0]>>>1,E&&(b[0]^=this._R)},u.gcm.prototype.tableMultiply=function(M){for(var b=[0,0,0,0],E=0;E<32;++E){var B=this._m[E][M[E/8|0]>>>4*(7-E%8)&15];b[0]^=B[0],b[1]^=B[1],b[2]^=B[2],b[3]^=B[3]}return b},u.gcm.prototype.ghash=function(M,b,E){return b[0]^=E[0],b[1]^=E[1],b[2]^=E[2],b[3]^=E[3],this.tableMultiply(b)},u.gcm.prototype.generateHashTable=function(M,b){for(var E=8/b,f=4*E,C=16*E,B=new Array(C),G=0;G<C;++G){var R=[0,0,0,0];R[G/f|0]=1<<b-1<<(f-1-G%f)*b,B[G]=this.generateSubHashTable(this.multiply(R,M),b)}return B},u.gcm.prototype.generateSubHashTable=function(M,b){var E=1<<b,f=E>>>1,C=new Array(E);C[f]=M.slice(0);for(var B=f>>>1;B>0;)this.pow(C[2*B],C[B]=[]),B>>=1;for(B=2;B<f;){for(var G=1;G<B;++G){var R=C[B],_=C[G];C[B+G]=[R[0]^_[0],R[1]^_[1],R[2]^_[2],R[3]^_[3]]}B*=2}for(C[0]=[0,0,0,0],B=f+1;B<E;++B){var k=C[B^f];C[B]=[M[0]^k[0],M[1]^k[1],M[2]^k[2],M[3]^k[3]]}return C}},279:(_e,Je,Y)=>{var d=Y(659);function u(_,k){d.cipher.registerAlgorithm(_,function(){return new d.des.Algorithm(_,k)})}Y(311),Y(481),Y(747),_e.exports=d.des=d.des||{},d.des.startEncrypting=function(_,k,D,T){var h=R({key:_,output:D,decrypt:!1,mode:T||(null===k?"ECB":"CBC")});return h.start(k),h},d.des.createEncryptionCipher=function(_,k){return R({key:_,output:null,decrypt:!1,mode:k})},d.des.startDecrypting=function(_,k,D,T){var h=R({key:_,output:D,decrypt:!0,mode:T||(null===k?"ECB":"CBC")});return h.start(k),h},d.des.createDecryptionCipher=function(_,k){return R({key:_,output:null,decrypt:!0,mode:k})},d.des.Algorithm=function(_,k){var D=this;D.name=_,D.mode=new k({blockSize:8,cipher:{encrypt:function(T,h){return G(D._keys,T,h,!1)},decrypt:function(T,h){return G(D._keys,T,h,!0)}}}),D._init=!1},d.des.Algorithm.prototype.initialize=function(_){if(!this._init){var k=d.util.createBuffer(_.key);if(0===this.name.indexOf("3DES")&&24!==k.length())throw new Error("Invalid Triple-DES key size: "+8*k.length());this._keys=function B(_){for(var re,k=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],D=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],T=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],h=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],v=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],A=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],F=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],H=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],W=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],S=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],x=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],V=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],c=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],j=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Q=_.length()>8?3:1,$=[],ne=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],te=0,de=0;de<Q;de++){var he=_.getInt32(),Ce=_.getInt32();he^=(re=252645135&(he>>>4^Ce))<<4,he^=re=65535&((Ce^=re)>>>-16^he),he^=(re=858993459&(he>>>2^(Ce^=re<<-16)))<<2,he^=re=65535&((Ce^=re)>>>-16^he),he^=(re=1431655765&(he>>>1^(Ce^=re<<-16)))<<1,he^=re=16711935&((Ce^=re)>>>8^he),re=(he^=(re=1431655765&(he>>>1^(Ce^=re<<8)))<<1)<<8|(Ce^=re)>>>20&240,he=Ce<<24|Ce<<8&16711680|Ce>>>8&65280|Ce>>>24&240,Ce=re;for(var Ae=0;Ae<ne.length;++Ae){ne[Ae]?(he=he<<2|he>>>26,Ce=Ce<<2|Ce>>>26):(he=he<<1|he>>>27,Ce=Ce<<1|Ce>>>27);var Le=k[(he&=-15)>>>28]|D[he>>>24&15]|T[he>>>20&15]|h[he>>>16&15]|v[he>>>12&15]|A[he>>>8&15]|F[he>>>4&15],nt=H[(Ce&=-15)>>>28]|W[Ce>>>24&15]|S[Ce>>>20&15]|x[Ce>>>16&15]|V[Ce>>>12&15]|c[Ce>>>8&15]|j[Ce>>>4&15];$[te++]=Le^(re=65535&(nt>>>16^Le)),$[te++]=nt^re<<16}}return $}(k),this._init=!0}},u("DES-ECB",d.cipher.modes.ecb),u("DES-CBC",d.cipher.modes.cbc),u("DES-CFB",d.cipher.modes.cfb),u("DES-OFB",d.cipher.modes.ofb),u("DES-CTR",d.cipher.modes.ctr),u("3DES-ECB",d.cipher.modes.ecb),u("3DES-CBC",d.cipher.modes.cbc),u("3DES-CFB",d.cipher.modes.cfb),u("3DES-OFB",d.cipher.modes.ofb),u("3DES-CTR",d.cipher.modes.ctr);var p=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],N=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],w=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],M=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],b=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],E=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],C=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function G(_,k,D,T){var v,h=32===_.length?3:9;v=3===h?T?[30,-2,-2]:[0,32,2]:T?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var A,F=k[0],H=k[1];F^=(A=252645135&(F>>>4^H))<<4,F^=(A=65535&(F>>>16^(H^=A)))<<16,F^=A=858993459&((H^=A)>>>2^F),F^=A=16711935&((H^=A<<2)>>>8^F),F=(F^=(A=1431655765&(F>>>1^(H^=A<<8)))<<1)<<1|F>>>31,H=(H^=A)<<1|H>>>31;for(var W=0;W<h;W+=3){for(var S=v[W+1],x=v[W+2],V=v[W];V!=S;V+=x){var c=H^_[V],j=(H>>>4|H<<28)^_[V+1];A=F,F=H,H=A^(N[c>>>24&63]|M[c>>>16&63]|E[c>>>8&63]|C[63&c]|p[j>>>24&63]|w[j>>>16&63]|b[j>>>8&63]|f[63&j])}A=F,F=H,H=A}H=H>>>1|H<<31,H^=A=1431655765&((F=F>>>1|F<<31)>>>1^H),H^=(A=16711935&(H>>>8^(F^=A<<1)))<<8,H^=(A=858993459&(H>>>2^(F^=A)))<<2,H^=A=65535&((F^=A)>>>16^H),H^=A=252645135&((F^=A<<16)>>>4^H),D[0]=F^=A<<4,D[1]=H}function R(_){var T,D="DES-"+((_=_||{}).mode||"CBC").toUpperCase(),h=(T=_.decrypt?d.cipher.createDecipher(D,_.key):d.cipher.createCipher(D,_.key)).start;return T.start=function(v,A){var F=null;A instanceof d.util.ByteBuffer&&(F=A,A={}),(A=A||{}).output=F,A.iv=v,h.call(T,A)},T}},187:(_e,Je,Y)=>{var d=Y(659);Y(730),Y(365),Y(985),Y(747);var u=Y(877),p=u.publicKeyValidator,N=u.privateKeyValidator;if(typeof w>"u")var w=d.jsbn.BigInteger;var M=d.util.ByteBuffer,b=typeof Buffer>"u"?Uint8Array:Buffer;d.pki=d.pki||{},_e.exports=d.pki.ed25519=d.ed25519=d.ed25519||{};var E=d.ed25519;function f(ae){var oe=ae.message;if(oe instanceof Uint8Array||oe instanceof b)return oe;var y=ae.encoding;if(void 0===oe){if(!ae.md)throw new TypeError('"options.message" or "options.md" not specified.');oe=ae.md.digest().getBytes(),y="binary"}if("string"==typeof oe&&!y)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof oe){if(typeof Buffer<"u")return Buffer.from(oe,y);oe=new M(oe,y)}else if(!(oe instanceof M))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var m=new b(oe.length()),P=0;P<m.length;++P)m[P]=oe.at(P);return m}E.constants={},E.constants.PUBLIC_KEY_BYTE_LENGTH=32,E.constants.PRIVATE_KEY_BYTE_LENGTH=64,E.constants.SEED_BYTE_LENGTH=32,E.constants.SIGN_BYTE_LENGTH=64,E.constants.HASH_BYTE_LENGTH=64,E.generateKeyPair=function(ae){var oe=(ae=ae||{}).seed;if(void 0===oe)oe=d.random.getBytesSync(E.constants.SEED_BYTE_LENGTH);else if("string"==typeof oe){if(oe.length!==E.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+E.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(oe instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');oe=f({message:oe,encoding:"binary"});for(var y=new b(E.constants.PUBLIC_KEY_BYTE_LENGTH),m=new b(E.constants.PRIVATE_KEY_BYTE_LENGTH),P=0;P<32;++P)m[P]=oe[P];return function v(ae,oe){var m,y=[pe(),pe(),pe(),pe()],P=h(oe,32);for(P[0]&=248,P[31]&=127,P[31]|=64,Ce(y,P),V(ae,y),m=0;m<32;++m)oe[m+32]=ae[m]}(y,m),{publicKey:y,privateKey:m}},E.privateKeyFromAsn1=function(ae){var oe={},y=[];if(!d.asn1.validate(ae,N,oe,y)){var P=new Error("Invalid Key.");throw P.errors=y,P}var q=d.asn1.derToOid(oe.privateKeyOid),J=d.oids.EdDSA25519;if(q!==J)throw new Error('Invalid OID "'+q+'"; OID must be "'+J+'".');return{privateKeyBytes:f({message:d.asn1.fromDer(oe.privateKey).value,encoding:"binary"})}},E.publicKeyFromAsn1=function(ae){var oe={},y=[];if(!d.asn1.validate(ae,p,oe,y)){var P=new Error("Invalid Key.");throw P.errors=y,P}var q=d.asn1.derToOid(oe.publicKeyOid),J=d.oids.EdDSA25519;if(q!==J)throw new Error('Invalid OID "'+q+'"; OID must be "'+J+'".');var ue=oe.ed25519PublicKey;if(ue.length!==E.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return f({message:ue,encoding:"binary"})},E.publicKeyFromPrivateKey=function(ae){var oe=f({message:(ae=ae||{}).privateKey,encoding:"binary"});if(oe.length!==E.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+E.constants.PRIVATE_KEY_BYTE_LENGTH);for(var y=new b(E.constants.PUBLIC_KEY_BYTE_LENGTH),m=0;m<y.length;++m)y[m]=oe[32+m];return y},E.sign=function(ae){var oe=f(ae=ae||{}),y=f({message:ae.privateKey,encoding:"binary"});if(y.length===E.constants.SEED_BYTE_LENGTH)y=E.generateKeyPair({seed:y}).privateKey;else if(y.length!==E.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+E.constants.SEED_BYTE_LENGTH+" or "+E.constants.PRIVATE_KEY_BYTE_LENGTH);var P=new b(E.constants.SIGN_BYTE_LENGTH+oe.length);!function A(ae,oe,y,m){var P,q,J=new Float64Array(64),ue=[pe(),pe(),pe(),pe()],Z=h(m,32);Z[0]&=248,Z[31]&=127,Z[31]|=64;var be=y+64;for(P=0;P<y;++P)ae[64+P]=oe[P];for(P=0;P<32;++P)ae[32+P]=Z[32+P];var He=h(ae.subarray(32),y+32);for(W(He),Ce(ue,He),V(ae,ue),P=32;P<64;++P)ae[P]=m[P];var $e=h(ae,y+64);for(W($e),P=32;P<64;++P)J[P]=0;for(P=0;P<32;++P)J[P]=He[P];for(P=0;P<32;++P)for(q=0;q<32;q++)J[P+q]+=$e[P]*Z[q];H(ae.subarray(32),J)}(P,oe,oe.length,y);for(var q=new b(E.constants.SIGN_BYTE_LENGTH),J=0;J<q.length;++J)q[J]=P[J];return q},E.verify=function(ae){var oe=f(ae=ae||{});if(void 0===ae.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var y=f({message:ae.signature,encoding:"binary"});if(y.length!==E.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+E.constants.SIGN_BYTE_LENGTH);var m=f({message:ae.publicKey,encoding:"binary"});if(m.length!==E.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+E.constants.PUBLIC_KEY_BYTE_LENGTH);var J,P=new b(E.constants.SIGN_BYTE_LENGTH+oe.length),q=new b(E.constants.SIGN_BYTE_LENGTH+oe.length);for(J=0;J<E.constants.SIGN_BYTE_LENGTH;++J)P[J]=y[J];for(J=0;J<oe.length;++J)P[J+E.constants.SIGN_BYTE_LENGTH]=oe[J];return function F(ae,oe,y,m){var P,J=new b(32),ue=[pe(),pe(),pe(),pe()],Z=[pe(),pe(),pe(),pe()];if(-1,y<64||function j(ae,oe){var y=pe(),m=pe(),P=pe(),q=pe(),J=pe(),ue=pe(),Z=pe();return Ae(ae[2],B),function Q(ae,oe){var y;for(y=0;y<16;++y)ae[y]=oe[2*y]+(oe[2*y+1]<<8);ae[15]&=32767}(ae[1],oe),Fe(P,ae[1]),ut(q,P,G),ke(P,P,ae[2]),Ye(q,ae[2],q),Fe(J,q),Fe(ue,J),ut(Z,ue,J),ut(y,Z,P),ut(y,y,q),function $(ae,oe){var m,y=pe();for(m=0;m<16;++m)y[m]=oe[m];for(m=250;m>=0;--m)Fe(y,y),1!==m&&ut(y,y,oe);for(m=0;m<16;++m)ae[m]=y[m]}(y,y),ut(y,y,P),ut(y,y,q),ut(y,y,q),ut(ae[0],y,q),Fe(m,ae[0]),ut(m,m,q),ne(m,P)&&ut(ae[0],ae[0],T),Fe(m,ae[0]),ut(m,m,q),ne(m,P)?-1:(de(ae[0])===oe[31]>>7&&ke(ae[0],C,ae[0]),ut(ae[3],ae[0],ae[1]),0)}(Z,m))return-1;for(P=0;P<y;++P)ae[P]=oe[P];for(P=0;P<32;++P)ae[P+32]=m[P];var be=h(ae,y);if(W(be),he(ue,Z,be),Ce(Z,oe.subarray(32)),S(ue,Z),V(J,ue),y-=64,te(oe,0,J,0)){for(P=0;P<y;++P)ae[P]=0;return-1}for(P=0;P<y;++P)ae[P]=oe[P+64];return y}(q,P,P.length,m)>=0};var C=pe(),B=pe([1]),G=pe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),R=pe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=pe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),k=pe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),T=pe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(ae,oe){var y=d.md.sha512.create(),m=new M(ae);y.update(m.getBytes(oe),"binary");var P=y.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(P,"binary");for(var q=new b(E.constants.HASH_BYTE_LENGTH),J=0;J<64;++J)q[J]=P.charCodeAt(J);return q}function H(ae,oe){var y,m,P,q;for(m=63;m>=32;--m){for(y=0,P=m-32,q=m-12;P<q;++P)oe[P]+=y-16*oe[m]*D[P-(m-32)],oe[P]-=256*(y=oe[P]+128>>8);oe[P]+=y,oe[m]=0}for(y=0,P=0;P<32;++P)oe[P]+=y-(oe[31]>>4)*D[P],y=oe[P]>>8,oe[P]&=255;for(P=0;P<32;++P)oe[P]-=y*D[P];for(m=0;m<32;++m)oe[m+1]+=oe[m]>>8,ae[m]=255&oe[m]}function W(ae){for(var oe=new Float64Array(64),y=0;y<64;++y)oe[y]=ae[y],ae[y]=0;H(ae,oe)}function S(ae,oe){var y=pe(),m=pe(),P=pe(),q=pe(),J=pe(),ue=pe(),Z=pe(),be=pe(),He=pe();ke(y,ae[1],ae[0]),ke(He,oe[1],oe[0]),ut(y,y,He),Ye(m,ae[0],ae[1]),Ye(He,oe[0],oe[1]),ut(m,m,He),ut(P,ae[3],oe[3]),ut(P,P,R),ut(q,ae[2],oe[2]),Ye(q,q,q),ke(J,m,y),ke(ue,q,P),Ye(Z,q,P),Ye(be,m,y),ut(ae[0],J,ue),ut(ae[1],be,Z),ut(ae[2],Z,ue),ut(ae[3],J,be)}function x(ae,oe,y){for(var m=0;m<4;++m)dt(ae[m],oe[m],y)}function V(ae,oe){var y=pe(),m=pe(),P=pe();(function Le(ae,oe){var m,y=pe();for(m=0;m<16;++m)y[m]=oe[m];for(m=253;m>=0;--m)Fe(y,y),2!==m&&4!==m&&ut(y,y,oe);for(m=0;m<16;++m)ae[m]=y[m]})(P,oe[2]),ut(y,oe[0],P),ut(m,oe[1],P),c(ae,m),ae[31]^=de(y)<<7}function c(ae,oe){var y,m,P,q=pe(),J=pe();for(y=0;y<16;++y)J[y]=oe[y];for(nt(J),nt(J),nt(J),m=0;m<2;++m){for(q[0]=J[0]-65517,y=1;y<15;++y)q[y]=J[y]-65535-(q[y-1]>>16&1),q[y-1]&=65535;q[15]=J[15]-32767-(q[14]>>16&1),P=q[15]>>16&1,q[14]&=65535,dt(J,q,1-P)}for(y=0;y<16;y++)ae[2*y]=255&J[y],ae[2*y+1]=J[y]>>8}function ne(ae,oe){var y=new b(32),m=new b(32);return c(y,ae),c(m,oe),te(y,0,m,0)}function te(ae,oe,y,m){return function re(ae,oe,y,m,P){var q,J=0;for(q=0;q<P;++q)J|=ae[oe+q]^y[m+q];return(1&J-1>>>8)-1}(ae,oe,y,m,32)}function de(ae){var oe=new b(32);return c(oe,ae),1&oe[0]}function he(ae,oe,y){var m,P;for(Ae(ae[0],C),Ae(ae[1],B),Ae(ae[2],B),Ae(ae[3],C),P=255;P>=0;--P)x(ae,oe,m=y[P/8|0]>>(7&P)&1),S(oe,ae),S(ae,ae),x(ae,oe,m)}function Ce(ae,oe){var y=[pe(),pe(),pe(),pe()];Ae(y[0],_),Ae(y[1],k),Ae(y[2],B),ut(y[3],_,k),he(ae,y,oe)}function Ae(ae,oe){var y;for(y=0;y<16;y++)ae[y]=0|oe[y]}function nt(ae){var oe,y,m=1;for(oe=0;oe<16;++oe)y=ae[oe]+m+65535,m=Math.floor(y/65536),ae[oe]=y-65536*m;ae[0]+=m-1+37*(m-1)}function dt(ae,oe,y){for(var m,P=~(y-1),q=0;q<16;++q)ae[q]^=m=P&(ae[q]^oe[q]),oe[q]^=m}function pe(ae){var oe,y=new Float64Array(16);if(ae)for(oe=0;oe<ae.length;++oe)y[oe]=ae[oe];return y}function Ye(ae,oe,y){for(var m=0;m<16;++m)ae[m]=oe[m]+y[m]}function ke(ae,oe,y){for(var m=0;m<16;++m)ae[m]=oe[m]-y[m]}function Fe(ae,oe){ut(ae,oe,oe)}function ut(ae,oe,y){var m,P,q=0,J=0,ue=0,Z=0,be=0,He=0,$e=0,ge=0,Be=0,We=0,mt=0,rt=0,kt=0,Ft=0,Dt=0,Bt=0,yn=0,vn=0,Cn=0,xn=0,Mn=0,Gn=0,Kn=0,hr=0,Dr=0,pr=0,br=0,Fr=0,ni=0,Ii=0,po=0,Kt=y[0],Wt=y[1],qt=y[2],Qt=y[3],Tt=y[4],nn=y[5],rn=y[6],on=y[7],sn=y[8],Yt=y[9],an=y[10],un=y[11],wt=y[12],ln=y[13],pt=y[14],Rt=y[15];q+=(m=oe[0])*Kt,J+=m*Wt,ue+=m*qt,Z+=m*Qt,be+=m*Tt,He+=m*nn,$e+=m*rn,ge+=m*on,Be+=m*sn,We+=m*Yt,mt+=m*an,rt+=m*un,kt+=m*wt,Ft+=m*ln,Dt+=m*pt,Bt+=m*Rt,J+=(m=oe[1])*Kt,ue+=m*Wt,Z+=m*qt,be+=m*Qt,He+=m*Tt,$e+=m*nn,ge+=m*rn,Be+=m*on,We+=m*sn,mt+=m*Yt,rt+=m*an,kt+=m*un,Ft+=m*wt,Dt+=m*ln,Bt+=m*pt,yn+=m*Rt,ue+=(m=oe[2])*Kt,Z+=m*Wt,be+=m*qt,He+=m*Qt,$e+=m*Tt,ge+=m*nn,Be+=m*rn,We+=m*on,mt+=m*sn,rt+=m*Yt,kt+=m*an,Ft+=m*un,Dt+=m*wt,Bt+=m*ln,yn+=m*pt,vn+=m*Rt,Z+=(m=oe[3])*Kt,be+=m*Wt,He+=m*qt,$e+=m*Qt,ge+=m*Tt,Be+=m*nn,We+=m*rn,mt+=m*on,rt+=m*sn,kt+=m*Yt,Ft+=m*an,Dt+=m*un,Bt+=m*wt,yn+=m*ln,vn+=m*pt,Cn+=m*Rt,be+=(m=oe[4])*Kt,He+=m*Wt,$e+=m*qt,ge+=m*Qt,Be+=m*Tt,We+=m*nn,mt+=m*rn,rt+=m*on,kt+=m*sn,Ft+=m*Yt,Dt+=m*an,Bt+=m*un,yn+=m*wt,vn+=m*ln,Cn+=m*pt,xn+=m*Rt,He+=(m=oe[5])*Kt,$e+=m*Wt,ge+=m*qt,Be+=m*Qt,We+=m*Tt,mt+=m*nn,rt+=m*rn,kt+=m*on,Ft+=m*sn,Dt+=m*Yt,Bt+=m*an,yn+=m*un,vn+=m*wt,Cn+=m*ln,xn+=m*pt,Mn+=m*Rt,$e+=(m=oe[6])*Kt,ge+=m*Wt,Be+=m*qt,We+=m*Qt,mt+=m*Tt,rt+=m*nn,kt+=m*rn,Ft+=m*on,Dt+=m*sn,Bt+=m*Yt,yn+=m*an,vn+=m*un,Cn+=m*wt,xn+=m*ln,Mn+=m*pt,Gn+=m*Rt,ge+=(m=oe[7])*Kt,Be+=m*Wt,We+=m*qt,mt+=m*Qt,rt+=m*Tt,kt+=m*nn,Ft+=m*rn,Dt+=m*on,Bt+=m*sn,yn+=m*Yt,vn+=m*an,Cn+=m*un,xn+=m*wt,Mn+=m*ln,Gn+=m*pt,Kn+=m*Rt,Be+=(m=oe[8])*Kt,We+=m*Wt,mt+=m*qt,rt+=m*Qt,kt+=m*Tt,Ft+=m*nn,Dt+=m*rn,Bt+=m*on,yn+=m*sn,vn+=m*Yt,Cn+=m*an,xn+=m*un,Mn+=m*wt,Gn+=m*ln,Kn+=m*pt,hr+=m*Rt,We+=(m=oe[9])*Kt,mt+=m*Wt,rt+=m*qt,kt+=m*Qt,Ft+=m*Tt,Dt+=m*nn,Bt+=m*rn,yn+=m*on,vn+=m*sn,Cn+=m*Yt,xn+=m*an,Mn+=m*un,Gn+=m*wt,Kn+=m*ln,hr+=m*pt,Dr+=m*Rt,mt+=(m=oe[10])*Kt,rt+=m*Wt,kt+=m*qt,Ft+=m*Qt,Dt+=m*Tt,Bt+=m*nn,yn+=m*rn,vn+=m*on,Cn+=m*sn,xn+=m*Yt,Mn+=m*an,Gn+=m*un,Kn+=m*wt,hr+=m*ln,Dr+=m*pt,pr+=m*Rt,rt+=(m=oe[11])*Kt,kt+=m*Wt,Ft+=m*qt,Dt+=m*Qt,Bt+=m*Tt,yn+=m*nn,vn+=m*rn,Cn+=m*on,xn+=m*sn,Mn+=m*Yt,Gn+=m*an,Kn+=m*un,hr+=m*wt,Dr+=m*ln,pr+=m*pt,br+=m*Rt,kt+=(m=oe[12])*Kt,Ft+=m*Wt,Dt+=m*qt,Bt+=m*Qt,yn+=m*Tt,vn+=m*nn,Cn+=m*rn,xn+=m*on,Mn+=m*sn,Gn+=m*Yt,Kn+=m*an,hr+=m*un,Dr+=m*wt,pr+=m*ln,br+=m*pt,Fr+=m*Rt,Ft+=(m=oe[13])*Kt,Dt+=m*Wt,Bt+=m*qt,yn+=m*Qt,vn+=m*Tt,Cn+=m*nn,xn+=m*rn,Mn+=m*on,Gn+=m*sn,Kn+=m*Yt,hr+=m*an,Dr+=m*un,pr+=m*wt,br+=m*ln,Fr+=m*pt,ni+=m*Rt,Dt+=(m=oe[14])*Kt,Bt+=m*Wt,yn+=m*qt,vn+=m*Qt,Cn+=m*Tt,xn+=m*nn,Mn+=m*rn,Gn+=m*on,Kn+=m*sn,hr+=m*Yt,Dr+=m*an,pr+=m*un,br+=m*wt,Fr+=m*ln,ni+=m*pt,Ii+=m*Rt,Bt+=(m=oe[15])*Kt,J+=38*(vn+=m*qt),ue+=38*(Cn+=m*Qt),Z+=38*(xn+=m*Tt),be+=38*(Mn+=m*nn),He+=38*(Gn+=m*rn),$e+=38*(Kn+=m*on),ge+=38*(hr+=m*sn),Be+=38*(Dr+=m*Yt),We+=38*(pr+=m*an),mt+=38*(br+=m*un),rt+=38*(Fr+=m*wt),kt+=38*(ni+=m*ln),Ft+=38*(Ii+=m*pt),Dt+=38*(po+=m*Rt),q=(m=(q+=38*(yn+=m*Wt))+(P=1)+65535)-65536*(P=Math.floor(m/65536)),J=(m=J+P+65535)-65536*(P=Math.floor(m/65536)),ue=(m=ue+P+65535)-65536*(P=Math.floor(m/65536)),Z=(m=Z+P+65535)-65536*(P=Math.floor(m/65536)),be=(m=be+P+65535)-65536*(P=Math.floor(m/65536)),He=(m=He+P+65535)-65536*(P=Math.floor(m/65536)),$e=(m=$e+P+65535)-65536*(P=Math.floor(m/65536)),ge=(m=ge+P+65535)-65536*(P=Math.floor(m/65536)),Be=(m=Be+P+65535)-65536*(P=Math.floor(m/65536)),We=(m=We+P+65535)-65536*(P=Math.floor(m/65536)),mt=(m=mt+P+65535)-65536*(P=Math.floor(m/65536)),rt=(m=rt+P+65535)-65536*(P=Math.floor(m/65536)),kt=(m=kt+P+65535)-65536*(P=Math.floor(m/65536)),Ft=(m=Ft+P+65535)-65536*(P=Math.floor(m/65536)),Dt=(m=Dt+P+65535)-65536*(P=Math.floor(m/65536)),Bt=(m=Bt+P+65535)-65536*(P=Math.floor(m/65536)),q=(m=(q+=P-1+37*(P-1))+(P=1)+65535)-65536*(P=Math.floor(m/65536)),J=(m=J+P+65535)-65536*(P=Math.floor(m/65536)),ue=(m=ue+P+65535)-65536*(P=Math.floor(m/65536)),Z=(m=Z+P+65535)-65536*(P=Math.floor(m/65536)),be=(m=be+P+65535)-65536*(P=Math.floor(m/65536)),He=(m=He+P+65535)-65536*(P=Math.floor(m/65536)),$e=(m=$e+P+65535)-65536*(P=Math.floor(m/65536)),ge=(m=ge+P+65535)-65536*(P=Math.floor(m/65536)),Be=(m=Be+P+65535)-65536*(P=Math.floor(m/65536)),We=(m=We+P+65535)-65536*(P=Math.floor(m/65536)),mt=(m=mt+P+65535)-65536*(P=Math.floor(m/65536)),rt=(m=rt+P+65535)-65536*(P=Math.floor(m/65536)),kt=(m=kt+P+65535)-65536*(P=Math.floor(m/65536)),Ft=(m=Ft+P+65535)-65536*(P=Math.floor(m/65536)),Dt=(m=Dt+P+65535)-65536*(P=Math.floor(m/65536)),Bt=(m=Bt+P+65535)-65536*(P=Math.floor(m/65536)),ae[0]=q+=P-1+37*(P-1),ae[1]=J,ae[2]=ue,ae[3]=Z,ae[4]=be,ae[5]=He,ae[6]=$e,ae[7]=ge,ae[8]=Be,ae[9]=We,ae[10]=mt,ae[11]=rt,ae[12]=kt,ae[13]=Ft,ae[14]=Dt,ae[15]=Bt}},659:_e=>{_e.exports={options:{usePureJavaScript:!1}}},32:(_e,Je,Y)=>{var d=Y(659);Y(979),Y(747),(_e.exports=d.hmac=d.hmac||{}).create=function(){var p=null,N=null,w=null,M=null,b={start:function(E,f){if(null!==E)if("string"==typeof E){if(!((E=E.toLowerCase())in d.md.algorithms))throw new Error('Unknown hash algorithm "'+E+'"');N=d.md.algorithms[E].create()}else N=E;if(null===f)f=p;else{if("string"==typeof f)f=d.util.createBuffer(f);else if(d.util.isArray(f)){var C=f;f=d.util.createBuffer();for(var B=0;B<C.length;++B)f.putByte(C[B])}var G=f.length();for(G>N.blockLength&&(N.start(),N.update(f.bytes()),f=N.digest()),w=d.util.createBuffer(),M=d.util.createBuffer(),G=f.length(),B=0;B<G;++B)C=f.at(B),w.putByte(54^C),M.putByte(92^C);if(G<N.blockLength)for(C=N.blockLength-G,B=0;B<C;++B)w.putByte(54),M.putByte(92);p=f,w=w.bytes(),M=M.bytes()}N.start(),N.update(w)},update:function(E){N.update(E)},getMac:function(){var E=N.digest().bytes();return N.start(),N.update(M),N.update(E),N.digest()}};return b.digest=b.getMac,b}},592:(_e,Je,Y)=>{_e.exports=Y(659),Y(298),Y(683),Y(791),Y(311),Y(279),Y(187),Y(32),Y(196),Y(113),Y(752),Y(449),Y(949),Y(604),Y(246),Y(562),Y(422),Y(965),Y(709),Y(473),Y(256),Y(365),Y(209),Y(15),Y(266),Y(747)},730:(_e,Je,Y)=>{var u,d=Y(659);function w(L,U,z){this.data=[],null!=L&&("number"==typeof L?this.fromNumber(L,U,z):this.fromString(L,null==U&&"string"!=typeof L?256:U))}function M(){return new w(null)}function f(L,U,z,ee,ve,De){for(var Ne=16383&U,me=U>>14;--De>=0;){var bt=16383&this.data[L],$t=this.data[L++]>>14,ir=me*bt+$t*Ne;ve=((bt=Ne*bt+((16383&ir)<<14)+z.data[ee]+ve)>>28)+(ir>>14)+me*$t,z.data[ee++]=268435455&bt}return ve}_e.exports=d.jsbn=d.jsbn||{},d.jsbn.BigInteger=w,typeof navigator>"u"?(w.prototype.am=f,u=28):"Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function E(L,U,z,ee,ve,De){for(var Ne=32767&U,me=U>>15;--De>=0;){var bt=32767&this.data[L],$t=this.data[L++]>>15,ir=me*bt+$t*Ne;ve=((bt=Ne*bt+((32767&ir)<<15)+z.data[ee]+(1073741823&ve))>>>30)+(ir>>>15)+me*$t+(ve>>>30),z.data[ee++]=1073741823&bt}return ve},u=30):"Netscape"!=navigator.appName?(w.prototype.am=function b(L,U,z,ee,ve,De){for(;--De>=0;){var Ne=U*this.data[L++]+z.data[ee]+ve;ve=Math.floor(Ne/67108864),z.data[ee++]=67108863&Ne}return ve},u=26):(w.prototype.am=f,u=28),w.prototype.DB=u,w.prototype.DM=(1<<u)-1,w.prototype.DV=1<<u,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-u,w.prototype.F2=2*u-52;var R,_,G=new Array;for(R="0".charCodeAt(0),_=0;_<=9;++_)G[R++]=_;for(R="a".charCodeAt(0),_=10;_<36;++_)G[R++]=_;for(R="A".charCodeAt(0),_=10;_<36;++_)G[R++]=_;function k(L){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(L)}function D(L,U){return G[L.charCodeAt(U)]??-1}function v(L){var U=M();return U.fromInt(L),U}function V(L){var z,U=1;return 0!=(z=L>>>16)&&(L=z,U+=16),0!=(z=L>>8)&&(L=z,U+=8),0!=(z=L>>4)&&(L=z,U+=4),0!=(z=L>>2)&&(L=z,U+=2),0!=(z=L>>1)&&(L=z,U+=1),U}function Ae(L){this.m=L}function Fe(L){this.m=L,this.mp=L.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<L.DB-15)-1,this.mt2=2*L.t}function yn(L,U){return L&U}function Cn(L,U){return L|U}function Mn(L,U){return L^U}function Kn(L,U){return L&~U}function Fr(L){if(0==L)return-1;var U=0;return 65535&L||(L>>=16,U+=16),255&L||(L>>=8,U+=8),15&L||(L>>=4,U+=4),3&L||(L>>=2,U+=2),1&L||++U,U}function Ii(L){for(var U=0;0!=L;)L&=L-1,++U;return U}function pt(){}function Rt(L){return L}function Ti(L){this.r2=M(),this.q3=M(),w.ONE.dlShiftTo(2*L.t,this.r2),this.mu=this.r2.divide(L),this.m=L}Ae.prototype.convert=function Le(L){return L.s<0||L.compareTo(this.m)>=0?L.mod(this.m):L},Ae.prototype.revert=function nt(L){return L},Ae.prototype.reduce=function dt(L){L.divRemTo(this.m,null,L)},Ae.prototype.mulTo=function pe(L,U,z){L.multiplyTo(U,z),this.reduce(z)},Ae.prototype.sqrTo=function Ye(L,U){L.squareTo(U),this.reduce(U)},Fe.prototype.convert=function ut(L){var U=M();return L.abs().dlShiftTo(this.m.t,U),U.divRemTo(this.m,null,U),L.s<0&&U.compareTo(w.ZERO)>0&&this.m.subTo(U,U),U},Fe.prototype.revert=function ae(L){var U=M();return L.copyTo(U),this.reduce(U),U},Fe.prototype.reduce=function oe(L){for(;L.t<=this.mt2;)L.data[L.t++]=0;for(var U=0;U<this.m.t;++U){var z=32767&L.data[U],ee=z*this.mpl+((z*this.mph+(L.data[U]>>15)*this.mpl&this.um)<<15)&L.DM;for(L.data[z=U+this.m.t]+=this.m.am(0,ee,L,U,0,this.m.t);L.data[z]>=L.DV;)L.data[z]-=L.DV,L.data[++z]++}L.clamp(),L.drShiftTo(this.m.t,L),L.compareTo(this.m)>=0&&L.subTo(this.m,L)},Fe.prototype.mulTo=function m(L,U,z){L.multiplyTo(U,z),this.reduce(z)},Fe.prototype.sqrTo=function y(L,U){L.squareTo(U),this.reduce(U)},w.prototype.copyTo=function T(L){for(var U=this.t-1;U>=0;--U)L.data[U]=this.data[U];L.t=this.t,L.s=this.s},w.prototype.fromInt=function h(L){this.t=1,this.s=L<0?-1:0,L>0?this.data[0]=L:L<-1?this.data[0]=L+this.DV:this.t=0},w.prototype.fromString=function A(L,U){var z;if(16==U)z=4;else if(8==U)z=3;else if(256==U)z=8;else if(2==U)z=1;else if(32==U)z=5;else{if(4!=U)return void this.fromRadix(L,U);z=2}this.t=0,this.s=0;for(var ee=L.length,ve=!1,De=0;--ee>=0;){var Ne=8==z?255&L[ee]:D(L,ee);Ne<0?"-"==L.charAt(ee)&&(ve=!0):(ve=!1,0==De?this.data[this.t++]=Ne:De+z>this.DB?(this.data[this.t-1]|=(Ne&(1<<this.DB-De)-1)<<De,this.data[this.t++]=Ne>>this.DB-De):this.data[this.t-1]|=Ne<<De,(De+=z)>=this.DB&&(De-=this.DB))}8==z&&128&L[0]&&(this.s=-1,De>0&&(this.data[this.t-1]|=(1<<this.DB-De)-1<<De)),this.clamp(),ve&&w.ZERO.subTo(this,this)},w.prototype.clamp=function F(){for(var L=this.s&this.DM;this.t>0&&this.data[this.t-1]==L;)--this.t},w.prototype.dlShiftTo=function j(L,U){var z;for(z=this.t-1;z>=0;--z)U.data[z+L]=this.data[z];for(z=L-1;z>=0;--z)U.data[z]=0;U.t=this.t+L,U.s=this.s},w.prototype.drShiftTo=function Q(L,U){for(var z=L;z<this.t;++z)U.data[z-L]=this.data[z];U.t=Math.max(this.t-L,0),U.s=this.s},w.prototype.lShiftTo=function $(L,U){var me,z=L%this.DB,ee=this.DB-z,ve=(1<<ee)-1,De=Math.floor(L/this.DB),Ne=this.s<<z&this.DM;for(me=this.t-1;me>=0;--me)U.data[me+De+1]=this.data[me]>>ee|Ne,Ne=(this.data[me]&ve)<<z;for(me=De-1;me>=0;--me)U.data[me]=0;U.data[De]=Ne,U.t=this.t+De+1,U.s=this.s,U.clamp()},w.prototype.rShiftTo=function ne(L,U){U.s=this.s;var z=Math.floor(L/this.DB);if(z>=this.t)U.t=0;else{var ee=L%this.DB,ve=this.DB-ee,De=(1<<ee)-1;U.data[0]=this.data[z]>>ee;for(var Ne=z+1;Ne<this.t;++Ne)U.data[Ne-z-1]|=(this.data[Ne]&De)<<ve,U.data[Ne-z]=this.data[Ne]>>ee;ee>0&&(U.data[this.t-z-1]|=(this.s&De)<<ve),U.t=this.t-z,U.clamp()}},w.prototype.subTo=function te(L,U){for(var z=0,ee=0,ve=Math.min(L.t,this.t);z<ve;)ee+=this.data[z]-L.data[z],U.data[z++]=ee&this.DM,ee>>=this.DB;if(L.t<this.t){for(ee-=L.s;z<this.t;)ee+=this.data[z],U.data[z++]=ee&this.DM,ee>>=this.DB;ee+=this.s}else{for(ee+=this.s;z<L.t;)ee-=L.data[z],U.data[z++]=ee&this.DM,ee>>=this.DB;ee-=L.s}U.s=ee<0?-1:0,ee<-1?U.data[z++]=this.DV+ee:ee>0&&(U.data[z++]=ee),U.t=z,U.clamp()},w.prototype.multiplyTo=function re(L,U){var z=this.abs(),ee=L.abs(),ve=z.t;for(U.t=ve+ee.t;--ve>=0;)U.data[ve]=0;for(ve=0;ve<ee.t;++ve)U.data[ve+z.t]=z.am(0,ee.data[ve],U,ve,0,z.t);U.s=0,U.clamp(),this.s!=L.s&&w.ZERO.subTo(U,U)},w.prototype.squareTo=function de(L){for(var U=this.abs(),z=L.t=2*U.t;--z>=0;)L.data[z]=0;for(z=0;z<U.t-1;++z){var ee=U.am(z,U.data[z],L,2*z,0,1);(L.data[z+U.t]+=U.am(z+1,2*U.data[z],L,2*z+1,ee,U.t-z-1))>=U.DV&&(L.data[z+U.t]-=U.DV,L.data[z+U.t+1]=1)}L.t>0&&(L.data[L.t-1]+=U.am(z,U.data[z],L,2*z,0,1)),L.s=0,L.clamp()},w.prototype.divRemTo=function he(L,U,z){var ee=L.abs();if(!(ee.t<=0)){var ve=this.abs();if(ve.t<ee.t)return U?.fromInt(0),void(null!=z&&this.copyTo(z));null==z&&(z=M());var De=M(),Ne=this.s,me=L.s,bt=this.DB-V(ee.data[ee.t-1]);bt>0?(ee.lShiftTo(bt,De),ve.lShiftTo(bt,z)):(ee.copyTo(De),ve.copyTo(z));var $t=De.t,ir=De.data[$t-1];if(0!=ir){var Pn=ir*(1<<this.F1)+($t>1?De.data[$t-2]>>this.F2:0),Ie=this.FV/Pn,xi=(1<<this.F1)/Pn,Ke=1<<this.F2,lt=z.t,go=lt-$t,ri=U??M();for(De.dlShiftTo(go,ri),z.compareTo(ri)>=0&&(z.data[z.t++]=1,z.subTo(ri,z)),w.ONE.dlShiftTo($t,ri),ri.subTo(De,De);De.t<$t;)De.data[De.t++]=0;for(;--go>=0;){var Es=z.data[--lt]==ir?this.DM:Math.floor(z.data[lt]*Ie+(z.data[lt-1]+Ke)*xi);if((z.data[lt]+=De.am(0,Es,z,go,0,$t))<Es)for(De.dlShiftTo(go,ri),z.subTo(ri,z);z.data[lt]<--Es;)z.subTo(ri,z)}null!=U&&(z.drShiftTo($t,U),Ne!=me&&w.ZERO.subTo(U,U)),z.t=$t,z.clamp(),bt>0&&z.rShiftTo(bt,z),Ne<0&&w.ZERO.subTo(z,z)}}},w.prototype.invDigit=function ke(){if(this.t<1)return 0;var L=this.data[0];if(!(1&L))return 0;var U=3&L;return(U=(U=(U=(U=U*(2-(15&L)*U)&15)*(2-(255&L)*U)&255)*(2-((65535&L)*U&65535))&65535)*(2-L*U%this.DV)%this.DV)>0?this.DV-U:-U},w.prototype.isEven=function P(){return 0==(this.t>0?1&this.data[0]:this.s)},w.prototype.exp=function q(L,U){if(L>4294967295||L<1)return w.ONE;var z=M(),ee=M(),ve=U.convert(this),De=V(L)-1;for(ve.copyTo(z);--De>=0;)if(U.sqrTo(z,ee),(L&1<<De)>0)U.mulTo(ee,ve,z);else{var Ne=z;z=ee,ee=Ne}return U.revert(z)},w.prototype.toString=function H(L){if(this.s<0)return"-"+this.negate().toString(L);var U;if(16==L)U=4;else if(8==L)U=3;else if(2==L)U=1;else if(32==L)U=5;else{if(4!=L)return this.toRadix(L);U=2}var ee,z=(1<<U)-1,ve=!1,De="",Ne=this.t,me=this.DB-Ne*this.DB%U;if(Ne-- >0)for(me<this.DB&&(ee=this.data[Ne]>>me)>0&&(ve=!0,De=k(ee));Ne>=0;)me<U?(ee=(this.data[Ne]&(1<<me)-1)<<U-me,ee|=this.data[--Ne]>>(me+=this.DB-U)):(ee=this.data[Ne]>>(me-=U)&z,me<=0&&(me+=this.DB,--Ne)),ee>0&&(ve=!0),ve&&(De+=k(ee));return ve?De:"0"},w.prototype.negate=function W(){var L=M();return w.ZERO.subTo(this,L),L},w.prototype.abs=function S(){return this.s<0?this.negate():this},w.prototype.compareTo=function x(L){var U=this.s-L.s;if(0!=U)return U;var z=this.t;if(0!=(U=z-L.t))return this.s<0?-U:U;for(;--z>=0;)if(0!=(U=this.data[z]-L.data[z]))return U;return 0},w.prototype.bitLength=function c(){return this.t<=0?0:this.DB*(this.t-1)+V(this.data[this.t-1]^this.s&this.DM)},w.prototype.mod=function Ce(L){var U=M();return this.abs().divRemTo(L,null,U),this.s<0&&U.compareTo(w.ZERO)>0&&L.subTo(U,U),U},w.prototype.modPowInt=function J(L,U){var z;return z=L<256||U.isEven()?new Ae(U):new Fe(U),this.exp(L,z)},w.ZERO=v(0),w.ONE=v(1),pt.prototype.convert=Rt,pt.prototype.revert=Rt,pt.prototype.mulTo=function gr(L,U,z){L.multiplyTo(U,z)},pt.prototype.sqrTo=function pp(L,U){L.squareTo(U)},Ti.prototype.convert=function $i(L){if(L.s<0||L.t>2*this.m.t)return L.mod(this.m);if(L.compareTo(this.m)<0)return L;var U=M();return L.copyTo(U),this.reduce(U),U},Ti.prototype.revert=function tc(L){return L},Ti.prototype.reduce=function ja(L){for(L.drShiftTo(this.m.t-1,this.r2),L.t>this.m.t+1&&(L.t=this.m.t+1,L.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);L.compareTo(this.r2)<0;)L.dAddOffset(1,this.m.t+1);for(L.subTo(this.r2,L);L.compareTo(this.m)>=0;)L.subTo(this.m,L)},Ti.prototype.mulTo=function nc(L,U,z){L.multiplyTo(U,z),this.reduce(z)},Ti.prototype.sqrTo=function $a(L,U){L.squareTo(U),this.reduce(U)};var rr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],sc=(1<<26)/rr[rr.length-1];w.prototype.chunkSize=function $e(L){return Math.floor(Math.LN2*this.DB/Math.log(L))},w.prototype.toRadix=function Be(L){if(null==L&&(L=10),0==this.signum()||L<2||L>36)return"0";var U=this.chunkSize(L),z=Math.pow(L,U),ee=v(z),ve=M(),De=M(),Ne="";for(this.divRemTo(ee,ve,De);ve.signum()>0;)Ne=(z+De.intValue()).toString(L).substr(1)+Ne,ve.divRemTo(ee,ve,De);return De.intValue().toString(L)+Ne},w.prototype.fromRadix=function We(L,U){this.fromInt(0),null==U&&(U=10);for(var z=this.chunkSize(U),ee=Math.pow(U,z),ve=!1,De=0,Ne=0,me=0;me<L.length;++me){var bt=D(L,me);bt<0?"-"==L.charAt(me)&&0==this.signum()&&(ve=!0):(Ne=U*Ne+bt,++De>=z&&(this.dMultiply(ee),this.dAddOffset(Ne,0),De=0,Ne=0))}De>0&&(this.dMultiply(Math.pow(U,De)),this.dAddOffset(Ne,0)),ve&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function mt(L,U,z){if("number"==typeof U)if(L<2)this.fromInt(1);else for(this.fromNumber(L,z),this.testBit(L-1)||this.bitwiseTo(w.ONE.shiftLeft(L-1),Cn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(U);)this.dAddOffset(2,0),this.bitLength()>L&&this.subTo(w.ONE.shiftLeft(L-1),this);else{var ee=new Array,ve=7&L;ee.length=1+(L>>3),U.nextBytes(ee),ve>0?ee[0]&=(1<<ve)-1:ee[0]=0,this.fromString(ee,256)}},w.prototype.bitwiseTo=function Bt(L,U,z){var ee,ve,De=Math.min(L.t,this.t);for(ee=0;ee<De;++ee)z.data[ee]=U(this.data[ee],L.data[ee]);if(L.t<this.t){for(ve=L.s&this.DM,ee=De;ee<this.t;++ee)z.data[ee]=U(this.data[ee],ve);z.t=this.t}else{for(ve=this.s&this.DM,ee=De;ee<L.t;++ee)z.data[ee]=U(ve,L.data[ee]);z.t=L.t}z.s=U(this.s,L.s),z.clamp()},w.prototype.changeBit=function Wt(L,U){var z=w.ONE.shiftLeft(L);return this.bitwiseTo(z,U,z),z},w.prototype.addTo=function nn(L,U){for(var z=0,ee=0,ve=Math.min(L.t,this.t);z<ve;)ee+=this.data[z]+L.data[z],U.data[z++]=ee&this.DM,ee>>=this.DB;if(L.t<this.t){for(ee+=L.s;z<this.t;)ee+=this.data[z],U.data[z++]=ee&this.DM,ee>>=this.DB;ee+=this.s}else{for(ee+=this.s;z<L.t;)ee+=L.data[z],U.data[z++]=ee&this.DM,ee>>=this.DB;ee+=L.s}U.s=ee<0?-1:0,ee>0?U.data[z++]=ee:ee<-1&&(U.data[z++]=this.DV+ee),U.t=z,U.clamp()},w.prototype.dMultiply=function wt(L){this.data[this.t]=this.am(0,L-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function ln(L,U){if(0!=L){for(;this.t<=U;)this.data[this.t++]=0;for(this.data[U]+=L;this.data[U]>=this.DV;)this.data[U]-=this.DV,++U>=this.t&&(this.data[this.t++]=0),++this.data[U]}},w.prototype.multiplyLowerTo=function ec(L,U,z){var ve,ee=Math.min(this.t+L.t,U);for(z.s=0,z.t=ee;ee>0;)z.data[--ee]=0;for(ve=z.t-this.t;ee<ve;++ee)z.data[ee+this.t]=this.am(0,L.data[ee],z,ee,0,this.t);for(ve=Math.min(L.t,U);ee<ve;++ee)this.am(0,L.data[ee],z,ee,0,U-ee);z.clamp()},w.prototype.multiplyUpperTo=function Cs(L,U,z){--U;var ee=z.t=this.t+L.t-U;for(z.s=0;--ee>=0;)z.data[ee]=0;for(ee=Math.max(U-this.t,0);ee<L.t;++ee)z.data[this.t+ee-U]=this.am(U-ee,L.data[ee],z,0,0,this.t+ee-U);z.clamp(),z.drShiftTo(1,z)},w.prototype.modInt=function oc(L){if(L<=0)return 0;var U=this.DV%L,z=this.s<0?L-1:0;if(this.t>0)if(0==U)z=this.data[0]%L;else for(var ee=this.t-1;ee>=0;--ee)z=(U*z+this.data[ee])%L;return z},w.prototype.millerRabin=function ac(L){var U=this.subtract(w.ONE),z=U.getLowestSetBit();if(z<=0)return!1;for(var De,ee=U.shiftRight(z),ve=function uc(){return{nextBytes:function(L){for(var U=0;U<L.length;++U)L[U]=Math.floor(256*Math.random())}}}(),Ne=0;Ne<L;++Ne){do{De=new w(this.bitLength(),ve)}while(De.compareTo(w.ONE)<=0||De.compareTo(U)>=0);var me=De.modPow(ee,this);if(0!=me.compareTo(w.ONE)&&0!=me.compareTo(U)){for(var bt=1;bt++<z&&0!=me.compareTo(U);)if(0==(me=me.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=me.compareTo(U))return!1}}return!0},w.prototype.clone=function ue(){var L=M();return this.copyTo(L),L},w.prototype.intValue=function Z(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},w.prototype.byteValue=function be(){return 0==this.t?this.s:this.data[0]<<24>>24},w.prototype.shortValue=function He(){return 0==this.t?this.s:this.data[0]<<16>>16},w.prototype.signum=function ge(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},w.prototype.toByteArray=function rt(){var L=this.t,U=new Array;U[0]=this.s;var ee,z=this.DB-L*this.DB%8,ve=0;if(L-- >0)for(z<this.DB&&(ee=this.data[L]>>z)!=(this.s&this.DM)>>z&&(U[ve++]=ee|this.s<<this.DB-z);L>=0;)z<8?(ee=(this.data[L]&(1<<z)-1)<<8-z,ee|=this.data[--L]>>(z+=this.DB-8)):(ee=this.data[L]>>(z-=8)&255,z<=0&&(z+=this.DB,--L)),128&ee&&(ee|=-256),0==ve&&(128&this.s)!=(128&ee)&&++ve,(ve>0||ee!=this.s)&&(U[ve++]=ee);return U},w.prototype.equals=function kt(L){return 0==this.compareTo(L)},w.prototype.min=function Ft(L){return this.compareTo(L)<0?this:L},w.prototype.max=function Dt(L){return this.compareTo(L)>0?this:L},w.prototype.and=function vn(L){var U=M();return this.bitwiseTo(L,yn,U),U},w.prototype.or=function xn(L){var U=M();return this.bitwiseTo(L,Cn,U),U},w.prototype.xor=function Gn(L){var U=M();return this.bitwiseTo(L,Mn,U),U},w.prototype.andNot=function hr(L){var U=M();return this.bitwiseTo(L,Kn,U),U},w.prototype.not=function Dr(){for(var L=M(),U=0;U<this.t;++U)L.data[U]=this.DM&~this.data[U];return L.t=this.t,L.s=~this.s,L},w.prototype.shiftLeft=function pr(L){var U=M();return L<0?this.rShiftTo(-L,U):this.lShiftTo(L,U),U},w.prototype.shiftRight=function br(L){var U=M();return L<0?this.lShiftTo(-L,U):this.rShiftTo(L,U),U},w.prototype.getLowestSetBit=function ni(){for(var L=0;L<this.t;++L)if(0!=this.data[L])return L*this.DB+Fr(this.data[L]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function po(){for(var L=0,U=this.s&this.DM,z=0;z<this.t;++z)L+=Ii(this.data[z]^U);return L},w.prototype.testBit=function Kt(L){var U=Math.floor(L/this.DB);return U>=this.t?0!=this.s:0!=(this.data[U]&1<<L%this.DB)},w.prototype.setBit=function qt(L){return this.changeBit(L,Cn)},w.prototype.clearBit=function Qt(L){return this.changeBit(L,Kn)},w.prototype.flipBit=function Tt(L){return this.changeBit(L,Mn)},w.prototype.add=function rn(L){var U=M();return this.addTo(L,U),U},w.prototype.subtract=function on(L){var U=M();return this.subTo(L,U),U},w.prototype.multiply=function sn(L){var U=M();return this.multiplyTo(L,U),U},w.prototype.divide=function Yt(L){var U=M();return this.divRemTo(L,U,null),U},w.prototype.remainder=function an(L){var U=M();return this.divRemTo(L,null,U),U},w.prototype.divideAndRemainder=function un(L){var U=M(),z=M();return this.divRemTo(L,U,z),new Array(U,z)},w.prototype.modPow=function rc(L,U){var ee,De,z=L.bitLength(),ve=v(1);if(z<=0)return ve;ee=z<18?1:z<48?3:z<144?4:z<768?5:6,De=z<8?new Ae(U):U.isEven()?new Ti(U):new Fe(U);var Ne=new Array,me=3,bt=ee-1,$t=(1<<ee)-1;if(Ne[1]=De.convert(this),ee>1){var ir=M();for(De.sqrTo(Ne[1],ir);me<=$t;)Ne[me]=M(),De.mulTo(ir,Ne[me-2],Ne[me]),me+=2}var Ie,lt,Pn=L.t-1,xi=!0,Ke=M();for(z=V(L.data[Pn])-1;Pn>=0;){for(z>=bt?Ie=L.data[Pn]>>z-bt&$t:(Ie=(L.data[Pn]&(1<<z+1)-1)<<bt-z,Pn>0&&(Ie|=L.data[Pn-1]>>this.DB+z-bt)),me=ee;!(1&Ie);)Ie>>=1,--me;if((z-=me)<0&&(z+=this.DB,--Pn),xi)Ne[Ie].copyTo(ve),xi=!1;else{for(;me>1;)De.sqrTo(ve,Ke),De.sqrTo(Ke,ve),me-=2;me>0?De.sqrTo(ve,Ke):(lt=ve,ve=Ke,Ke=lt),De.mulTo(Ke,Ne[Ie],ve)}for(;Pn>=0&&!(L.data[Pn]&1<<z);)De.sqrTo(ve,Ke),lt=ve,ve=Ke,Ke=lt,--z<0&&(z=this.DB-1,--Pn)}return De.revert(ve)},w.prototype.modInverse=function za(L){var U=L.isEven();if(this.isEven()&&U||0==L.signum())return w.ZERO;for(var z=L.clone(),ee=this.clone(),ve=v(1),De=v(0),Ne=v(0),me=v(1);0!=z.signum();){for(;z.isEven();)z.rShiftTo(1,z),U?((!ve.isEven()||!De.isEven())&&(ve.addTo(this,ve),De.subTo(L,De)),ve.rShiftTo(1,ve)):De.isEven()||De.subTo(L,De),De.rShiftTo(1,De);for(;ee.isEven();)ee.rShiftTo(1,ee),U?((!Ne.isEven()||!me.isEven())&&(Ne.addTo(this,Ne),me.subTo(L,me)),Ne.rShiftTo(1,Ne)):me.isEven()||me.subTo(L,me),me.rShiftTo(1,me);z.compareTo(ee)>=0?(z.subTo(ee,z),U&&ve.subTo(Ne,ve),De.subTo(me,De)):(ee.subTo(z,ee),U&&Ne.subTo(ve,Ne),me.subTo(De,me))}return 0!=ee.compareTo(w.ONE)?w.ZERO:me.compareTo(L)>=0?me.subtract(L):me.signum()<0?(me.addTo(L,me),me.signum()<0?me.add(L):me):me},w.prototype.pow=function Jl(L){return this.exp(L,new pt)},w.prototype.gcd=function ic(L){var U=this.s<0?this.negate():this.clone(),z=L.s<0?L.negate():L.clone();if(U.compareTo(z)<0){var ee=U;U=z,z=ee}var ve=U.getLowestSetBit(),De=z.getLowestSetBit();if(De<0)return U;for(ve<De&&(De=ve),De>0&&(U.rShiftTo(De,U),z.rShiftTo(De,z));U.signum()>0;)(ve=U.getLowestSetBit())>0&&U.rShiftTo(ve,U),(ve=z.getLowestSetBit())>0&&z.rShiftTo(ve,z),U.compareTo(z)>=0?(U.subTo(z,U),U.rShiftTo(1,U)):(z.subTo(U,z),z.rShiftTo(1,z));return De>0&&z.lShiftTo(De,z),z},w.prototype.isProbablePrime=function cn(L){var U,z=this.abs();if(1==z.t&&z.data[0]<=rr[rr.length-1]){for(U=0;U<rr.length;++U)if(z.data[0]==rr[U])return!0;return!1}if(z.isEven())return!1;for(U=1;U<rr.length;){for(var ee=rr[U],ve=U+1;ve<rr.length&&ee<sc;)ee*=rr[ve++];for(ee=z.modInt(ee);U<ve;)if(ee%rr[U++]==0)return!1}return z.millerRabin(L)}},196:(_e,Je,Y)=>{var d=Y(659);Y(747),Y(365),Y(730),_e.exports=d.kem=d.kem||{};var u=d.jsbn.BigInteger;function p(N,w,M,b){N.generate=function(E,f){for(var C=new d.util.ByteBuffer,B=Math.ceil(f/b)+M,G=new d.util.ByteBuffer,R=M;R<B;++R){G.putInt32(R),w.start(),w.update(E+G.getBytes());var _=w.digest();C.putBytes(_.getBytes(b))}return C.truncate(C.length()-f),C.getBytes()}}d.kem.rsa={},d.kem.rsa.create=function(N,w){var M=(w=w||{}).prng||d.random;return{encrypt:function(E,f){var B,C=Math.ceil(E.n.bitLength()/8);do{B=new u(d.util.bytesToHex(M.getBytesSync(C)),16).mod(E.n)}while(B.compareTo(u.ONE)<=0);var G=C-(B=d.util.hexToBytes(B.toString(16))).length;return G>0&&(B=d.util.fillString(String.fromCharCode(0),G)+B),{encapsulation:E.encrypt(B,"NONE"),key:N.generate(B,f)}},decrypt:function(E,f,C){var B=E.decrypt(f,"NONE");return N.generate(B,C)}}},d.kem.kdf1=function(N,w){p(this,N,0,w||N.digestLength)},d.kem.kdf2=function(N,w){p(this,N,1,w||N.digestLength)}},113:(_e,Je,Y)=>{var d=Y(659);Y(747),_e.exports=d.log=d.log||{},d.log.levels=["none","error","warning","info","debug","verbose","max"];var u={},p=[],N=null;d.log.LEVEL_LOCKED=2,d.log.NO_LEVEL_CHECK=4,d.log.INTERPOLATE=8;for(var w=0;w<d.log.levels.length;++w){var M=d.log.levels[w];u[M]={index:w,name:M.toUpperCase()}}d.log.logMessage=function(R){for(var _=u[R.level].index,k=0;k<p.length;++k){var D=p[k];D.flags&d.log.NO_LEVEL_CHECK?D.f(R):_<=u[D.level].index&&D.f(D,R)}},d.log.prepareStandard=function(R){"standard"in R||(R.standard=u[R.level].name+" ["+R.category+"] "+R.message)},d.log.prepareFull=function(R){if(!("full"in R)){var _=[R.message];_=_.concat([]),R.full=d.util.format.apply(this,_)}},d.log.prepareStandardFull=function(R){"standardFull"in R||(d.log.prepareStandard(R),R.standardFull=R.standard)};var b=["error","warning","info","debug","verbose"];for(w=0;w<b.length;++w)!function(_){d.log[_]=function(k,D){var T=Array.prototype.slice.call(arguments).slice(2);d.log.logMessage({timestamp:new Date,level:_,category:k,message:D,arguments:T})}}(b[w]);if(d.log.makeLogger=function(R){var _={flags:0,f:R};return d.log.setLevel(_,"none"),_},d.log.setLevel=function(R,_){var k=!1;if(R&&!(R.flags&d.log.LEVEL_LOCKED))for(var D=0;D<d.log.levels.length;++D)if(_==d.log.levels[D]){R.level=_,k=!0;break}return k},d.log.lock=function(R,_){typeof _>"u"||_?R.flags|=d.log.LEVEL_LOCKED:R.flags&=~d.log.LEVEL_LOCKED},d.log.addLogger=function(R){p.push(R)},typeof console<"u"&&"log"in console){var E;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},C=function(R,_){d.log.prepareStandard(_);var k=f[_.level],D=[_.standard];D=D.concat(_.arguments.slice()),k.apply(console,D)};E=d.log.makeLogger(C)}else C=function(_,k){d.log.prepareStandardFull(k),console.log(k.standardFull)},E=d.log.makeLogger(C);d.log.setLevel(E,"debug"),d.log.addLogger(E),N=E}else console={log:function(){}};if(null!==N&&typeof window<"u"&&window.location){var B=new URL(window.location.href).searchParams;B.has("console.level")&&d.log.setLevel(N,B.get("console.level").slice(-1)[0]),B.has("console.lock")&&"true"==B.get("console.lock").slice(-1)[0]&&d.log.lock(N)}d.log.consoleLogger=N},752:(_e,Je,Y)=>{_e.exports=Y(979),Y(687),Y(690),Y(594),Y(985)},979:(_e,Je,Y)=>{var d=Y(659);_e.exports=d.md=d.md||{},d.md.algorithms=d.md.algorithms||{}},687:(_e,Je,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.md5=d.md5||{};d.md.md5=d.md.algorithms.md5=u,u.create=function(){b||function E(){p=String.fromCharCode(128),p+=d.util.fillString(String.fromCharCode(0),64),N=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],w=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],M=new Array(64);for(var C=0;C<64;++C)M[C]=Math.floor(4294967296*Math.abs(Math.sin(C+1)));b=!0}();var C=null,B=d.util.createBuffer(),G=new Array(16),R={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){R.messageLength=0,R.fullMessageLength=R.messageLength64=[];for(var _=R.messageLengthSize/4,k=0;k<_;++k)R.fullMessageLength.push(0);return B=d.util.createBuffer(),C={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},R}};return R.start(),R.update=function(_,k){"utf8"===k&&(_=d.util.encodeUtf8(_));var D=_.length;R.messageLength+=D,D=[D/4294967296>>>0,D>>>0];for(var T=R.fullMessageLength.length-1;T>=0;--T)R.fullMessageLength[T]+=D[1],D[1]=D[0]+(R.fullMessageLength[T]/4294967296>>>0),R.fullMessageLength[T]=R.fullMessageLength[T]>>>0,D[0]=D[1]/4294967296>>>0;return B.putBytes(_),f(C,G,B),(B.read>2048||0===B.length())&&B.compact(),R},R.digest=function(){var _=d.util.createBuffer();_.putBytes(B.bytes()),_.putBytes(p.substr(0,R.blockLength-(R.fullMessageLength[R.fullMessageLength.length-1]+R.messageLengthSize&R.blockLength-1)));for(var T,h=0,v=R.fullMessageLength.length-1;v>=0;--v)h=(T=8*R.fullMessageLength[v]+h)/4294967296>>>0,_.putInt32Le(T>>>0);var A={h0:C.h0,h1:C.h1,h2:C.h2,h3:C.h3};f(A,G,_);var F=d.util.createBuffer();return F.putInt32Le(A.h0),F.putInt32Le(A.h1),F.putInt32Le(A.h2),F.putInt32Le(A.h3),F},R};var p=null,N=null,w=null,M=null,b=!1;function f(C,B,G){for(var R,_,k,D,T,v,A,F=G.length();F>=64;){for(_=C.h0,k=C.h1,D=C.h2,T=C.h3,A=0;A<16;++A)B[A]=G.getInt32Le(),R=_+(T^k&(D^T))+M[A]+B[A],_=T,T=D,D=k,k+=R<<(v=w[A])|R>>>32-v;for(;A<32;++A)R=_+(D^T&(k^D))+M[A]+B[N[A]],_=T,T=D,D=k,k+=R<<(v=w[A])|R>>>32-v;for(;A<48;++A)R=_+(k^D^T)+M[A]+B[N[A]],_=T,T=D,D=k,k+=R<<(v=w[A])|R>>>32-v;for(;A<64;++A)R=_+(D^(k|~T))+M[A]+B[N[A]],_=T,T=D,D=k,k+=R<<(v=w[A])|R>>>32-v;C.h0=C.h0+_|0,C.h1=C.h1+k|0,C.h2=C.h2+D|0,C.h3=C.h3+T|0,F-=64}}},386:(_e,Je,Y)=>{var d=Y(659);Y(449),_e.exports=d.mgf=d.mgf||{},d.mgf.mgf1=d.mgf1},449:(_e,Je,Y)=>{var d=Y(659);Y(747),d.mgf=d.mgf||{},(_e.exports=d.mgf.mgf1=d.mgf1=d.mgf1||{}).create=function(p){return{generate:function(w,M){for(var b=new d.util.ByteBuffer,E=Math.ceil(M/p.digestLength),f=0;f<E;f++){var C=new d.util.ByteBuffer;C.putInt32(f),p.start(),p.update(w+C.getBytes()),b.putBuffer(p.digest())}return b.truncate(b.length()-M),b.getBytes()}}}},78:(_e,Je,Y)=>{var d=Y(659);d.pki=d.pki||{};var u=_e.exports=d.pki.oids=d.oids=d.oids||{};function p(w,M){u[w]=M,u[M]=w}function N(w,M){u[w]=M}p("1.2.840.113549.1.1.1","rsaEncryption"),p("1.2.840.113549.1.1.4","md5WithRSAEncryption"),p("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),p("1.2.840.113549.1.1.7","RSAES-OAEP"),p("1.2.840.113549.1.1.8","mgf1"),p("1.2.840.113549.1.1.9","pSpecified"),p("1.2.840.113549.1.1.10","RSASSA-PSS"),p("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),p("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),p("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),p("1.3.101.112","EdDSA25519"),p("1.2.840.10040.4.3","dsa-with-sha1"),p("1.3.14.3.2.7","desCBC"),p("1.3.14.3.2.26","sha1"),p("1.3.14.3.2.29","sha1WithRSASignature"),p("2.16.840.1.101.3.4.2.1","sha256"),p("2.16.840.1.101.3.4.2.2","sha384"),p("2.16.840.1.101.3.4.2.3","sha512"),p("2.16.840.1.101.3.4.2.4","sha224"),p("2.16.840.1.101.3.4.2.5","sha512-224"),p("2.16.840.1.101.3.4.2.6","sha512-256"),p("1.2.840.113549.2.2","md2"),p("1.2.840.113549.2.5","md5"),p("1.2.840.113549.1.7.1","data"),p("1.2.840.113549.1.7.2","signedData"),p("1.2.840.113549.1.7.3","envelopedData"),p("1.2.840.113549.1.7.4","signedAndEnvelopedData"),p("1.2.840.113549.1.7.5","digestedData"),p("1.2.840.113549.1.7.6","encryptedData"),p("1.2.840.113549.1.9.1","emailAddress"),p("1.2.840.113549.1.9.2","unstructuredName"),p("1.2.840.113549.1.9.3","contentType"),p("1.2.840.113549.1.9.4","messageDigest"),p("1.2.840.113549.1.9.5","signingTime"),p("1.2.840.113549.1.9.6","counterSignature"),p("1.2.840.113549.1.9.7","challengePassword"),p("1.2.840.113549.1.9.8","unstructuredAddress"),p("1.2.840.113549.1.9.14","extensionRequest"),p("1.2.840.113549.1.9.20","friendlyName"),p("1.2.840.113549.1.9.21","localKeyId"),p("1.2.840.113549.1.9.22.1","x509Certificate"),p("1.2.840.113549.1.12.10.1.1","keyBag"),p("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),p("1.2.840.113549.1.12.10.1.3","certBag"),p("1.2.840.113549.1.12.10.1.4","crlBag"),p("1.2.840.113549.1.12.10.1.5","secretBag"),p("1.2.840.113549.1.12.10.1.6","safeContentsBag"),p("1.2.840.113549.1.5.13","pkcs5PBES2"),p("1.2.840.113549.1.5.12","pkcs5PBKDF2"),p("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),p("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),p("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),p("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),p("1.2.840.113549.2.7","hmacWithSHA1"),p("1.2.840.113549.2.8","hmacWithSHA224"),p("1.2.840.113549.2.9","hmacWithSHA256"),p("1.2.840.113549.2.10","hmacWithSHA384"),p("1.2.840.113549.2.11","hmacWithSHA512"),p("1.2.840.113549.3.7","des-EDE3-CBC"),p("2.16.840.1.101.3.4.1.2","aes128-CBC"),p("2.16.840.1.101.3.4.1.22","aes192-CBC"),p("2.16.840.1.101.3.4.1.42","aes256-CBC"),p("2.5.4.3","commonName"),p("2.5.4.4","surname"),p("2.5.4.5","serialNumber"),p("2.5.4.6","countryName"),p("2.5.4.7","localityName"),p("2.5.4.8","stateOrProvinceName"),p("2.5.4.9","streetAddress"),p("2.5.4.10","organizationName"),p("2.5.4.11","organizationalUnitName"),p("2.5.4.12","title"),p("2.5.4.13","description"),p("2.5.4.15","businessCategory"),p("2.5.4.17","postalCode"),p("2.5.4.42","givenName"),p("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),p("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),p("2.16.840.1.113730.1.1","nsCertType"),p("2.16.840.1.113730.1.13","nsComment"),N("2.5.29.1","authorityKeyIdentifier"),N("2.5.29.2","keyAttributes"),N("2.5.29.3","certificatePolicies"),N("2.5.29.4","keyUsageRestriction"),N("2.5.29.5","policyMapping"),N("2.5.29.6","subtreesConstraint"),N("2.5.29.7","subjectAltName"),N("2.5.29.8","issuerAltName"),N("2.5.29.9","subjectDirectoryAttributes"),N("2.5.29.10","basicConstraints"),N("2.5.29.11","nameConstraints"),N("2.5.29.12","policyConstraints"),N("2.5.29.13","basicConstraints"),p("2.5.29.14","subjectKeyIdentifier"),p("2.5.29.15","keyUsage"),N("2.5.29.16","privateKeyUsagePeriod"),p("2.5.29.17","subjectAltName"),p("2.5.29.18","issuerAltName"),p("2.5.29.19","basicConstraints"),N("2.5.29.20","cRLNumber"),N("2.5.29.21","cRLReason"),N("2.5.29.22","expirationDate"),N("2.5.29.23","instructionCode"),N("2.5.29.24","invalidityDate"),N("2.5.29.25","cRLDistributionPoints"),N("2.5.29.26","issuingDistributionPoint"),N("2.5.29.27","deltaCRLIndicator"),N("2.5.29.28","issuingDistributionPoint"),N("2.5.29.29","certificateIssuer"),N("2.5.29.30","nameConstraints"),p("2.5.29.31","cRLDistributionPoints"),p("2.5.29.32","certificatePolicies"),N("2.5.29.33","policyMappings"),N("2.5.29.34","policyConstraints"),p("2.5.29.35","authorityKeyIdentifier"),N("2.5.29.36","policyConstraints"),p("2.5.29.37","extKeyUsage"),N("2.5.29.46","freshestCRL"),N("2.5.29.54","inhibitAnyPolicy"),p("1.3.6.1.4.1.11129.2.4.2","timestampList"),p("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),p("1.3.6.1.5.5.7.3.1","serverAuth"),p("1.3.6.1.5.5.7.3.2","clientAuth"),p("1.3.6.1.5.5.7.3.3","codeSigning"),p("1.3.6.1.5.5.7.3.4","emailProtection"),p("1.3.6.1.5.5.7.3.8","timeStamping")},158:(_e,Je,Y)=>{var d=Y(659);if(Y(298),Y(791),Y(279),Y(979),Y(78),Y(949),Y(604),Y(365),Y(209),Y(517),Y(747),typeof u>"u")var u=d.jsbn.BigInteger;var p=d.asn1,N=d.pki=d.pki||{};_e.exports=N.pbe=d.pbe=d.pbe||{};var w=N.oids,M={name:"EncryptedPrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},b={name:"PBES2Algorithms",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},E={name:"pkcs-12PbeParams",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(R,_){return R.start().update(_).digest().getBytes()}function C(R){var _;if(R){if(!(_=N.oids[p.derToOid(R)])){var k=new Error("Unsupported PRF OID.");throw k.oid=R,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}}else _="hmacWithSHA1";return B(_)}function B(R){var _=d.md;switch(R){case"hmacWithSHA224":_=d.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":R=R.substr(8).toLowerCase();break;default:var k=new Error("Unsupported PRF algorithm.");throw k.algorithm=R,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}if(!_||!(R in _))throw new Error("Unknown hash algorithm: "+R);return _[R].create()}N.encryptPrivateKeyInfo=function(R,_,k){(k=k||{}).saltSize=k.saltSize||8,k.count=k.count||2048,k.algorithm=k.algorithm||"aes128",k.prfAlgorithm=k.prfAlgorithm||"sha1";var v,A,F,D=d.random.getBytesSync(k.saltSize),T=k.count,h=p.integerToDer(T);if(0===k.algorithm.indexOf("aes")||"des"===k.algorithm){var H,W,S;switch(k.algorithm){case"aes128":v=16,H=16,W=w["aes128-CBC"],S=d.aes.createEncryptionCipher;break;case"aes192":v=24,H=16,W=w["aes192-CBC"],S=d.aes.createEncryptionCipher;break;case"aes256":v=32,H=16,W=w["aes256-CBC"],S=d.aes.createEncryptionCipher;break;case"des":v=8,H=8,W=w.desCBC,S=d.des.createEncryptionCipher;break;default:throw(x=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,x}var V="hmacWith"+k.prfAlgorithm.toUpperCase(),c=B(V),j=d.pkcs5.pbkdf2(_,D,T,v,c),Q=d.random.getBytesSync(H);($=S(j)).start(Q),$.update(p.toDer(R)),$.finish(),F=$.output.getBytes();var ne=function G(R,_,k,D){var T=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,R),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,_.getBytes())]);return"hmacWithSHA1"!==D&&T.value.push(p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,d.util.hexToBytes(k.toString(16))),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(N.oids[D]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])),T}(D,h,v,V);A=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(w.pkcs5PBES2).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(w.pkcs5PBKDF2).getBytes()),ne]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(W).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,Q)])])])}else{var x;if("3des"!==k.algorithm)throw(x=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,x;v=24;var $,te=new d.util.ByteBuffer(D);j=N.pbe.generatePkcs12Key(_,te,1,T,v),Q=N.pbe.generatePkcs12Key(_,te,2,T,v),($=d.des.createEncryptionCipher(j)).start(Q),$.update(p.toDer(R)),$.finish(),F=$.output.getBytes(),A=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(w["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,D),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,h.getBytes())])])}return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[A,p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,F)])},N.decryptPrivateKeyInfo=function(R,_){var k=null,D={},T=[];if(!p.validate(R,M,D,T)){var h=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw h.errors=T,h}var v=p.derToOid(D.encryptionOid),A=N.pbe.getCipher(v,D.encryptionParams,_),F=d.util.createBuffer(D.encryptedData);return A.update(F),A.finish()&&(k=p.fromDer(A.output)),k},N.encryptedPrivateKeyToPem=function(R,_){var k={type:"ENCRYPTED PRIVATE KEY",body:p.toDer(R).getBytes()};return d.pem.encode(k,{maxline:_})},N.encryptedPrivateKeyFromPem=function(R){var _=d.pem.decode(R)[0];if("ENCRYPTED PRIVATE KEY"!==_.type){var k=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw k.headerType=_.type,k}if(_.procType&&"ENCRYPTED"===_.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return p.fromDer(_.body)},N.encryptRsaPrivateKey=function(R,_,k){if(!(k=k||{}).legacy){var D=N.wrapRsaPrivateKey(N.privateKeyToAsn1(R));return D=N.encryptPrivateKeyInfo(D,_,k),N.encryptedPrivateKeyToPem(D)}var T,h,v,A;switch(k.algorithm){case"aes128":T="AES-128-CBC",v=16,h=d.random.getBytesSync(16),A=d.aes.createEncryptionCipher;break;case"aes192":T="AES-192-CBC",v=24,h=d.random.getBytesSync(16),A=d.aes.createEncryptionCipher;break;case"aes256":T="AES-256-CBC",v=32,h=d.random.getBytesSync(16),A=d.aes.createEncryptionCipher;break;case"3des":T="DES-EDE3-CBC",v=24,h=d.random.getBytesSync(8),A=d.des.createEncryptionCipher;break;case"des":T="DES-CBC",v=8,h=d.random.getBytesSync(8),A=d.des.createEncryptionCipher;break;default:var F=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+k.algorithm+'".');throw F.algorithm=k.algorithm,F}var W=A(d.pbe.opensslDeriveBytes(_,h.substr(0,8),v));W.start(h),W.update(p.toDer(N.privateKeyToAsn1(R))),W.finish();var S={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:T,parameters:d.util.bytesToHex(h).toUpperCase()},body:W.output.getBytes()};return d.pem.encode(S)},N.decryptRsaPrivateKey=function(R,_){var k=null,D=d.pem.decode(R)[0];if("ENCRYPTED PRIVATE KEY"!==D.type&&"PRIVATE KEY"!==D.type&&"RSA PRIVATE KEY"!==D.type)throw(T=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=T,T;if(D.procType&&"ENCRYPTED"===D.procType.type){var h,v;switch(D.dekInfo.algorithm){case"DES-CBC":h=8,v=d.des.createDecryptionCipher;break;case"DES-EDE3-CBC":h=24,v=d.des.createDecryptionCipher;break;case"AES-128-CBC":h=16,v=d.aes.createDecryptionCipher;break;case"AES-192-CBC":h=24,v=d.aes.createDecryptionCipher;break;case"AES-256-CBC":h=32,v=d.aes.createDecryptionCipher;break;case"RC2-40-CBC":h=5,v=function(S){return d.rc2.createDecryptionCipher(S,40)};break;case"RC2-64-CBC":h=8,v=function(S){return d.rc2.createDecryptionCipher(S,64)};break;case"RC2-128-CBC":h=16,v=function(S){return d.rc2.createDecryptionCipher(S,128)};break;default:var T;throw(T=new Error('Could not decrypt private key; unsupported encryption algorithm "'+D.dekInfo.algorithm+'".')).algorithm=D.dekInfo.algorithm,T}var A=d.util.hexToBytes(D.dekInfo.parameters),H=v(d.pbe.opensslDeriveBytes(_,A.substr(0,8),h));if(H.start(A),H.update(d.util.createBuffer(D.body)),!H.finish())return k;k=H.output.getBytes()}else k=D.body;return null!==(k="ENCRYPTED PRIVATE KEY"===D.type?N.decryptPrivateKeyInfo(p.fromDer(k),_):p.fromDer(k))&&(k=N.privateKeyFromAsn1(k)),k},N.pbe.generatePkcs12Key=function(R,_,k,D,T,h){var v,A;if(typeof h>"u"||null===h){if(!("sha1"in d.md))throw new Error('"sha1" hash algorithm unavailable.');h=d.md.sha1.create()}var F=h.digestLength,H=h.blockLength,W=new d.util.ByteBuffer,S=new d.util.ByteBuffer;if(null!=R){for(A=0;A<R.length;A++)S.putInt16(R.charCodeAt(A));S.putInt16(0)}var x=S.length(),V=_.length(),c=new d.util.ByteBuffer;c.fillWithByte(k,H);var j=H*Math.ceil(V/H),Q=new d.util.ByteBuffer;for(A=0;A<j;A++)Q.putByte(_.at(A%V));var $=H*Math.ceil(x/H),ne=new d.util.ByteBuffer;for(A=0;A<$;A++)ne.putByte(S.at(A%x));var te=Q;te.putBuffer(ne);for(var re=Math.ceil(T/F),de=1;de<=re;de++){var he=new d.util.ByteBuffer;he.putBytes(c.bytes()),he.putBytes(te.bytes());for(var Ce=0;Ce<D;Ce++)h.start(),h.update(he.getBytes()),he=h.digest();var Ae=new d.util.ByteBuffer;for(A=0;A<H;A++)Ae.putByte(he.at(A%F));var Le=Math.ceil(V/H)+Math.ceil(x/H),nt=new d.util.ByteBuffer;for(v=0;v<Le;v++){var dt=new d.util.ByteBuffer(te.getBytes(H)),pe=511;for(A=Ae.length()-1;A>=0;A--)pe>>=8,pe+=Ae.at(A)+dt.at(A),dt.setAt(A,255&pe);nt.putBuffer(dt)}te=nt,W.putBuffer(he)}return W.truncate(W.length()-T),W},N.pbe.getCipher=function(R,_,k){switch(R){case N.oids.pkcs5PBES2:return N.pbe.getCipherForPBES2(R,_,k);case N.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case N.oids["pbewithSHAAnd40BitRC2-CBC"]:return N.pbe.getCipherForPKCS12PBE(R,_,k);default:var D=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw D.oid=R,D.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],D}},N.pbe.getCipherForPBES2=function(R,_,k){var h,D={},T=[];if(!p.validate(_,b,D,T))throw(h=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=T,h;if((R=p.derToOid(D.kdfOid))!==N.oids.pkcs5PBKDF2)throw(h=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=R,h.supportedOids=["pkcs5PBKDF2"],h;if((R=p.derToOid(D.encOid))!==N.oids["aes128-CBC"]&&R!==N.oids["aes192-CBC"]&&R!==N.oids["aes256-CBC"]&&R!==N.oids["des-EDE3-CBC"]&&R!==N.oids.desCBC)throw(h=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=R,h.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],h;var F,H,v=D.kdfSalt,A=d.util.createBuffer(D.kdfIterationCount);switch(A=A.getInt(A.length()<<3),N.oids[R]){case"aes128-CBC":F=16,H=d.aes.createDecryptionCipher;break;case"aes192-CBC":F=24,H=d.aes.createDecryptionCipher;break;case"aes256-CBC":F=32,H=d.aes.createDecryptionCipher;break;case"des-EDE3-CBC":F=24,H=d.des.createDecryptionCipher;break;case"desCBC":F=8,H=d.des.createDecryptionCipher}var W=C(D.prfOid),S=d.pkcs5.pbkdf2(k,v,A,F,W),x=D.encIv,V=H(S);return V.start(x),V},N.pbe.getCipherForPKCS12PBE=function(R,_,k){var D={},T=[];if(!p.validate(_,E,D,T))throw(h=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=T,h;var F,H,W,v=d.util.createBuffer(D.salt),A=d.util.createBuffer(D.iterations);switch(A=A.getInt(A.length()<<3),R){case N.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:F=24,H=8,W=d.des.startDecrypting;break;case N.oids["pbewithSHAAnd40BitRC2-CBC"]:F=5,H=8,W=function(j,Q){var $=d.rc2.createDecryptionCipher(j,40);return $.start(Q,null),$};break;default:var h;throw(h=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=R,h}var S=C(D.prfOid),x=N.pbe.generatePkcs12Key(k,v,1,A,F,S);return S.start(),W(x,N.pbe.generatePkcs12Key(k,v,2,A,H,S))},N.pbe.opensslDeriveBytes=function(R,_,k,D){if(typeof D>"u"||null===D){if(!("md5"in d.md))throw new Error('"md5" hash algorithm unavailable.');D=d.md.md5.create()}null===_&&(_="");for(var T=[f(D,R+_)],h=16,v=1;h<k;++v,h+=16)T.push(f(D,T[v-1]+R+_));return T.join("").substr(0,k)}},949:(_e,Je,Y)=>{var d=Y(659);Y(32),Y(979),Y(747);var p,u=d.pkcs5=d.pkcs5||{};d.util.isNodejs&&!d.options.usePureJavaScript&&(p=Y(819)),_e.exports=d.pbkdf2=u.pbkdf2=function(N,w,M,b,E,f){if("function"==typeof E&&(f=E,E=null),d.util.isNodejs&&!d.options.usePureJavaScript&&p.pbkdf2&&(null===E||"object"!=typeof E)&&(p.pbkdf2Sync.length>4||!E||"sha1"===E))return"string"!=typeof E&&(E="sha1"),N=Buffer.from(N,"binary"),w=Buffer.from(w,"binary"),f?4===p.pbkdf2Sync.length?p.pbkdf2(N,w,M,b,function(W,S){if(W)return f(W);f(null,S.toString("binary"))}):p.pbkdf2(N,w,M,b,E,function(W,S){if(W)return f(W);f(null,S.toString("binary"))}):4===p.pbkdf2Sync.length?p.pbkdf2Sync(N,w,M,b).toString("binary"):p.pbkdf2Sync(N,w,M,b,E).toString("binary");if((typeof E>"u"||null===E)&&(E="sha1"),"string"==typeof E){if(!(E in d.md.algorithms))throw new Error("Unknown hash algorithm: "+E);E=d.md[E].create()}var C=E.digestLength;if(b>4294967295*C){var B=new Error("Derived key is too long.");if(f)return f(B);throw B}var G=Math.ceil(b/C),R=b-(G-1)*C,_=d.hmac.create();_.start(E,N);var D,T,h,k="";if(!f){for(var v=1;v<=G;++v){_.start(null,null),_.update(w),_.update(d.util.int32ToBytes(v)),D=h=_.digest().getBytes();for(var A=2;A<=M;++A)_.start(null,null),_.update(h),T=_.digest().getBytes(),D=d.util.xorBytes(D,T,C),h=T;k+=v<G?D:D.substr(0,R)}return k}function F(){if(v>G)return f(null,k);_.start(null,null),_.update(w),_.update(d.util.int32ToBytes(v)),D=h=_.digest().getBytes(),A=2,H()}function H(){if(A<=M)return _.start(null,null),_.update(h),T=_.digest().getBytes(),D=d.util.xorBytes(D,T,C),h=T,++A,d.util.setImmediate(H);k+=v<G?D:D.substr(0,R),++v,F()}v=1,F()}},604:(_e,Je,Y)=>{var d=Y(659);Y(747);var u=_e.exports=d.pem=d.pem||{};function p(w){for(var M=w.name+": ",b=[],E=function(R,_){return" "+_},f=0;f<w.values.length;++f)b.push(w.values[f].replace(/^(\S+\r\n)/,E));M+=b.join(",")+"\r\n";var C=0,B=-1;for(f=0;f<M.length;++f,++C)if(C>65&&-1!==B){var G=M[B];","===G?(++B,M=M.substr(0,B)+"\r\n "+M.substr(B)):M=M.substr(0,B)+"\r\n"+G+M.substr(B+1),C=f-B-1,B=-1,++f}else(" "===M[f]||"\t"===M[f]||","===M[f])&&(B=f);return M}function N(w){return w.replace(/^\s+/,"")}u.encode=function(w,M){M=M||{};var E,b="-----BEGIN "+w.type+"-----\r\n";if(w.procType&&(b+=p(E={name:"Proc-Type",values:[String(w.procType.version),w.procType.type]})),w.contentDomain&&(b+=p(E={name:"Content-Domain",values:[w.contentDomain]})),w.dekInfo&&(E={name:"DEK-Info",values:[w.dekInfo.algorithm]},w.dekInfo.parameters&&E.values.push(w.dekInfo.parameters),b+=p(E)),w.headers)for(var f=0;f<w.headers.length;++f)b+=p(w.headers[f]);return w.procType&&(b+="\r\n"),(b+=d.util.encode64(w.body,M.maxline||64)+"\r\n")+"-----END "+w.type+"-----\r\n"},u.decode=function(w){for(var C,M=[],b=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,E=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,f=/\r?\n/;C=b.exec(w);){var B=C[1];"NEW CERTIFICATE REQUEST"===B&&(B="CERTIFICATE REQUEST");var G={type:B,procType:null,contentDomain:null,dekInfo:null,headers:[],body:d.util.decode64(C[3])};if(M.push(G),C[2]){for(var R=C[2].split(f),_=0;C&&_<R.length;){for(var k=R[_].replace(/\s+$/,""),D=_+1;D<R.length;++D){var T=R[D];if(!/\s/.test(T[0]))break;k+=T,_=D}if(C=k.match(E)){for(var h={name:C[1],values:[]},v=C[2].split(","),A=0;A<v.length;++A)h.values.push(N(v[A]));if(G.procType)if(G.contentDomain||"Content-Domain"!==h.name)if(G.dekInfo||"DEK-Info"!==h.name)G.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');G.dekInfo={algorithm:v[0],parameters:v[1]||null}}else G.contentDomain=v[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');G.procType={version:v[0],type:v[1]}}}++_}if("ENCRYPTED"===G.procType&&!G.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===M.length)throw new Error("Invalid PEM formatted message.");return M}},246:(_e,Je,Y)=>{var d=Y(659);Y(747),Y(365),Y(690);var u=_e.exports=d.pkcs1=d.pkcs1||{};function p(N,w,M){M||(M=d.md.sha1.create());for(var b="",E=Math.ceil(w/M.digestLength),f=0;f<E;++f){var C=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f);M.start(),M.update(N+C),b+=M.digest().getBytes()}return b.substring(0,w)}u.encode_rsa_oaep=function(N,w,M){var b,E,f,C;"string"==typeof M?(b=M,E=arguments[3]||void 0,f=arguments[4]||void 0):M&&(b=M.label||void 0,E=M.seed||void 0,f=M.md||void 0,M.mgf1&&M.mgf1.md&&(C=M.mgf1.md)),f?f.start():f=d.md.sha1.create(),C||(C=f);var B=Math.ceil(N.n.bitLength()/8),G=B-2*f.digestLength-2;if(w.length>G)throw(R=new Error("RSAES-OAEP input message length is too long.")).length=w.length,R.maxLength=G,R;b||(b=""),f.update(b,"raw");for(var _=f.digest(),k="",D=G-w.length,T=0;T<D;T++)k+="\0";var h=_.getBytes()+k+"\x01"+w;if(E){if(E.length!==f.digestLength){var R;throw(R=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=E.length,R.digestLength=f.digestLength,R}}else E=d.random.getBytes(f.digestLength);var v=p(E,B-f.digestLength-1,C),A=d.util.xorBytes(h,v,h.length),F=p(A,f.digestLength,C);return"\0"+d.util.xorBytes(E,F,E.length)+A},u.decode_rsa_oaep=function(N,w,M){var b,E,f;"string"==typeof M?(b=M,E=arguments[3]||void 0):M&&(b=M.label||void 0,E=M.md||void 0,M.mgf1&&M.mgf1.md&&(f=M.mgf1.md));var C=Math.ceil(N.n.bitLength()/8);if(w.length!==C)throw(A=new Error("RSAES-OAEP encoded message length is invalid.")).length=w.length,A.expectedLength=C,A;if(void 0===E?E=d.md.sha1.create():E.start(),f||(f=E),C<2*E.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");b||(b=""),E.update(b,"raw");for(var B=E.digest().getBytes(),G=w.charAt(0),R=w.substring(1,E.digestLength+1),_=w.substring(1+E.digestLength),k=p(_,E.digestLength,f),T=p(d.util.xorBytes(R,k,R.length),C-E.digestLength-1,f),h=d.util.xorBytes(_,T,_.length),v=h.substring(0,E.digestLength),A="\0"!==G,F=0;F<E.digestLength;++F)A|=B.charAt(F)!==v.charAt(F);for(var H=1,W=E.digestLength,S=E.digestLength;S<h.length;S++){var x=h.charCodeAt(S);A|=x&(H?65534:0),W+=H&=1&x^1}if(A||1!==h.charCodeAt(W))throw new Error("Invalid RSAES-OAEP padding.");return h.substring(W+1)}},562:(_e,Je,Y)=>{var d=Y(659);Y(791),Y(32),Y(78),Y(957),Y(158),Y(365),Y(517),Y(690),Y(747),Y(911);var u=d.asn1,p=d.pki,N=_e.exports=d.pkcs12=d.pkcs12||{},w={name:"ContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},M={name:"PFX",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},w,{name:"PFX.macData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},b={name:"SafeBag",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},E={name:"Attribute",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:u.Class.UNIVERSAL,type:u.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function C(D,T,h,v){for(var A=[],F=0;F<D.length;F++)for(var H=0;H<D[F].safeBags.length;H++){var W=D[F].safeBags[H];if(void 0===v||W.type===v){if(null===T){A.push(W);continue}void 0!==W.attributes[T]&&W.attributes[T].indexOf(h)>=0&&A.push(W)}}return A}function B(D){if(D.composed||D.constructed){for(var T=d.util.createBuffer(),h=0;h<D.value.length;++h)T.putBytes(D.value[h].value);D.composed=D.constructed=!1,D.value=T.getBytes()}return D}function R(D,T){var h={},v=[];if(!u.validate(D,d.pkcs7.asn1.encryptedDataValidator,h,v))throw(A=new Error("Cannot read EncryptedContentInfo.")).errors=v,A;var A,F=u.derToOid(h.contentType);if(F!==p.oids.data)throw(A=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=F,A;F=u.derToOid(h.encAlgorithm);var H=p.pbe.getCipher(F,h.encParameter,T),W=B(h.encryptedContentAsn1),S=d.util.createBuffer(W.value);if(H.update(S),!H.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return H.output.getBytes()}function _(D,T,h){if(!T&&0===D.length)return[];if((D=u.fromDer(D,T)).tagClass!==u.Class.UNIVERSAL||D.type!==u.Type.SEQUENCE||!0!==D.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var v=[],A=0;A<D.value.length;A++){var H={},W=[];if(!u.validate(D.value[A],b,H,W))throw(S=new Error("Cannot read SafeBag.")).errors=W,S;var x={type:u.derToOid(H.bagId),attributes:k(H.bagAttributes)};v.push(x);var V,c,j=H.bagValue.value[0];switch(x.type){case p.oids.pkcs8ShroudedKeyBag:if(null===(j=p.decryptPrivateKeyInfo(j,h)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case p.oids.keyBag:try{x.key=p.privateKeyFromAsn1(j)}catch{x.key=null,x.asn1=j}continue;case p.oids.certBag:V=f,c=function(){if(u.derToOid(H.certId)!==p.oids.x509Certificate){var $=new Error("Unsupported certificate type, only X.509 supported.");throw $.oid=u.derToOid(H.certId),$}var ne=u.fromDer(H.cert,T);try{x.cert=p.certificateFromAsn1(ne,!0)}catch{x.cert=null,x.asn1=ne}};break;default:var S;throw(S=new Error("Unsupported PKCS#12 SafeBag type.")).oid=x.type,S}if(void 0!==V&&!u.validate(j,V,H,W))throw(S=new Error("Cannot read PKCS#12 "+V.name)).errors=W,S;c()}return v}function k(D){var T={};if(void 0!==D)for(var h=0;h<D.length;++h){var v={},A=[];if(!u.validate(D[h],E,v,A)){var F=new Error("Cannot read PKCS#12 BagAttribute.");throw F.errors=A,F}var H=u.derToOid(v.oid);if(void 0!==p.oids[H]){T[p.oids[H]]=[];for(var W=0;W<v.values.length;++W)T[p.oids[H]].push(v.values[W].value)}}return T}N.pkcs12FromAsn1=function(D,T,h){"string"==typeof T?(h=T,T=!0):void 0===T&&(T=!0);var v={};if(!u.validate(D,M,v,[]))throw(F=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=F,F;var F,H={version:v.version.charCodeAt(0),safeContents:[],getBags:function(te){var de,re={};return"localKeyId"in te?de=te.localKeyId:"localKeyIdHex"in te&&(de=d.util.hexToBytes(te.localKeyIdHex)),void 0===de&&!("friendlyName"in te)&&"bagType"in te&&(re[te.bagType]=C(H.safeContents,null,null,te.bagType)),void 0!==de&&(re.localKeyId=C(H.safeContents,"localKeyId",de,te.bagType)),"friendlyName"in te&&(re.friendlyName=C(H.safeContents,"friendlyName",te.friendlyName,te.bagType)),re},getBagsByFriendlyName:function(te,re){return C(H.safeContents,"friendlyName",te,re)},getBagsByLocalKeyId:function(te,re){return C(H.safeContents,"localKeyId",te,re)}};if(3!==v.version.charCodeAt(0))throw(F=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=v.version.charCodeAt(0),F;if(u.derToOid(v.contentType)!==p.oids.data)throw(F=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=u.derToOid(v.contentType),F;var W=v.content.value[0];if(W.tagClass!==u.Class.UNIVERSAL||W.type!==u.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(W=B(W),v.mac){var S=null,x=0,V=u.derToOid(v.macAlgorithm);switch(V){case p.oids.sha1:S=d.md.sha1.create(),x=20;break;case p.oids.sha256:S=d.md.sha256.create(),x=32;break;case p.oids.sha384:S=d.md.sha384.create(),x=48;break;case p.oids.sha512:S=d.md.sha512.create(),x=64;break;case p.oids.md5:S=d.md.md5.create(),x=16}if(null===S)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+V);var c=new d.util.ByteBuffer(v.macSalt),j="macIterations"in v?parseInt(d.util.bytesToHex(v.macIterations),16):1,Q=N.generateKey(h,c,3,j,x,S),$=d.hmac.create();if($.start(S,Q),$.update(W.value),$.getMac().getBytes()!==v.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function G(D,T,h,v){if((T=u.fromDer(T,h)).tagClass!==u.Class.UNIVERSAL||T.type!==u.Type.SEQUENCE||!0!==T.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var A=0;A<T.value.length;A++){var H={},W=[];if(!u.validate(T.value[A],w,H,W))throw(S=new Error("Cannot read ContentInfo.")).errors=W,S;var x={encrypted:!1},V=null,c=H.content.value[0];switch(u.derToOid(H.contentType)){case p.oids.data:if(c.tagClass!==u.Class.UNIVERSAL||c.type!==u.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");V=B(c).value;break;case p.oids.encryptedData:V=R(c,v),x.encrypted=!0;break;default:var S;throw(S=new Error("Unsupported PKCS#12 contentType.")).contentType=u.derToOid(H.contentType),S}x.safeBags=_(V,h,v),D.safeContents.push(x)}}(H,W.value,T,h),H},N.toPkcs12Asn1=function(D,T,h,v){(v=v||{}).saltSize=v.saltSize||8,v.count=v.count||2048,v.algorithm=v.algorithm||v.encAlgorithm||"aes128","useMac"in v||(v.useMac=!0),"localKeyId"in v||(v.localKeyId=null),"generateLocalKeyId"in v||(v.generateLocalKeyId=!0);var F,A=v.localKeyId;if(null!==A)A=d.util.hexToBytes(A);else if(v.generateLocalKeyId)if(T){var H=d.util.isArray(T)?T[0]:T;"string"==typeof H&&(H=p.certificateFromPem(H)),(W=d.md.sha1.create()).update(u.toDer(p.certificateToAsn1(H)).getBytes()),A=W.digest().getBytes()}else A=d.random.getBytes(20);var S=[];null!==A&&S.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.localKeyId).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A)])])),"friendlyName"in v&&S.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.friendlyName).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.BMPSTRING,!1,v.friendlyName)])])),S.length>0&&(F=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,S));var x=[],V=[];null!==T&&(V=d.util.isArray(T)?T:[T]);for(var c=[],j=0;j<V.length;++j){"string"==typeof(T=V[j])&&(T=p.certificateFromPem(T));var Q=0===j?F:void 0,$=p.certificateToAsn1(T),ne=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.certBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.x509Certificate).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer($).getBytes())])])]),Q]);c.push(ne)}if(c.length>0){var te=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,c),re=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(te).getBytes())])]);x.push(re)}var de=null;if(null!==D){var he=p.wrapRsaPrivateKey(p.privateKeyToAsn1(D));de=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,null===h?[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.keyBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[he]),F]:[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.pkcs8ShroudedKeyBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[p.encryptPrivateKeyInfo(he,h,v)]),F]);var Ce=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[de]),Ae=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(Ce).getBytes())])]);x.push(Ae)}var nt,Le=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,x);if(v.useMac){var W=d.md.sha1.create(),dt=new d.util.ByteBuffer(d.random.getBytes(v.saltSize)),pe=v.count,Ye=(D=N.generateKey(h,dt,3,pe,20),d.hmac.create());Ye.start(W,D),Ye.update(u.toDer(Le).getBytes());var ke=Ye.getMac();nt=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.sha1).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,ke.getBytes())]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,dt.getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(pe).getBytes())])}return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(3).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(Le).getBytes())])]),nt])},N.generateKey=d.pbe.generatePkcs12Key},422:(_e,Je,Y)=>{var d=Y(659);Y(298),Y(791),Y(279),Y(78),Y(604),Y(957),Y(365),Y(747),Y(911);var u=d.asn1,p=_e.exports=d.pkcs7=d.pkcs7||{};function N(D){var T={},h=[];if(!u.validate(D,p.asn1.recipientInfoValidator,T,h)){var v=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw v.errors=h,v}return{version:T.version.charCodeAt(0),issuer:d.pki.RDNAttributesAsArray(T.issuer),serialNumber:d.util.createBuffer(T.serial).toHex(),encryptedContent:{algorithm:u.derToOid(T.encAlgorithm),parameter:T.encParameter?T.encParameter.value:void 0,content:T.encKey}}}function w(D){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[d.pki.distinguishedNameToAsn1({attributes:D.issuer}),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.util.hexToBytes(D.serialNumber))]),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.encryptedContent.algorithm).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.encryptedContent.content)])}function b(D){for(var T=[],h=0;h<D.length;++h)T.push(w(D[h]));return T}function f(D){var T=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[d.pki.distinguishedNameToAsn1({attributes:D.issuer}),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.util.hexToBytes(D.serialNumber))]),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.digestAlgorithm).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])]);if(D.authenticatedAttributesAsn1&&T.value.push(D.authenticatedAttributesAsn1),T.value.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.signatureAlgorithm).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])),T.value.push(u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.signature)),D.unauthenticatedAttributes.length>0){for(var h=u.create(u.Class.CONTEXT_SPECIFIC,1,!0,[]),v=0;v<D.unauthenticatedAttributes.length;++v)h.values.push(G(D.unauthenticatedAttributes[v]));T.value.push(h)}return T}function G(D){var T;if(D.type===d.pki.oids.contentType)T=u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.value).getBytes());else if(D.type===d.pki.oids.messageDigest)T=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.value.bytes());else if(D.type===d.pki.oids.signingTime){var h=new Date("1950-01-01T00:00:00Z"),v=new Date("2050-01-01T00:00:00Z"),A=D.value;if("string"==typeof A){var F=Date.parse(A);A=isNaN(F)?13===A.length?u.utcTimeToDate(A):u.generalizedTimeToDate(A):new Date(F)}T=A>=h&&A<v?u.create(u.Class.UNIVERSAL,u.Type.UTCTIME,!1,u.dateToUtcTime(A)):u.create(u.Class.UNIVERSAL,u.Type.GENERALIZEDTIME,!1,u.dateToGeneralizedTime(A))}return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.type).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[T])])}function R(D){return[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(d.pki.oids.data).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.algorithm).getBytes()),D.parameter?u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.parameter.getBytes()):void 0]),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,D.content.getBytes())])]}function _(D,T,h){var v={};if(!u.validate(T,h,v,[])){var F=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw F.errors=F,F}if(u.derToOid(v.contentType)!==d.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(v.encryptedContent){var W="";if(d.util.isArray(v.encryptedContent))for(var S=0;S<v.encryptedContent.length;++S){if(v.encryptedContent[S].type!==u.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");W+=v.encryptedContent[S].value}else W=v.encryptedContent;D.encryptedContent={algorithm:u.derToOid(v.encAlgorithm),parameter:d.util.createBuffer(v.encParameter.value),content:d.util.createBuffer(W)}}if(v.content){if(W="",d.util.isArray(v.content))for(S=0;S<v.content.length;++S){if(v.content[S].type!==u.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");W+=v.content[S].value}else W=v.content;D.content=d.util.createBuffer(W)}return D.version=v.version.charCodeAt(0),D.rawCapture=v,v}function k(D){if(void 0===D.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===D.content){var T;switch(D.encryptedContent.algorithm){case d.pki.oids["aes128-CBC"]:case d.pki.oids["aes192-CBC"]:case d.pki.oids["aes256-CBC"]:T=d.aes.createDecryptionCipher(D.encryptedContent.key);break;case d.pki.oids.desCBC:case d.pki.oids["des-EDE3-CBC"]:T=d.des.createDecryptionCipher(D.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+D.encryptedContent.algorithm)}if(T.start(D.encryptedContent.parameter),T.update(D.encryptedContent.content),!T.finish())throw new Error("Symmetric decryption failed.");D.content=T.output}}p.messageFromPem=function(D){var T=d.pem.decode(D)[0];if("PKCS7"!==T.type){var h=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw h.headerType=T.type,h}if(T.procType&&"ENCRYPTED"===T.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var v=u.fromDer(T.body);return p.messageFromAsn1(v)},p.messageToPem=function(D,T){var h={type:"PKCS7",body:u.toDer(D.toAsn1()).getBytes()};return d.pem.encode(h,{maxline:T})},p.messageFromAsn1=function(D){var T={},h=[];if(!u.validate(D,p.asn1.contentInfoValidator,T,h)){var v=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw v.errors=h,v}var F,A=u.derToOid(T.contentType);switch(A){case d.pki.oids.envelopedData:F=p.createEnvelopedData();break;case d.pki.oids.encryptedData:F=p.createEncryptedData();break;case d.pki.oids.signedData:F=p.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+A+" is not (yet) supported.")}return F.fromAsn1(T.content.value[0]),F},p.createSignedData=function(){var D=null;return D={type:d.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(v){if(_(D,v,p.asn1.signedDataValidator),D.certificates=[],D.crls=[],D.digestAlgorithmIdentifiers=[],D.contentInfo=null,D.signerInfos=[],D.rawCapture.certificates)for(var A=D.rawCapture.certificates.value,F=0;F<A.length;++F)D.certificates.push(d.pki.certificateFromAsn1(A[F]))},toAsn1:function(){D.contentInfo||D.sign();for(var v=[],A=0;A<D.certificates.length;++A)v.push(d.pki.certificateToAsn1(D.certificates[A]));var F=[],H=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,D.digestAlgorithmIdentifiers),D.contentInfo])]);return v.length>0&&H.value[0].value.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,v)),F.length>0&&H.value[0].value.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,F)),H.value[0].value.push(u.create(u.Class.UNIVERSAL,u.Type.SET,!0,D.signerInfos)),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.type).getBytes()),H])},addSigner:function(v){var A=v.issuer,F=v.serialNumber;if(v.certificate){var H=v.certificate;"string"==typeof H&&(H=d.pki.certificateFromPem(H)),A=H.issuer.attributes,F=H.serialNumber}var W=v.key;if(!W)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof W&&(W=d.pki.privateKeyFromPem(W));var S=v.digestAlgorithm||d.pki.oids.sha1;switch(S){case d.pki.oids.sha1:case d.pki.oids.sha256:case d.pki.oids.sha384:case d.pki.oids.sha512:case d.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+S)}var x=v.authenticatedAttributes||[];if(x.length>0){for(var V=!1,c=!1,j=0;j<x.length;++j){var Q=x[j];if(V||Q.type!==d.pki.oids.contentType){if(c||Q.type!==d.pki.oids.messageDigest);else if(c=!0,V)break}else if(V=!0,c)break}if(!V||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}D.signers.push({key:W,version:1,issuer:A,serialNumber:F,digestAlgorithm:S,signatureAlgorithm:d.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:x,unauthenticatedAttributes:[]})},sign:function(v){var A;if(v=v||{},"object"==typeof D.content&&null!==D.contentInfo||(D.contentInfo=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(d.pki.oids.data).getBytes())]),!("content"in D))||(D.content instanceof d.util.ByteBuffer?A=D.content.bytes():"string"==typeof D.content&&(A=d.util.encodeUtf8(D.content)),v.detached?D.detachedContent=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A):D.contentInfo.value.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A)]))),0!==D.signers.length){var F=function T(){for(var v={},A=0;A<D.signers.length;++A){var F=D.signers[A];(H=F.digestAlgorithm)in v||(v[H]=d.md[d.pki.oids[H]].create()),F.md=0===F.authenticatedAttributes.length?v[H]:d.md[d.pki.oids[H]].create()}for(var H in D.digestAlgorithmIdentifiers=[],v)D.digestAlgorithmIdentifiers.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(H).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]));return v}();!function h(v){var A;if(D.detachedContent?A=D.detachedContent:A=(A=D.contentInfo.value[1]).value[0],!A)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var F=u.derToOid(D.contentInfo.value[0].value),H=u.toDer(A);for(var W in H.getByte(),u.getBerValueLength(H),H=H.getBytes(),v)v[W].start().update(H);for(var S=new Date,x=0;x<D.signers.length;++x){var V=D.signers[x];if(0===V.authenticatedAttributes.length){if(F!==d.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{V.authenticatedAttributesAsn1=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var c=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[]),j=0;j<V.authenticatedAttributes.length;++j){var Q=V.authenticatedAttributes[j];Q.type===d.pki.oids.messageDigest?Q.value=v[V.digestAlgorithm].digest():Q.type===d.pki.oids.signingTime&&(Q.value||(Q.value=S)),c.value.push(G(Q)),V.authenticatedAttributesAsn1.value.push(G(Q))}H=u.toDer(c).getBytes(),V.md.start().update(H)}V.signature=V.key.sign(V.md,"RSASSA-PKCS1-V1_5")}D.signerInfos=function B(D){for(var T=[],h=0;h<D.length;++h)T.push(f(D[h]));return T}(D.signers)}(F)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(v){"string"==typeof v&&(v=d.pki.certificateFromPem(v)),D.certificates.push(v)},addCertificateRevokationList:function(v){throw new Error("PKCS#7 CRL support not yet implemented.")}}},p.createEncryptedData=function(){var D=null;return D={type:d.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:d.pki.oids["aes256-CBC"]},fromAsn1:function(T){_(D,T,p.asn1.encryptedDataValidator)},decrypt:function(T){void 0!==T&&(D.encryptedContent.key=T),k(D)}}},p.createEnvelopedData=function(){var D=null;return D={type:d.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:d.pki.oids["aes256-CBC"]},fromAsn1:function(T){var h=_(D,T,p.asn1.envelopedDataValidator);D.recipients=function M(D){for(var T=[],h=0;h<D.length;++h)T.push(N(D[h]));return T}(h.recipientInfos.value)},toAsn1:function(){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(D.type).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(D.version).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,b(D.recipients)),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,R(D.encryptedContent))])])])},findRecipient:function(T){for(var h=T.issuer.attributes,v=0;v<D.recipients.length;++v){var A=D.recipients[v],F=A.issuer;if(A.serialNumber===T.serialNumber&&F.length===h.length){for(var H=!0,W=0;W<h.length;++W)if(F[W].type!==h[W].type||F[W].value!==h[W].value){H=!1;break}if(H)return A}}return null},decrypt:function(T,h){if(void 0===D.encryptedContent.key&&void 0!==T&&void 0!==h)switch(T.encryptedContent.algorithm){case d.pki.oids.rsaEncryption:case d.pki.oids.desCBC:var v=h.decrypt(T.encryptedContent.content);D.encryptedContent.key=d.util.createBuffer(v);break;default:throw new Error("Unsupported asymmetric cipher, OID "+T.encryptedContent.algorithm)}k(D)},addRecipient:function(T){D.recipients.push({version:0,issuer:T.issuer.attributes,serialNumber:T.serialNumber,encryptedContent:{algorithm:d.pki.oids.rsaEncryption,key:T.publicKey}})},encrypt:function(T,h){if(void 0===D.encryptedContent.content){var v,A,F;switch(T=T||D.encryptedContent.key,h=h||D.encryptedContent.algorithm){case d.pki.oids["aes128-CBC"]:v=16,A=16,F=d.aes.createEncryptionCipher;break;case d.pki.oids["aes192-CBC"]:v=24,A=16,F=d.aes.createEncryptionCipher;break;case d.pki.oids["aes256-CBC"]:v=32,A=16,F=d.aes.createEncryptionCipher;break;case d.pki.oids["des-EDE3-CBC"]:v=24,A=8,F=d.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+h)}if(void 0===T)T=d.util.createBuffer(d.random.getBytes(v));else if(T.length()!=v)throw new Error("Symmetric key has wrong length; got "+T.length()+" bytes, expected "+v+".");D.encryptedContent.algorithm=h,D.encryptedContent.key=T,D.encryptedContent.parameter=d.util.createBuffer(d.random.getBytes(A));var H=F(T);if(H.start(D.encryptedContent.parameter.copy()),H.update(D.content),!H.finish())throw new Error("Symmetric encryption failed.");D.encryptedContent.content=H.output}for(var W=0;W<D.recipients.length;++W){var S=D.recipients[W];if(void 0===S.encryptedContent.content){if(S.encryptedContent.algorithm!==d.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+S.encryptedContent.algorithm);S.encryptedContent.content=S.encryptedContent.key.encrypt(D.encryptedContent.key.data)}}}}}},957:(_e,Je,Y)=>{var d=Y(659);Y(791),Y(747);var u=d.asn1,p=_e.exports=d.pkcs7asn1=d.pkcs7asn1||{};d.pkcs7=d.pkcs7||{},d.pkcs7.asn1=p;var N={name:"ContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p.contentInfoValidator=N;var w={name:"EncryptedContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:u.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p.envelopedDataValidator={name:"EnvelopedData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(w)},p.encryptedDataValidator={name:"EncryptedData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"}].concat(w)},p.signedDataValidator={name:"SignedData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},N,{name:"SignedData.Certificates",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:u.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},p.recipientInfoValidator={name:"RecipientInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:u.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},965:(_e,Je,Y)=>{var d=Y(659);Y(791),Y(78),Y(158),Y(604),Y(949),Y(562),Y(256),Y(517),Y(747),Y(911);var u=d.asn1,p=_e.exports=d.pki=d.pki||{};p.pemToDer=function(N){var w=d.pem.decode(N)[0];if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return d.util.createBuffer(w.body)},p.privateKeyFromPem=function(N){var w=d.pem.decode(N)[0];if("PRIVATE KEY"!==w.type&&"RSA PRIVATE KEY"!==w.type){var M=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw M.headerType=w.type,M}if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var b=u.fromDer(w.body);return p.privateKeyFromAsn1(b)},p.privateKeyToPem=function(N,w){var M={type:"RSA PRIVATE KEY",body:u.toDer(p.privateKeyToAsn1(N)).getBytes()};return d.pem.encode(M,{maxline:w})},p.privateKeyInfoToPem=function(N,w){var M={type:"PRIVATE KEY",body:u.toDer(N).getBytes()};return d.pem.encode(M,{maxline:w})}},709:(_e,Je,Y)=>{var d=Y(659);Y(747),Y(730),Y(365),function(){if(d.prime)_e.exports=d.prime;else{var u=_e.exports=d.prime=d.prime||{},p=d.jsbn.BigInteger,N=[6,4,2,4,2,4,6,2],w=new p(null);w.fromInt(30);var M=function(R,_){return R|_};u.generateProbablePrime=function(R,_,k){"function"==typeof _&&(k=_,_={});var D=(_=_||{}).algorithm||"PRIMEINC";"string"==typeof D&&(D={name:D}),D.options=D.options||{};var T=_.prng||d.random;if("PRIMEINC"===D.name)return function b(R,_,k,D){return"workers"in k?function C(R,_,k,D){if(typeof Worker>"u")return E(R,_,k,D);var T=B(R,_),h=k.workers,v=k.workLoad||100,A=30*v/8,F=k.workerScript||"forge/prime.worker.js";if(-1===h)return d.util.estimateCores(function(W,S){W&&(S=2),h=S-1,H()});function H(){h=Math.max(1,h);for(var W=[],S=0;S<h;++S)W[S]=new Worker(F);for(S=0;S<h;++S)W[S].addEventListener("message",c);var V=!1;function c(j){if(!V){var Q=j.data;if(Q.found){for(var $=0;$<W.length;++$)W[$].terminate();return V=!0,D(null,new p(Q.prime,16))}T.bitLength()>R&&(T=B(R,_));var ne=T.toString(16);j.target.postMessage({hex:ne,workLoad:v}),T.dAddOffset(A,0)}}}H()}(R,_,k,D):E(R,_,k,D)}(R,{nextBytes:function(v){for(var A=T.getBytesSync(v.length),F=0;F<v.length;++F)v[F]=A.charCodeAt(F)}},D.options,k);throw new Error("Invalid prime generation algorithm: "+D.name)}}function E(R,_,k,D){var T=B(R,_),v=function G(R){return R<=100?27:R<=150?18:R<=200?15:R<=250?12:R<=300?9:R<=350?8:R<=400?7:R<=500?6:R<=600?5:R<=800?4:R<=1250?3:2}(T.bitLength());"millerRabinTests"in k&&(v=k.millerRabinTests);var A=10;"maxBlockTime"in k&&(A=k.maxBlockTime),f(T,R,_,0,v,A,D)}function f(R,_,k,D,T,h,v){var A=+new Date;do{if(R.bitLength()>_&&(R=B(_,k)),R.isProbablePrime(T))return v(null,R);R.dAddOffset(N[D++%8],0)}while(h<0||+new Date-A<h);d.util.setImmediate(function(){f(R,_,k,D,T,h,v)})}function B(R,_){var k=new p(R,_),D=R-1;return k.testBit(D)||k.bitwiseTo(p.ONE.shiftLeft(D),M,k),k.dAddOffset(31-k.mod(w).byteValue(),0),k}}()},473:(_e,Je,Y)=>{var d=Y(659);Y(747);var u=null;d.util.isNodejs&&!d.options.usePureJavaScript&&!process.versions["node-webkit"]&&(u=Y(819)),(_e.exports=d.prng=d.prng||{}).create=function(N){for(var w={plugin:N,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},M=N.md,b=new Array(32),E=0;E<32;++E)b[E]=M.create();function C(){if(w.pools[0].messageLength>=32)return B();w.collect(w.seedFileSync(32-w.pools[0].messageLength<<5)),B()}function B(){w.reseeds=4294967295===w.reseeds?0:w.reseeds+1;var R=w.plugin.md.create();R.update(w.keyBytes);for(var _=1,k=0;k<32;++k)w.reseeds%_==0&&(R.update(w.pools[k].digest().getBytes()),w.pools[k].start()),_<<=1;w.keyBytes=R.digest().getBytes(),R.start(),R.update(w.keyBytes);var D=R.digest().getBytes();w.key=w.plugin.formatKey(w.keyBytes),w.seed=w.plugin.formatSeed(D),w.generated=0}function G(R){var _=null,k=d.util.globalScope,D=k.crypto||k.msCrypto;D&&D.getRandomValues&&(_=function(x){return D.getRandomValues(x)});var T=d.util.createBuffer();if(_)for(;T.length()<R;){var h=Math.max(1,Math.min(R-T.length(),65536)/4),v=new Uint32Array(Math.floor(h));try{_(v);for(var A=0;A<v.length;++A)T.putInt32(v[A])}catch(x){if(!(typeof QuotaExceededError<"u"&&x instanceof QuotaExceededError))throw x}}if(T.length()<R)for(var F,H,W,S=Math.floor(65536*Math.random());T.length()<R;)for(H=16807*(65535&S),H+=(32767&(F=16807*(S>>16)))<<16,S=4294967295&(H=(2147483647&(H+=F>>15))+(H>>31)),A=0;A<3;++A)W=S>>>(A<<3),W^=Math.floor(256*Math.random()),T.putByte(255&W);return T.getBytes(R)}return w.pools=b,w.pool=0,w.generate=function(R,_){if(!_)return w.generateSync(R);var k=w.plugin.cipher,D=w.plugin.increment,T=w.plugin.formatKey,h=w.plugin.formatSeed,v=d.util.createBuffer();w.key=null,function A(F){if(F)return _(F);if(v.length()>=R)return _(null,v.getBytes(R));if(w.generated>1048575&&(w.key=null),null===w.key)return d.util.nextTick(function(){!function f(R){if(w.pools[0].messageLength>=32)return B(),R();w.seedFile(32-w.pools[0].messageLength<<5,function(k,D){if(k)return R(k);w.collect(D),B(),R()})}(A)});var H=k(w.key,w.seed);w.generated+=H.length,v.putBytes(H),w.key=T(k(w.key,D(w.seed))),w.seed=h(k(w.key,w.seed)),d.util.setImmediate(A)}()},w.generateSync=function(R){var _=w.plugin.cipher,k=w.plugin.increment,D=w.plugin.formatKey,T=w.plugin.formatSeed;w.key=null;for(var h=d.util.createBuffer();h.length()<R;){w.generated>1048575&&(w.key=null),null===w.key&&C();var v=_(w.key,w.seed);w.generated+=v.length,h.putBytes(v),w.key=D(_(w.key,k(w.seed))),w.seed=T(_(w.key,w.seed))}return h.getBytes(R)},u?(w.seedFile=function(R,_){u.randomBytes(R,function(k,D){if(k)return _(k);_(null,D.toString())})},w.seedFileSync=function(R){return u.randomBytes(R).toString()}):(w.seedFile=function(R,_){try{_(null,G(R))}catch(k){_(k)}},w.seedFileSync=G),w.collect=function(R){for(var _=R.length,k=0;k<_;++k)w.pools[w.pool].update(R.substr(k,1)),w.pool=31===w.pool?0:w.pool+1},w.collectInt=function(R,_){for(var k="",D=0;D<_;D+=8)k+=String.fromCharCode(R>>D&255);w.collect(k)},w.registerWorker=function(R){R===self?w.seedFile=function(k,D){self.addEventListener("message",function T(h){var v=h.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",T),D(v.forge.prng.err,v.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:k}}})}:R.addEventListener("message",function(k){var D=k.data;D.forge&&D.forge.prng&&w.seedFile(D.forge.prng.needed,function(T,h){R.postMessage({forge:{prng:{err:T,bytes:h}}})})})},w}},256:(_e,Je,Y)=>{var d=Y(659);Y(365),Y(747),(_e.exports=d.pss=d.pss||{}).create=function(p){3===arguments.length&&(p={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var E,N=p.md,w=p.mgf,M=N.digestLength,b=p.salt||null;if("string"==typeof b&&(b=d.util.createBuffer(b)),"saltLength"in p)E=p.saltLength;else{if(null===b)throw new Error("Salt length not specified or specific salt not given.");E=b.length()}if(null!==b&&b.length()!==E)throw new Error("Given salt length does not match length of given salt.");var f=p.prng||d.random;return{encode:function(B,G){var R,T,_=G-1,k=Math.ceil(_/8),D=B.digest().getBytes();if(k<M+E+2)throw new Error("Message is too long to encrypt.");T=null===b?f.getBytesSync(E):b.bytes();var h=new d.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(D),h.putBytes(T),N.start(),N.update(h.getBytes());var v=N.digest().getBytes(),A=new d.util.ByteBuffer;A.fillWithByte(0,k-E-M-2),A.putByte(1),A.putBytes(T);var F=A.getBytes(),H=k-M-1,W=w.generate(v,H),S="";for(R=0;R<H;R++)S+=String.fromCharCode(F.charCodeAt(R)^W.charCodeAt(R));var x=65280>>8*k-_&255;return(S=String.fromCharCode(S.charCodeAt(0)&~x)+S.substr(1))+v+String.fromCharCode(188)},verify:function(B,G,R){var _,k=R-1,D=Math.ceil(k/8);if(G=G.substr(-D),D<M+E+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==G.charCodeAt(D-1))throw new Error("Encoded message does not end in 0xBC.");var T=D-M-1,h=G.substr(0,T),v=G.substr(T,M),A=65280>>8*D-k&255;if(h.charCodeAt(0)&A)throw new Error("Bits beyond keysize not zero as expected.");var F=w.generate(v,T),H="";for(_=0;_<T;_++)H+=String.fromCharCode(h.charCodeAt(_)^F.charCodeAt(_));H=String.fromCharCode(H.charCodeAt(0)&~A)+H.substr(1);var W=D-M-E-2;for(_=0;_<W;_++)if(0!==H.charCodeAt(_))throw new Error("Leftmost octets not zero as expected");if(1!==H.charCodeAt(W))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var S=H.substr(-E),x=new d.util.ByteBuffer;return x.fillWithByte(0,8),x.putBytes(B),x.putBytes(S),N.start(),N.update(x.getBytes()),v===N.digest().getBytes()}}}},365:(_e,Je,Y)=>{var d=Y(659);Y(298),Y(594),Y(473),Y(747),d.random&&d.random.getBytes?_e.exports=d.random:function(u){var p={},N=new Array(4),w=d.util.createBuffer();function M(){var R=d.prng.create(p);return R.getBytes=function(_,k){return R.generate(_,k)},R.getBytesSync=function(_){return R.generate(_)},R}p.formatKey=function(R){var _=d.util.createBuffer(R);return(R=new Array(4))[0]=_.getInt32(),R[1]=_.getInt32(),R[2]=_.getInt32(),R[3]=_.getInt32(),d.aes._expandKey(R,!1)},p.formatSeed=function(R){var _=d.util.createBuffer(R);return(R=new Array(4))[0]=_.getInt32(),R[1]=_.getInt32(),R[2]=_.getInt32(),R[3]=_.getInt32(),R},p.cipher=function(R,_){return d.aes._updateBlock(R,_,N,!1),w.putInt32(N[0]),w.putInt32(N[1]),w.putInt32(N[2]),w.putInt32(N[3]),w.getBytes()},p.increment=function(R){return++R[3],R},p.md=d.md.sha256;var b=M(),E=null,f=d.util.globalScope,C=f.crypto||f.msCrypto;if(C&&C.getRandomValues&&(E=function(R){return C.getRandomValues(R)}),d.options.usePureJavaScript||!d.util.isNodejs&&!E){if(typeof window>"u"||window,b.collectInt(+new Date,32),typeof navigator<"u"){var B="";for(var G in navigator)try{"string"==typeof navigator[G]&&(B+=navigator[G])}catch{}b.collect(B),B=null}u&&(u().mousemove(function(R){b.collectInt(R.clientX,16),b.collectInt(R.clientY,16)}),u().keypress(function(R){b.collectInt(R.charCode,8)}))}if(d.random)for(var G in b)d.random[G]=b[G];else d.random=b;d.random.createInstance=M,_e.exports=d.random}(typeof jQuery<"u"?jQuery:null)},209:(_e,Je,Y)=>{var d=Y(659);Y(747);var u=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],p=[1,2,3,5],N=function(b,E){return b<<E&65535|(65535&b)>>16-E},w=function(b,E){return(65535&b)>>E|b<<16-E&65535};_e.exports=d.rc2=d.rc2||{},d.rc2.expandKey=function(b,E){"string"==typeof b&&(b=d.util.createBuffer(b)),E=E||128;var _,f=b,C=b.length(),B=E,G=Math.ceil(B/8),R=255>>(7&B);for(_=C;_<128;_++)f.putByte(u[f.at(_-1)+f.at(_-C)&255]);for(f.setAt(128-G,u[f.at(128-G)&R]),_=127-G;_>=0;_--)f.setAt(_,u[f.at(_+1)^f.at(_+G)]);return f};var M=function(b,E,f){var _,k,D,T,C=!1,B=null,G=null,R=null,h=[];for(b=d.rc2.expandKey(b,E),D=0;D<64;D++)h.push(b.getInt16Le());f?(_=function(F){for(D=0;D<4;D++)F[D]+=h[T]+(F[(D+3)%4]&F[(D+2)%4])+(~F[(D+3)%4]&F[(D+1)%4]),F[D]=N(F[D],p[D]),T++},k=function(F){for(D=0;D<4;D++)F[D]+=h[63&F[(D+3)%4]]}):(_=function(F){for(D=3;D>=0;D--)F[D]=w(F[D],p[D]),F[D]-=h[T]+(F[(D+3)%4]&F[(D+2)%4])+(~F[(D+3)%4]&F[(D+1)%4]),T--},k=function(F){for(D=3;D>=0;D--)F[D]-=h[63&F[(D+3)%4]]});var v=function(F){var H=[];for(D=0;D<4;D++){var W=B.getInt16Le();null!==R&&(f?W^=R.getInt16Le():R.putInt16Le(W)),H.push(65535&W)}T=f?0:63;for(var S=0;S<F.length;S++)for(var x=0;x<F[S][0];x++)F[S][1](H);for(D=0;D<4;D++)null!==R&&(f?R.putInt16Le(H[D]):H[D]^=R.getInt16Le()),G.putInt16Le(H[D])},A=null;return A={start:function(F,H){F&&"string"==typeof F&&(F=d.util.createBuffer(F)),C=!1,B=d.util.createBuffer(),G=H||new d.util.createBuffer,R=F,A.output=G},update:function(F){for(C||B.putBuffer(F);B.length()>=8;)v([[5,_],[1,k],[6,_],[1,k],[5,_]])},finish:function(F){var H=!0;if(f)if(F)H=F(8,B,!f);else{var W=8===B.length()?8:8-B.length();B.fillWithByte(W,W)}if(H&&(C=!0,A.update()),!f&&(H=0===B.length()))if(F)H=F(8,G,!f);else{var S=G.length(),x=G.at(S-1);x>S?H=!1:G.truncate(x)}return H}}};d.rc2.startEncrypting=function(b,E,f){var C=d.rc2.createEncryptionCipher(b,128);return C.start(E,f),C},d.rc2.createEncryptionCipher=function(b,E){return M(b,E,!0)},d.rc2.startDecrypting=function(b,E,f){var C=d.rc2.createDecryptionCipher(b,128);return C.start(E,f),C},d.rc2.createDecryptionCipher=function(b,E){return M(b,E,!1)}},517:(_e,Je,Y)=>{var d=Y(659);if(Y(791),Y(730),Y(78),Y(246),Y(709),Y(365),Y(747),typeof u>"u")var u=d.jsbn.BigInteger;var p=d.util.isNodejs?Y(819):null,N=d.asn1,w=d.util;d.pki=d.pki||{},_e.exports=d.pki.rsa=d.rsa=d.rsa||{};var M=d.pki,b=[6,4,2,4,2,4,6,2],E={name:"PrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},C={name:"RSAPublicKey",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},B=d.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:N.Class.UNIVERSAL,type:N.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},G={name:"DigestInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:N.Class.UNIVERSAL,type:N.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},R=function(c){if(!(c.algorithm in M.oids)){var Q=new Error("Unknown message digest algorithm.");throw Q.algorithm=c.algorithm,Q}var $=N.oidToDer(M.oids[c.algorithm]).getBytes(),ne=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]),te=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);te.value.push(N.create(N.Class.UNIVERSAL,N.Type.OID,!1,$)),te.value.push(N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,""));var re=N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,c.digest().getBytes());return ne.value.push(te),ne.value.push(re),N.toDer(ne).getBytes()},_=function(c,j,Q){if(Q)return c.modPow(j.e,j.n);if(!j.p||!j.q)return c.modPow(j.d,j.n);var $;j.dP||(j.dP=j.d.mod(j.p.subtract(u.ONE))),j.dQ||(j.dQ=j.d.mod(j.q.subtract(u.ONE))),j.qInv||(j.qInv=j.q.modInverse(j.p));do{$=new u(d.util.bytesToHex(d.random.getBytes(j.n.bitLength()/8)),16)}while($.compareTo(j.n)>=0||!$.gcd(j.n).equals(u.ONE));for(var ne=(c=c.multiply($.modPow(j.e,j.n)).mod(j.n)).mod(j.p).modPow(j.dP,j.p),te=c.mod(j.q).modPow(j.dQ,j.q);ne.compareTo(te)<0;)ne=ne.add(j.p);var re=ne.subtract(te).multiply(j.qInv).mod(j.p).multiply(j.q).add(te);return re.multiply($.modInverse(j.n)).mod(j.n)};function k(c,j,Q){var $=d.util.createBuffer(),ne=Math.ceil(j.n.bitLength()/8);if(c.length>ne-11){var te=new Error("Message is too long for PKCS#1 v1.5 padding.");throw te.length=c.length,te.max=ne-11,te}$.putByte(0),$.putByte(Q);var de,re=ne-3-c.length;if(0===Q||1===Q){de=0===Q?0:255;for(var he=0;he<re;++he)$.putByte(de)}else for(;re>0;){var Ce=0,Ae=d.random.getBytes(re);for(he=0;he<re;++he)0===(de=Ae.charCodeAt(he))?++Ce:$.putByte(de);re=Ce}return $.putByte(0),$.putBytes(c),$}function D(c,j,Q,$){var ne=Math.ceil(j.n.bitLength()/8),te=d.util.createBuffer(c),re=te.getByte(),de=te.getByte();if(0!==re||Q&&0!==de&&1!==de||!Q&&2!=de||Q&&0===de&&typeof $>"u")throw new Error("Encryption block is invalid.");var he=0;if(0===de){he=ne-3-$;for(var Ce=0;Ce<he;++Ce)if(0!==te.getByte())throw new Error("Encryption block is invalid.")}else if(1===de)for(he=0;te.length()>1;){if(255!==te.getByte()){--te.read;break}++he}else if(2===de)for(he=0;te.length()>1;){if(0===te.getByte()){--te.read;break}++he}if(0!==te.getByte()||he!==ne-3-te.length())throw new Error("Encryption block is invalid.");return te.getBytes()}function h(c){var j=c.toString(16);j[0]>="8"&&(j="00"+j);var Q=d.util.hexToBytes(j);return Q.length>1&&(0===Q.charCodeAt(0)&&!(128&Q.charCodeAt(1))||255===Q.charCodeAt(0)&&128==(128&Q.charCodeAt(1)))?Q.substr(1):Q}function v(c){return c<=100?27:c<=150?18:c<=200?15:c<=250?12:c<=300?9:c<=350?8:c<=400?7:c<=500?6:c<=600?5:c<=800?4:c<=1250?3:2}function A(c){return d.util.isNodejs&&"function"==typeof p[c]}function F(c){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.crypto&&"object"==typeof w.globalScope.crypto.subtle&&"function"==typeof w.globalScope.crypto.subtle[c]}function H(c){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.msCrypto&&"object"==typeof w.globalScope.msCrypto.subtle&&"function"==typeof w.globalScope.msCrypto.subtle[c]}function W(c){for(var j=d.util.hexToBytes(c.toString(16)),Q=new Uint8Array(j.length),$=0;$<j.length;++$)Q[$]=j.charCodeAt($);return Q}M.rsa.encrypt=function(c,j,Q){var ne,$=Q,te=Math.ceil(j.n.bitLength()/8);!1!==Q&&!0!==Q?($=2===Q,ne=k(c,j,Q)):(ne=d.util.createBuffer()).putBytes(c);for(var re=new u(ne.toHex(),16),he=_(re,j,$).toString(16),Ce=d.util.createBuffer(),Ae=te-Math.ceil(he.length/2);Ae>0;)Ce.putByte(0),--Ae;return Ce.putBytes(d.util.hexToBytes(he)),Ce.getBytes()},M.rsa.decrypt=function(c,j,Q,$){var ne=Math.ceil(j.n.bitLength()/8);if(c.length!==ne){var te=new Error("Encrypted message length is invalid.");throw te.length=c.length,te.expected=ne,te}var re=new u(d.util.createBuffer(c).toHex(),16);if(re.compareTo(j.n)>=0)throw new Error("Encrypted message is invalid.");for(var he=_(re,j,Q).toString(16),Ce=d.util.createBuffer(),Ae=ne-Math.ceil(he.length/2);Ae>0;)Ce.putByte(0),--Ae;return Ce.putBytes(d.util.hexToBytes(he)),!1!==$?D(Ce.getBytes(),j,Q):Ce.getBytes()},M.rsa.createKeyPairGenerationState=function(c,j,Q){"string"==typeof c&&(c=parseInt(c,10)),c=c||2048;var re,$=(Q=Q||{}).prng||d.random,ne={nextBytes:function(de){for(var he=$.getBytesSync(de.length),Ce=0;Ce<de.length;++Ce)de[Ce]=he.charCodeAt(Ce)}},te=Q.algorithm||"PRIMEINC";if("PRIMEINC"!==te)throw new Error("Invalid key generation algorithm: "+te);return(re={algorithm:te,state:0,bits:c,rng:ne,eInt:j||65537,e:new u(null),p:null,q:null,qBits:c>>1,pBits:c-(c>>1),pqState:0,num:null,keys:null}).e.fromInt(re.eInt),re},M.rsa.stepKeyPairGenerationState=function(c,j){"algorithm"in c||(c.algorithm="PRIMEINC");var Q=new u(null);Q.fromInt(30);for(var re,$=0,ne=function(Le,nt){return Le|nt},te=+new Date,de=0;null===c.keys&&(j<=0||de<j);){if(0===c.state){var he=null===c.p?c.pBits:c.qBits,Ce=he-1;0===c.pqState?(c.num=new u(he,c.rng),c.num.testBit(Ce)||c.num.bitwiseTo(u.ONE.shiftLeft(Ce),ne,c.num),c.num.dAddOffset(31-c.num.mod(Q).byteValue(),0),$=0,++c.pqState):1===c.pqState?c.num.bitLength()>he?c.pqState=0:c.num.isProbablePrime(v(c.num.bitLength()))?++c.pqState:c.num.dAddOffset(b[$++%8],0):2===c.pqState?c.pqState=0===c.num.subtract(u.ONE).gcd(c.e).compareTo(u.ONE)?3:0:3===c.pqState&&(c.pqState=0,null===c.p?c.p=c.num:c.q=c.num,null!==c.p&&null!==c.q&&++c.state,c.num=null)}else if(1===c.state)c.p.compareTo(c.q)<0&&(c.num=c.p,c.p=c.q,c.q=c.num),++c.state;else if(2===c.state)c.p1=c.p.subtract(u.ONE),c.q1=c.q.subtract(u.ONE),c.phi=c.p1.multiply(c.q1),++c.state;else if(3===c.state)0===c.phi.gcd(c.e).compareTo(u.ONE)?++c.state:(c.p=null,c.q=null,c.state=0);else if(4===c.state)c.n=c.p.multiply(c.q),c.n.bitLength()===c.bits?++c.state:(c.q=null,c.state=0);else if(5===c.state){var Ae=c.e.modInverse(c.phi);c.keys={privateKey:M.rsa.setPrivateKey(c.n,c.e,Ae,c.p,c.q,Ae.mod(c.p1),Ae.mod(c.q1),c.q.modInverse(c.p)),publicKey:M.rsa.setPublicKey(c.n,c.e)}}de+=(re=+new Date)-te,te=re}return null!==c.keys},M.rsa.generateKeyPair=function(c,j,Q,$){if(1===arguments.length?"object"==typeof c?(Q=c,c=void 0):"function"==typeof c&&($=c,c=void 0):2===arguments.length?"number"==typeof c?"function"==typeof j?($=j,j=void 0):"number"!=typeof j&&(Q=j,j=void 0):(Q=c,$=j,c=void 0,j=void 0):3===arguments.length&&("number"==typeof j?"function"==typeof Q&&($=Q,Q=void 0):($=Q,Q=j,j=void 0)),Q=Q||{},void 0===c&&(c=Q.bits||2048),void 0===j&&(j=Q.e||65537),!d.options.usePureJavaScript&&!Q.prng&&c>=256&&c<=16384&&(65537===j||3===j))if($){if(A("generateKeyPair"))return p.generateKeyPair("rsa",{modulusLength:c,publicExponent:j,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(de,he,Ce){if(de)return $(de);$(null,{privateKey:M.privateKeyFromPem(Ce),publicKey:M.publicKeyFromPem(he)})});if(F("generateKey")&&F("exportKey"))return w.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:c,publicExponent:W(j),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(de){return w.globalScope.crypto.subtle.exportKey("pkcs8",de.privateKey)}).then(void 0,function(de){$(de)}).then(function(de){if(de){var he=M.privateKeyFromAsn1(N.fromDer(d.util.createBuffer(de)));$(null,{privateKey:he,publicKey:M.setRsaPublicKey(he.n,he.e)})}});if(H("generateKey")&&H("exportKey")){var ne=w.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:c,publicExponent:W(j),hash:{name:"SHA-256"}},!0,["sign","verify"]);return ne.oncomplete=function(de){var Ce=w.globalScope.msCrypto.subtle.exportKey("pkcs8",de.target.result.privateKey);Ce.oncomplete=function(Ae){var nt=M.privateKeyFromAsn1(N.fromDer(d.util.createBuffer(Ae.target.result)));$(null,{privateKey:nt,publicKey:M.setRsaPublicKey(nt.n,nt.e)})},Ce.onerror=function(Ae){$(Ae)}},void(ne.onerror=function(de){$(de)})}}else if(A("generateKeyPairSync")){var te=p.generateKeyPairSync("rsa",{modulusLength:c,publicExponent:j,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:M.privateKeyFromPem(te.privateKey),publicKey:M.publicKeyFromPem(te.publicKey)}}var re=M.rsa.createKeyPairGenerationState(c,j,Q);if(!$)return M.rsa.stepKeyPairGenerationState(re,0),re.keys;!function T(c,j,Q){"function"==typeof j&&(Q=j,j={});var $={algorithm:{name:(j=j||{}).algorithm||"PRIMEINC",options:{workers:j.workers||2,workLoad:j.workLoad||100,workerScript:j.workerScript}}};function ne(){te(c.pBits,function(de,he){return de?Q(de):(c.p=he,null!==c.q?re(de,c.q):void te(c.qBits,re))})}function te(de,he){d.prime.generateProbablePrime(de,$,he)}function re(de,he){if(de)return Q(de);if(c.q=he,c.p.compareTo(c.q)<0){var Ce=c.p;c.p=c.q,c.q=Ce}if(0!==c.p.subtract(u.ONE).gcd(c.e).compareTo(u.ONE))return c.p=null,void ne();if(0!==c.q.subtract(u.ONE).gcd(c.e).compareTo(u.ONE))return c.q=null,void te(c.qBits,re);if(c.p1=c.p.subtract(u.ONE),c.q1=c.q.subtract(u.ONE),c.phi=c.p1.multiply(c.q1),0!==c.phi.gcd(c.e).compareTo(u.ONE))return c.p=c.q=null,void ne();if(c.n=c.p.multiply(c.q),c.n.bitLength()!==c.bits)return c.q=null,void te(c.qBits,re);var Ae=c.e.modInverse(c.phi);c.keys={privateKey:M.rsa.setPrivateKey(c.n,c.e,Ae,c.p,c.q,Ae.mod(c.p1),Ae.mod(c.q1),c.q.modInverse(c.p)),publicKey:M.rsa.setPublicKey(c.n,c.e)},Q(null,c.keys)}"prng"in j&&($.prng=j.prng),ne()}(re,Q,$)},M.setRsaPublicKey=M.rsa.setPublicKey=function(c,j){var Q={n:c,e:j,encrypt:function($,ne,te){if("string"==typeof ne?ne=ne.toUpperCase():void 0===ne&&(ne="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===ne)ne={encode:function(de,he,Ce){return k(de,he,2).getBytes()}};else if("RSA-OAEP"===ne||"RSAES-OAEP"===ne)ne={encode:function(de,he){return d.pkcs1.encode_rsa_oaep(he,de,te)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(ne))ne={encode:function(de){return de}};else if("string"==typeof ne)throw new Error('Unsupported encryption scheme: "'+ne+'".');var re=ne.encode($,Q,!0);return M.rsa.encrypt(re,Q,!0)},verify:function($,ne,te,re){"string"==typeof te?te=te.toUpperCase():void 0===te&&(te="RSASSA-PKCS1-V1_5"),void 0===re&&(re={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in re||(re._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===te?te={verify:function(he,Ce){Ce=D(Ce,Q,!0);var Ae=N.fromDer(Ce,{parseAllBytes:re._parseAllDigestBytes}),Le={},nt=[];if(!N.validate(Ae,G,Le,nt))throw(dt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=nt,dt;var dt,pe=N.derToOid(Le.algorithmIdentifier);if(pe!==d.oids.md2&&pe!==d.oids.md5&&pe!==d.oids.sha1&&pe!==d.oids.sha224&&pe!==d.oids.sha256&&pe!==d.oids.sha384&&pe!==d.oids.sha512&&pe!==d.oids["sha512-224"]&&pe!==d.oids["sha512-256"])throw(dt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=pe,dt;if((pe===d.oids.md2||pe===d.oids.md5)&&!("parameters"in Le))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return he===Le.digest}}:("NONE"===te||"NULL"===te||null===te)&&(te={verify:function(he,Ce){return he===D(Ce,Q,!0)}});var de=M.rsa.decrypt(ne,Q,!0,!1);return te.verify($,de,Q.n.bitLength())}};return Q},M.setRsaPrivateKey=M.rsa.setPrivateKey=function(c,j,Q,$,ne,te,re,de){var he={n:c,e:j,d:Q,p:$,q:ne,dP:te,dQ:re,qInv:de,decrypt:function(Ce,Ae,Le){"string"==typeof Ae?Ae=Ae.toUpperCase():void 0===Ae&&(Ae="RSAES-PKCS1-V1_5");var nt=M.rsa.decrypt(Ce,he,!1,!1);if("RSAES-PKCS1-V1_5"===Ae)Ae={decode:D};else if("RSA-OAEP"===Ae||"RSAES-OAEP"===Ae)Ae={decode:function(dt,pe){return d.pkcs1.decode_rsa_oaep(pe,dt,Le)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(Ae))throw new Error('Unsupported encryption scheme: "'+Ae+'".');Ae={decode:function(dt){return dt}}}return Ae.decode(nt,he,!1)},sign:function(Ce,Ae){var Le=!1;"string"==typeof Ae&&(Ae=Ae.toUpperCase()),void 0===Ae||"RSASSA-PKCS1-V1_5"===Ae?(Ae={encode:R},Le=1):("NONE"===Ae||"NULL"===Ae||null===Ae)&&(Ae={encode:function(){return Ce}},Le=1);var nt=Ae.encode(Ce,he.n.bitLength());return M.rsa.encrypt(nt,he,Le)}};return he},M.wrapRsaPrivateKey=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(0).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(M.oids.rsaEncryption).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")]),N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,N.toDer(c).getBytes())])},M.privateKeyFromAsn1=function(c){var ne,te,re,de,he,Ce,Ae,Le,j={},Q=[];if(N.validate(c,E,j,Q)&&(c=N.fromDer(d.util.createBuffer(j.privateKey))),!N.validate(c,f,j={},Q=[])){var $=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw $.errors=Q,$}return ne=d.util.createBuffer(j.privateKeyModulus).toHex(),te=d.util.createBuffer(j.privateKeyPublicExponent).toHex(),re=d.util.createBuffer(j.privateKeyPrivateExponent).toHex(),de=d.util.createBuffer(j.privateKeyPrime1).toHex(),he=d.util.createBuffer(j.privateKeyPrime2).toHex(),Ce=d.util.createBuffer(j.privateKeyExponent1).toHex(),Ae=d.util.createBuffer(j.privateKeyExponent2).toHex(),Le=d.util.createBuffer(j.privateKeyCoefficient).toHex(),M.setRsaPrivateKey(new u(ne,16),new u(te,16),new u(re,16),new u(de,16),new u(he,16),new u(Ce,16),new u(Ae,16),new u(Le,16))},M.privateKeyToAsn1=M.privateKeyToRSAPrivateKey=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(0).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.n)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.e)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.d)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.p)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.q)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.dP)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.dQ)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.qInv))])},M.publicKeyFromAsn1=function(c){var j={},Q=[];if(N.validate(c,B,j,Q)){var ne,$=N.derToOid(j.publicKeyOid);if($!==M.oids.rsaEncryption)throw(ne=new Error("Cannot read public key. Unknown OID.")).oid=$,ne;c=j.rsaPublicKey}if(!N.validate(c,C,j,Q=[]))throw(ne=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=Q,ne;var te=d.util.createBuffer(j.publicKeyModulus).toHex(),re=d.util.createBuffer(j.publicKeyExponent).toHex();return M.setRsaPublicKey(new u(te,16),new u(re,16))},M.publicKeyToAsn1=M.publicKeyToSubjectPublicKeyInfo=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(M.oids.rsaEncryption).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")]),N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,[M.publicKeyToRSAPublicKey(c)])])},M.publicKeyToRSAPublicKey=function(c){return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.n)),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,h(c.e))])}},690:(_e,Je,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.sha1=d.sha1||{};d.md.sha1=d.md.algorithms.sha1=u,u.create=function(){N||function w(){p=String.fromCharCode(128),p+=d.util.fillString(String.fromCharCode(0),64),N=!0}();var b=null,E=d.util.createBuffer(),f=new Array(80),C={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var B=C.messageLengthSize/4,G=0;G<B;++G)C.fullMessageLength.push(0);return E=d.util.createBuffer(),b={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},C}};return C.start(),C.update=function(B,G){"utf8"===G&&(B=d.util.encodeUtf8(B));var R=B.length;C.messageLength+=R,R=[R/4294967296>>>0,R>>>0];for(var _=C.fullMessageLength.length-1;_>=0;--_)C.fullMessageLength[_]+=R[1],R[1]=R[0]+(C.fullMessageLength[_]/4294967296>>>0),C.fullMessageLength[_]=C.fullMessageLength[_]>>>0,R[0]=R[1]/4294967296>>>0;return E.putBytes(B),M(b,f,E),(E.read>2048||0===E.length())&&E.compact(),C},C.digest=function(){var B=d.util.createBuffer();B.putBytes(E.bytes()),B.putBytes(p.substr(0,C.blockLength-(C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize&C.blockLength-1)));for(var _,D=8*C.fullMessageLength[0],T=0;T<C.fullMessageLength.length-1;++T)B.putInt32((D+=(_=8*C.fullMessageLength[T+1])/4294967296>>>0)>>>0),D=_>>>0;B.putInt32(D);var h={h0:b.h0,h1:b.h1,h2:b.h2,h3:b.h3,h4:b.h4};M(h,f,B);var v=d.util.createBuffer();return v.putInt32(h.h0),v.putInt32(h.h1),v.putInt32(h.h2),v.putInt32(h.h3),v.putInt32(h.h4),v},C};var p=null,N=!1;function M(b,E,f){for(var C,B,G,R,_,k,T,h=f.length();h>=64;){for(B=b.h0,G=b.h1,R=b.h2,_=b.h3,k=b.h4,T=0;T<16;++T)C=f.getInt32(),E[T]=C,C=(B<<5|B>>>27)+(_^G&(R^_))+k+1518500249+C,k=_,_=R,R=(G<<30|G>>>2)>>>0,G=B,B=C;for(;T<20;++T)E[T]=C=(C=E[T-3]^E[T-8]^E[T-14]^E[T-16])<<1|C>>>31,C=(B<<5|B>>>27)+(_^G&(R^_))+k+1518500249+C,k=_,_=R,R=(G<<30|G>>>2)>>>0,G=B,B=C;for(;T<32;++T)E[T]=C=(C=E[T-3]^E[T-8]^E[T-14]^E[T-16])<<1|C>>>31,C=(B<<5|B>>>27)+(G^R^_)+k+1859775393+C,k=_,_=R,R=(G<<30|G>>>2)>>>0,G=B,B=C;for(;T<40;++T)E[T]=C=(C=E[T-6]^E[T-16]^E[T-28]^E[T-32])<<2|C>>>30,C=(B<<5|B>>>27)+(G^R^_)+k+1859775393+C,k=_,_=R,R=(G<<30|G>>>2)>>>0,G=B,B=C;for(;T<60;++T)E[T]=C=(C=E[T-6]^E[T-16]^E[T-28]^E[T-32])<<2|C>>>30,C=(B<<5|B>>>27)+(G&R|_&(G^R))+k+2400959708+C,k=_,_=R,R=(G<<30|G>>>2)>>>0,G=B,B=C;for(;T<80;++T)E[T]=C=(C=E[T-6]^E[T-16]^E[T-28]^E[T-32])<<2|C>>>30,C=(B<<5|B>>>27)+(G^R^_)+k+3395469782+C,k=_,_=R,R=(G<<30|G>>>2)>>>0,G=B,B=C;b.h0=b.h0+B|0,b.h1=b.h1+G|0,b.h2=b.h2+R|0,b.h3=b.h3+_|0,b.h4=b.h4+k|0,h-=64}}},594:(_e,Je,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.sha256=d.sha256||{};d.md.sha256=d.md.algorithms.sha256=u,u.create=function(){N||function M(){p=String.fromCharCode(128),p+=d.util.fillString(String.fromCharCode(0),64),w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],N=!0}();var E=null,f=d.util.createBuffer(),C=new Array(64),B={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){B.messageLength=0,B.fullMessageLength=B.messageLength64=[];for(var G=B.messageLengthSize/4,R=0;R<G;++R)B.fullMessageLength.push(0);return f=d.util.createBuffer(),E={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},B}};return B.start(),B.update=function(G,R){"utf8"===R&&(G=d.util.encodeUtf8(G));var _=G.length;B.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var k=B.fullMessageLength.length-1;k>=0;--k)B.fullMessageLength[k]+=_[1],_[1]=_[0]+(B.fullMessageLength[k]/4294967296>>>0),B.fullMessageLength[k]=B.fullMessageLength[k]>>>0,_[0]=_[1]/4294967296>>>0;return f.putBytes(G),b(E,C,f),(f.read>2048||0===f.length())&&f.compact(),B},B.digest=function(){var G=d.util.createBuffer();G.putBytes(f.bytes()),G.putBytes(p.substr(0,B.blockLength-(B.fullMessageLength[B.fullMessageLength.length-1]+B.messageLengthSize&B.blockLength-1)));for(var k,T=8*B.fullMessageLength[0],h=0;h<B.fullMessageLength.length-1;++h)G.putInt32((T+=(k=8*B.fullMessageLength[h+1])/4294967296>>>0)>>>0),T=k>>>0;G.putInt32(T);var v={h0:E.h0,h1:E.h1,h2:E.h2,h3:E.h3,h4:E.h4,h5:E.h5,h6:E.h6,h7:E.h7};b(v,C,G);var A=d.util.createBuffer();return A.putInt32(v.h0),A.putInt32(v.h1),A.putInt32(v.h2),A.putInt32(v.h3),A.putInt32(v.h4),A.putInt32(v.h5),A.putInt32(v.h6),A.putInt32(v.h7),A},B};var p=null,N=!1,w=null;function b(E,f,C){for(var B,G,D,T,h,v,A,F,H,W,S,x,V=C.length();V>=64;){for(T=0;T<16;++T)f[T]=C.getInt32();for(;T<64;++T)f[T]=(B=((B=f[T-2])>>>17|B<<15)^(B>>>19|B<<13)^B>>>10)+f[T-7]+(G=((G=f[T-15])>>>7|G<<25)^(G>>>18|G<<14)^G>>>3)+f[T-16]|0;for(h=E.h0,v=E.h1,A=E.h2,F=E.h3,H=E.h4,W=E.h5,S=E.h6,x=E.h7,T=0;T<64;++T)D=h&v|A&(h^v),B=x+((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))+(S^H&(W^S))+w[T]+f[T],x=S,S=W,W=H,H=F+B>>>0,F=A,A=v,v=h,h=B+(G=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+D)>>>0;E.h0=E.h0+h|0,E.h1=E.h1+v|0,E.h2=E.h2+A|0,E.h3=E.h3+F|0,E.h4=E.h4+H|0,E.h5=E.h5+W|0,E.h6=E.h6+S|0,E.h7=E.h7+x|0,V-=64}}},985:(_e,Je,Y)=>{var d=Y(659);Y(979),Y(747);var u=_e.exports=d.sha512=d.sha512||{};d.md.sha512=d.md.algorithms.sha512=u;var p=d.sha384=d.sha512.sha384=d.sha512.sha384||{};p.create=function(){return u.create("SHA-384")},d.md.sha384=d.md.algorithms.sha384=p,d.sha512.sha256=d.sha512.sha256||{create:function(){return u.create("SHA-512/256")}},d.md["sha512/256"]=d.md.algorithms["sha512/256"]=d.sha512.sha256,d.sha512.sha224=d.sha512.sha224||{create:function(){return u.create("SHA-512/224")}},d.md["sha512/224"]=d.md.algorithms["sha512/224"]=d.sha512.sha224,u.create=function(C){if(w||function E(){N=String.fromCharCode(128),N+=d.util.fillString(String.fromCharCode(0),128),M=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(b={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],b["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],b["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],b["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],w=!0}(),typeof C>"u"&&(C="SHA-512"),!(C in b))throw new Error("Invalid SHA-512 algorithm: "+C);for(var B=b[C],G=null,R=d.util.createBuffer(),_=new Array(80),k=0;k<80;++k)_[k]=new Array(2);var D=64;switch(C){case"SHA-384":D=48;break;case"SHA-512/256":D=32;break;case"SHA-512/224":D=28}var T={algorithm:C.replace("-","").toLowerCase(),blockLength:128,digestLength:D,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){T.messageLength=0,T.fullMessageLength=T.messageLength128=[];for(var h=T.messageLengthSize/4,v=0;v<h;++v)T.fullMessageLength.push(0);for(R=d.util.createBuffer(),G=new Array(B.length),v=0;v<B.length;++v)G[v]=B[v].slice(0);return T}};return T.start(),T.update=function(h,v){"utf8"===v&&(h=d.util.encodeUtf8(h));var A=h.length;T.messageLength+=A,A=[A/4294967296>>>0,A>>>0];for(var F=T.fullMessageLength.length-1;F>=0;--F)T.fullMessageLength[F]+=A[1],A[1]=A[0]+(T.fullMessageLength[F]/4294967296>>>0),T.fullMessageLength[F]=T.fullMessageLength[F]>>>0,A[0]=A[1]/4294967296>>>0;return R.putBytes(h),f(G,_,R),(R.read>2048||0===R.length())&&R.compact(),T},T.digest=function(){var h=d.util.createBuffer();h.putBytes(R.bytes()),h.putBytes(N.substr(0,T.blockLength-(T.fullMessageLength[T.fullMessageLength.length-1]+T.messageLengthSize&T.blockLength-1)));for(var F,W=8*T.fullMessageLength[0],S=0;S<T.fullMessageLength.length-1;++S)h.putInt32((W+=(F=8*T.fullMessageLength[S+1])/4294967296>>>0)>>>0),W=F>>>0;h.putInt32(W);var x=new Array(G.length);for(S=0;S<G.length;++S)x[S]=G[S].slice(0);f(x,_,h);var c,V=d.util.createBuffer();for(c="SHA-512"===C?x.length:"SHA-384"===C?x.length-2:x.length-4,S=0;S<c;++S)V.putInt32(x[S][0]),(S!==c-1||"SHA-512/224"!==C)&&V.putInt32(x[S][1]);return V},T};var N=null,w=!1,M=null,b=null;function f(C,B,G){for(var R,_,k,D,x,V,c,j,Q,$,ne,te,re,de,he,Ce,Ae,Le,nt,dt,pe,Ye,ke,Fe,ut,ae,oe,y=G.length();y>=128;){for(pe=0;pe<16;++pe)B[pe][0]=G.getInt32()>>>0,B[pe][1]=G.getInt32()>>>0;for(;pe<80;++pe)_=(((Ye=(Fe=B[pe-2])[0])<<13|(ke=Fe[1])>>>19)^(ke<<3|Ye>>>29)^(Ye<<26|ke>>>6))>>>0,B[pe][0]=(R=((Ye>>>19|ke<<13)^(ke>>>29|Ye<<3)^Ye>>>6)>>>0)+(ut=B[pe-7])[0]+(k=(((Ye=(ae=B[pe-15])[0])>>>1|(ke=ae[1])<<31)^(Ye>>>8|ke<<24)^Ye>>>7)>>>0)+(oe=B[pe-16])[0]+((ke=_+ut[1]+(D=((Ye<<31|ke>>>1)^(Ye<<24|ke>>>8)^(Ye<<25|ke>>>7))>>>0)+oe[1])/4294967296>>>0)>>>0,B[pe][1]=ke>>>0;for(x=C[0][0],V=C[0][1],c=C[1][0],j=C[1][1],Q=C[2][0],$=C[2][1],ne=C[3][0],te=C[3][1],re=C[4][0],de=C[4][1],he=C[5][0],Ce=C[5][1],Ae=C[6][0],Le=C[6][1],nt=C[7][0],dt=C[7][1],pe=0;pe<80;++pe)R=nt+(((re>>>14|de<<18)^(re>>>18|de<<14)^(de>>>9|re<<23))>>>0)+((Ae^re&(he^Ae))>>>0)+M[pe][0]+B[pe][0]+((ke=dt+(((re<<18|de>>>14)^(re<<14|de>>>18)^(de<<23|re>>>9))>>>0)+((Le^de&(Ce^Le))>>>0)+M[pe][1]+B[pe][1])/4294967296>>>0)>>>0,_=ke>>>0,k=(((x>>>28|V<<4)^(V>>>2|x<<30)^(V>>>7|x<<25))>>>0)+((x&c|Q&(x^c))>>>0)+((ke=(((x<<4|V>>>28)^(V<<30|x>>>2)^(V<<25|x>>>7))>>>0)+((V&j|$&(V^j))>>>0))/4294967296>>>0)>>>0,D=ke>>>0,nt=Ae,dt=Le,Ae=he,Le=Ce,he=re,Ce=de,re=ne+R+((ke=te+_)/4294967296>>>0)>>>0,de=ke>>>0,ne=Q,te=$,Q=c,$=j,c=x,j=V,x=R+k+((ke=_+D)/4294967296>>>0)>>>0,V=ke>>>0;C[0][0]=C[0][0]+x+((ke=C[0][1]+V)/4294967296>>>0)>>>0,C[0][1]=ke>>>0,C[1][0]=C[1][0]+c+((ke=C[1][1]+j)/4294967296>>>0)>>>0,C[1][1]=ke>>>0,C[2][0]=C[2][0]+Q+((ke=C[2][1]+$)/4294967296>>>0)>>>0,C[2][1]=ke>>>0,C[3][0]=C[3][0]+ne+((ke=C[3][1]+te)/4294967296>>>0)>>>0,C[3][1]=ke>>>0,C[4][0]=C[4][0]+re+((ke=C[4][1]+de)/4294967296>>>0)>>>0,C[4][1]=ke>>>0,C[5][0]=C[5][0]+he+((ke=C[5][1]+Ce)/4294967296>>>0)>>>0,C[5][1]=ke>>>0,C[6][0]=C[6][0]+Ae+((ke=C[6][1]+Le)/4294967296>>>0)>>>0,C[6][1]=ke>>>0,C[7][0]=C[7][0]+nt+((ke=C[7][1]+dt)/4294967296>>>0)>>>0,C[7][1]=ke>>>0,y-=128}}},15:(_e,Je,Y)=>{var d=Y(659);Y(298),Y(32),Y(687),Y(690),Y(747);var u=_e.exports=d.ssh=d.ssh||{};function p(M,b){var E=b.toString(16);E[0]>="8"&&(E="00"+E);var f=d.util.hexToBytes(E);M.putInt32(f.length),M.putBytes(f)}function N(M,b){M.putInt32(b.length),M.putString(b)}function w(){for(var M=d.md.sha1.create(),b=arguments.length,E=0;E<b;++E)M.update(arguments[E]);return M.digest()}u.privateKeyToPutty=function(M,b,E){var f="ssh-rsa",C=""===(b=b||"")?"none":"aes256-cbc",B="PuTTY-User-Key-File-2: "+f+"\r\n";B+="Encryption: "+C+"\r\n",B+="Comment: "+(E=E||"")+"\r\n";var G=d.util.createBuffer();N(G,f),p(G,M.e),p(G,M.n);var R=d.util.encode64(G.bytes(),64),_=Math.floor(R.length/66)+1;B+="Public-Lines: "+_+"\r\n",B+=R;var D,k=d.util.createBuffer();if(p(k,M.d),p(k,M.p),p(k,M.q),p(k,M.qInv),b){var T=k.length()+16-1;T-=T%16;var h=w(k.bytes());h.truncate(h.length()-T+k.length()),k.putBuffer(h);var v=d.util.createBuffer();v.putBuffer(w("\0\0\0\0",b)),v.putBuffer(w("\0\0\0\x01",b));var A=d.aes.createEncryptionCipher(v.truncate(8),"CBC");A.start(d.util.createBuffer().fillWithByte(0,16)),A.update(k.copy()),A.finish();var F=A.output;F.truncate(16),D=d.util.encode64(F.bytes(),64)}else D=d.util.encode64(k.bytes(),64);B+="\r\nPrivate-Lines: "+(_=Math.floor(D.length/66)+1)+"\r\n",B+=D;var H=w("putty-private-key-file-mac-key",b),W=d.util.createBuffer();N(W,f),N(W,C),N(W,E),W.putInt32(G.length()),W.putBuffer(G),W.putInt32(k.length()),W.putBuffer(k);var S=d.hmac.create();return S.start("sha1",H),S.update(W.bytes()),B+"\r\nPrivate-MAC: "+S.digest().toHex()+"\r\n"},u.publicKeyToOpenSSH=function(M,b){var E="ssh-rsa";b=b||"";var f=d.util.createBuffer();return N(f,E),p(f,M.e),p(f,M.n),E+" "+d.util.encode64(f.bytes())+" "+b},u.privateKeyToOpenSSH=function(M,b){return b?d.pki.encryptRsaPrivateKey(M,b,{legacy:!0,algorithm:"aes128"}):d.pki.privateKeyToPem(M)},u.getPublicKeyFingerprint=function(M,b){var E=(b=b||{}).md||d.md.md5.create(),C=d.util.createBuffer();N(C,"ssh-rsa"),p(C,M.e),p(C,M.n),E.start(),E.update(C.getBytes());var B=E.digest();if("hex"===b.encoding){var G=B.toHex();return b.delimiter?G.match(/.{2}/g).join(b.delimiter):G}if("binary"===b.encoding)return B.getBytes();if(b.encoding)throw new Error('Unknown encoding "'+b.encoding+'".');return B}},266:(_e,Je,Y)=>{var d=Y(659);Y(791),Y(32),Y(687),Y(604),Y(965),Y(365),Y(690),Y(747);var u=function(y,m,P,q){var J=d.util.createBuffer(),ue=y.length>>1,Z=ue+(1&y.length),be=y.substr(0,Z),He=y.substr(ue,Z),$e=d.util.createBuffer(),ge=d.hmac.create();P=m+P;var Be=Math.ceil(q/16),We=Math.ceil(q/20);ge.start("MD5",be);var mt=d.util.createBuffer();$e.putBytes(P);for(var rt=0;rt<Be;++rt)ge.start(null,null),ge.update($e.getBytes()),$e.putBuffer(ge.digest()),ge.start(null,null),ge.update($e.bytes()+P),mt.putBuffer(ge.digest());ge.start("SHA1",He);var kt=d.util.createBuffer();for($e.clear(),$e.putBytes(P),rt=0;rt<We;++rt)ge.start(null,null),ge.update($e.getBytes()),$e.putBuffer(ge.digest()),ge.start(null,null),ge.update($e.bytes()+P),kt.putBuffer(ge.digest());return J.putBytes(d.util.xorBytes(mt.getBytes(),kt.getBytes(),q)),J},w=function(y,m,P){var q=!1;try{var J=y.deflate(m.fragment.getBytes());m.fragment=d.util.createBuffer(J),m.length=J.length,q=!0}catch{}return q},M=function(y,m,P){var q=!1;try{var J=y.inflate(m.fragment.getBytes());m.fragment=d.util.createBuffer(J),m.length=J.length,q=!0}catch{}return q},b=function(y,m){var P=0;switch(m){case 1:P=y.getByte();break;case 2:P=y.getInt16();break;case 3:P=y.getInt24();break;case 4:P=y.getInt32()}return d.util.createBuffer(y.getBytes(P))},E=function(y,m,P){y.putInt(P.length(),m<<3),y.putBuffer(P)},f={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};f.SupportedVersions=[f.Versions.TLS_1_1,f.Versions.TLS_1_0],f.Version=f.SupportedVersions[0],f.MaxFragment=15360,f.ConnectionEnd={server:0,client:1},f.PRFAlgorithm={tls_prf_sha256:0},f.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},f.CipherType={stream:0,block:1,aead:2},f.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},f.CompressionMethod={none:0,deflate:1},f.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},f.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},f.Alert={},f.Alert.Level={warning:1,fatal:2},f.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},f.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},f.CipherSuites={},f.getCipherSuite=function(y){var m=null;for(var P in f.CipherSuites){var q=f.CipherSuites[P];if(q.id[0]===y.charCodeAt(0)&&q.id[1]===y.charCodeAt(1)){m=q;break}}return m},f.handleUnexpected=function(y,m){!y.open&&y.entity===f.ConnectionEnd.client||y.error(y,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})},f.handleHelloRequest=function(y,m,P){!y.handshaking&&y.handshakes>0&&(f.queue(y,f.createAlert(y,{level:f.Alert.Level.warning,description:f.Alert.Description.no_renegotiation})),f.flush(y)),y.process()},f.parseHelloMessage=function(y,m,P){var q=null,J=y.entity===f.ConnectionEnd.client;if(P<38)y.error(y,{message:J?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});else{var ue=m.fragment,Z=ue.length();if(q={version:{major:ue.getByte(),minor:ue.getByte()},random:d.util.createBuffer(ue.getBytes(32)),session_id:b(ue,1),extensions:[]},J?(q.cipher_suite=ue.getBytes(2),q.compression_method=ue.getByte()):(q.cipher_suites=b(ue,2),q.compression_methods=b(ue,1)),(Z=P-(Z-ue.length()))>0){for(var be=b(ue,2);be.length()>0;)q.extensions.push({type:[be.getByte(),be.getByte()],data:b(be,2)});if(!J)for(var He=0;He<q.extensions.length;++He){var $e=q.extensions[He];if(0===$e.type[0]&&0===$e.type[1])for(var ge=b($e.data,2);ge.length()>0&&0===ge.getByte();)y.session.extensions.server_name.serverNameList.push(b(ge,2).getBytes())}}if(y.session.version&&(q.version.major!==y.session.version.major||q.version.minor!==y.session.version.minor))return y.error(y,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});if(J)y.session.cipherSuite=f.getCipherSuite(q.cipher_suite);else for(var We=d.util.createBuffer(q.cipher_suites.bytes());We.length()>0&&(y.session.cipherSuite=f.getCipherSuite(We.getBytes(2)),null===y.session.cipherSuite););if(null===y.session.cipherSuite)return y.error(y,{message:"No cipher suites in common.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure},cipherSuite:d.util.bytesToHex(q.cipher_suite)});y.session.compressionMethod=J?q.compression_method:f.CompressionMethod.none}return q},f.createSecurityParameters=function(y,m){var P=y.entity===f.ConnectionEnd.client,q=m.random.bytes(),J=P?y.session.sp.client_random:q,ue=P?q:f.createRandom().getBytes();y.session.sp={entity:y.entity,prf_algorithm:f.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:y.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:J,server_random:ue}},f.handleServerHello=function(y,m,P){var q=f.parseHelloMessage(y,m,P);if(!y.fail){if(!(q.version.minor<=y.version.minor))return y.error(y,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});y.version.minor=q.version.minor,y.session.version=y.version;var J=q.session_id.bytes();J.length>0&&J===y.session.id?(y.expect=k,y.session.resuming=!0,y.session.sp.server_random=q.random.bytes()):(y.expect=B,y.session.resuming=!1,f.createSecurityParameters(y,q)),y.session.id=J,y.process()}},f.handleClientHello=function(y,m,P){var q=f.parseHelloMessage(y,m,P);if(!y.fail){var J=q.session_id.bytes(),ue=null;if(y.sessionCache&&(null===(ue=y.sessionCache.getSession(J))?J="":(ue.version.major!==q.version.major||ue.version.minor>q.version.minor)&&(ue=null,J="")),0===J.length&&(J=d.random.getBytes(32)),y.session.id=J,y.session.clientHelloVersion=q.version,y.session.sp={},ue)y.version=y.session.version=ue.version,y.session.sp=ue.sp;else{for(var Z,be=1;be<f.SupportedVersions.length&&!((Z=f.SupportedVersions[be]).minor<=q.version.minor);++be);y.version={major:Z.major,minor:Z.minor},y.session.version=y.version}null!==ue?(y.expect=W,y.session.resuming=!0,y.session.sp.client_random=q.random.bytes()):(y.expect=!1!==y.verifyClient?A:F,y.session.resuming=!1,f.createSecurityParameters(y,q)),y.open=!0,f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createServerHello(y)})),y.session.resuming?(f.queue(y,f.createRecord(y,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),y.state.pending=f.createConnectionState(y),y.state.current.write=y.state.pending.write,f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createFinished(y)}))):(f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createCertificate(y)})),y.fail||(f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createServerKeyExchange(y)})),!1!==y.verifyClient&&f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createCertificateRequest(y)})),f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createServerHelloDone(y)})))),f.flush(y),y.process()}},f.handleCertificate=function(y,m,P){if(P<3)return y.error(y,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var ue,Z,J={certificate_list:b(m.fragment,3)},be=[];try{for(;J.certificate_list.length()>0;)ue=b(J.certificate_list,3),Z=d.asn1.fromDer(ue),ue=d.pki.certificateFromAsn1(Z,!0),be.push(ue)}catch($e){return y.error(y,{message:"Could not parse certificate list.",cause:$e,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var He=y.entity===f.ConnectionEnd.client;!He&&!0!==y.verifyClient||0!==be.length?0===be.length?y.expect=He?G:F:(He?y.session.serverCertificate=be[0]:y.session.clientCertificate=be[0],f.verifyCertificateChain(y,be)&&(y.expect=He?G:F)):y.error(y,{message:He?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}}),y.process()},f.handleServerKeyExchange=function(y,m,P){if(P>0)return y.error(y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});y.expect=R,y.process()},f.handleClientKeyExchange=function(y,m,P){if(P<48)return y.error(y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});var J={enc_pre_master_secret:b(m.fragment,2).getBytes()},ue=null;if(y.getPrivateKey)try{ue=y.getPrivateKey(y,y.session.serverCertificate),ue=d.pki.privateKeyFromPem(ue)}catch(He){y.error(y,{message:"Could not get private key.",cause:He,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}if(null===ue)return y.error(y,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}});try{var Z=y.session.sp;Z.pre_master_secret=ue.decrypt(J.enc_pre_master_secret);var be=y.session.clientHelloVersion;if(be.major!==Z.pre_master_secret.charCodeAt(0)||be.minor!==Z.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Z.pre_master_secret=d.random.getBytes(48)}y.expect=W,null!==y.session.clientCertificate&&(y.expect=H),y.process()},f.handleCertificateRequest=function(y,m,P){if(P<3)return y.error(y,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var q=m.fragment,J={certificate_types:b(q,1),certificate_authorities:b(q,2)};y.session.certificateRequest=J,y.expect=_,y.process()},f.handleCertificateVerify=function(y,m,P){if(P<2)return y.error(y,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var q=m.fragment;q.read-=4;var J=q.bytes();q.read+=4;var ue={signature:b(q,2).getBytes()},Z=d.util.createBuffer();Z.putBuffer(y.session.md5.digest()),Z.putBuffer(y.session.sha1.digest()),Z=Z.getBytes();try{if(!y.session.clientCertificate.publicKey.verify(Z,ue.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");y.session.md5.update(J),y.session.sha1.update(J)}catch{return y.error(y,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure}})}y.expect=W,y.process()},f.handleServerHelloDone=function(y,m,P){if(P>0)return y.error(y,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.record_overflow}});if(null===y.serverCertificate){var q={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.insufficient_security}},ue=y.verify(y,q.alert.description,0,[]);if(!0!==ue)return(ue||0===ue)&&("object"!=typeof ue||d.util.isArray(ue)?"number"==typeof ue&&(q.alert.description=ue):(ue.message&&(q.message=ue.message),ue.alert&&(q.alert.description=ue.alert))),y.error(y,q)}null!==y.session.certificateRequest&&(m=f.createRecord(y,{type:f.ContentType.handshake,data:f.createCertificate(y)}),f.queue(y,m)),m=f.createRecord(y,{type:f.ContentType.handshake,data:f.createClientKeyExchange(y)}),f.queue(y,m),y.expect=h;var Z=function(be,He){null!==be.session.certificateRequest&&null!==be.session.clientCertificate&&f.queue(be,f.createRecord(be,{type:f.ContentType.handshake,data:f.createCertificateVerify(be,He)})),f.queue(be,f.createRecord(be,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),be.state.pending=f.createConnectionState(be),be.state.current.write=be.state.pending.write,f.queue(be,f.createRecord(be,{type:f.ContentType.handshake,data:f.createFinished(be)})),be.expect=k,f.flush(be),be.process()};if(null===y.session.certificateRequest||null===y.session.clientCertificate)return Z(y,null);f.getClientSignature(y,Z)},f.handleChangeCipherSpec=function(y,m){if(1!==m.fragment.getByte())return y.error(y,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var P=y.entity===f.ConnectionEnd.client;(y.session.resuming&&P||!y.session.resuming&&!P)&&(y.state.pending=f.createConnectionState(y)),y.state.current.read=y.state.pending.read,(!y.session.resuming&&P||y.session.resuming&&!P)&&(y.state.pending=null),y.expect=P?D:S,y.process()},f.handleFinished=function(y,m,P){var q=m.fragment;q.read-=4;var J=q.bytes();q.read+=4;var ue=m.fragment.getBytes();(q=d.util.createBuffer()).putBuffer(y.session.md5.digest()),q.putBuffer(y.session.sha1.digest());var Z=y.entity===f.ConnectionEnd.client;if((q=u(y.session.sp.master_secret,Z?"server finished":"client finished",q.getBytes(),12)).getBytes()!==ue)return y.error(y,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decrypt_error}});y.session.md5.update(J),y.session.sha1.update(J),(y.session.resuming&&Z||!y.session.resuming&&!Z)&&(f.queue(y,f.createRecord(y,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),y.state.current.write=y.state.pending.write,y.state.pending=null,f.queue(y,f.createRecord(y,{type:f.ContentType.handshake,data:f.createFinished(y)}))),y.expect=Z?T:x,y.handshaking=!1,++y.handshakes,y.peerCertificate=Z?y.session.serverCertificate:y.session.clientCertificate,f.flush(y),y.isConnected=!0,y.connected(y),y.process()},f.handleAlert=function(y,m){var J,P=m.fragment,q={level:P.getByte(),description:P.getByte()};switch(q.description){case f.Alert.Description.close_notify:J="Connection closed.";break;case f.Alert.Description.unexpected_message:J="Unexpected message.";break;case f.Alert.Description.bad_record_mac:J="Bad record MAC.";break;case f.Alert.Description.decryption_failed:J="Decryption failed.";break;case f.Alert.Description.record_overflow:J="Record overflow.";break;case f.Alert.Description.decompression_failure:J="Decompression failed.";break;case f.Alert.Description.handshake_failure:J="Handshake failure.";break;case f.Alert.Description.bad_certificate:J="Bad certificate.";break;case f.Alert.Description.unsupported_certificate:J="Unsupported certificate.";break;case f.Alert.Description.certificate_revoked:J="Certificate revoked.";break;case f.Alert.Description.certificate_expired:J="Certificate expired.";break;case f.Alert.Description.certificate_unknown:J="Certificate unknown.";break;case f.Alert.Description.illegal_parameter:J="Illegal parameter.";break;case f.Alert.Description.unknown_ca:J="Unknown certificate authority.";break;case f.Alert.Description.access_denied:J="Access denied.";break;case f.Alert.Description.decode_error:J="Decode error.";break;case f.Alert.Description.decrypt_error:J="Decrypt error.";break;case f.Alert.Description.export_restriction:J="Export restriction.";break;case f.Alert.Description.protocol_version:J="Unsupported protocol version.";break;case f.Alert.Description.insufficient_security:J="Insufficient security.";break;case f.Alert.Description.internal_error:J="Internal error.";break;case f.Alert.Description.user_canceled:J="User canceled.";break;case f.Alert.Description.no_renegotiation:J="Renegotiation not supported.";break;default:J="Unknown error."}if(q.description===f.Alert.Description.close_notify)return y.close();y.error(y,{message:J,send:!1,origin:y.entity===f.ConnectionEnd.client?"server":"client",alert:q}),y.process()},f.handleHandshake=function(y,m){var P=m.fragment,q=P.getByte(),J=P.getInt24();if(J>P.length())return y.fragmented=m,m.fragment=d.util.createBuffer(),P.read-=4,y.process();y.fragmented=null,P.read-=4;var ue=P.bytes(J+4);P.read+=4,q in pe[y.entity][y.expect]?(y.entity===f.ConnectionEnd.server&&!y.open&&!y.fail&&(y.handshaking=!0,y.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:d.md.md5.create(),sha1:d.md.sha1.create()}),q!==f.HandshakeType.hello_request&&q!==f.HandshakeType.certificate_verify&&q!==f.HandshakeType.finished&&(y.session.md5.update(ue),y.session.sha1.update(ue)),pe[y.entity][y.expect][q](y,m,J)):f.handleUnexpected(y,m)},f.handleApplicationData=function(y,m){y.data.putBuffer(m.fragment),y.dataReady(y),y.process()},f.handleHeartbeat=function(y,m){var P=m.fragment,q=P.getByte(),J=P.getInt16(),ue=P.getBytes(J);if(q===f.HeartbeatMessageType.heartbeat_request){if(y.handshaking||J>ue.length)return y.process();f.queue(y,f.createRecord(y,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_response,ue)})),f.flush(y)}else if(q===f.HeartbeatMessageType.heartbeat_response){if(ue!==y.expectedHeartbeatPayload)return y.process();y.heartbeatReceived&&y.heartbeatReceived(y,d.util.createBuffer(ue))}y.process()};var B=1,G=2,R=3,_=4,k=5,D=6,T=7,h=8,A=1,F=2,H=3,W=4,S=5,x=6,c=f.handleUnexpected,j=f.handleChangeCipherSpec,Q=f.handleAlert,$=f.handleHandshake,ne=f.handleApplicationData,te=f.handleHeartbeat,re=[];re[f.ConnectionEnd.client]=[[c,Q,$,c,te],[c,Q,$,c,te],[c,Q,$,c,te],[c,Q,$,c,te],[c,Q,$,c,te],[j,Q,c,c,te],[c,Q,$,c,te],[c,Q,$,ne,te],[c,Q,$,c,te]],re[f.ConnectionEnd.server]=[[c,Q,$,c,te],[c,Q,$,c,te],[c,Q,$,c,te],[c,Q,$,c,te],[j,Q,c,c,te],[c,Q,$,c,te],[c,Q,$,ne,te],[c,Q,$,c,te]];var de=f.handleHelloRequest,Ce=f.handleCertificate,Ae=f.handleServerKeyExchange,Le=f.handleCertificateRequest,nt=f.handleServerHelloDone,dt=f.handleFinished,pe=[];pe[f.ConnectionEnd.client]=[[c,c,f.handleServerHello,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,Ce,Ae,Le,nt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,Ae,Le,nt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,Le,nt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,nt,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,dt],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[de,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c]],pe[f.ConnectionEnd.server]=[[c,f.handleClientHello,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,Ce,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,f.handleClientKeyExchange,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,f.handleCertificateVerify,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,dt],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c]],f.generateKeys=function(y,m){var P=u,q=m.client_random+m.server_random;y.session.resuming||(m.master_secret=P(m.pre_master_secret,"master secret",q,48).bytes(),m.pre_master_secret=null);var J=2*m.mac_key_length+2*m.enc_key_length,ue=y.version.major===f.Versions.TLS_1_0.major&&y.version.minor===f.Versions.TLS_1_0.minor;ue&&(J+=2*m.fixed_iv_length);var Z=P(m.master_secret,"key expansion",q=m.server_random+m.client_random,J),be={client_write_MAC_key:Z.getBytes(m.mac_key_length),server_write_MAC_key:Z.getBytes(m.mac_key_length),client_write_key:Z.getBytes(m.enc_key_length),server_write_key:Z.getBytes(m.enc_key_length)};return ue&&(be.client_write_IV=Z.getBytes(m.fixed_iv_length),be.server_write_IV=Z.getBytes(m.fixed_iv_length)),be},f.createConnectionState=function(y){var m=y.entity===f.ConnectionEnd.client,P=function(){var ue={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Z){return!0},compressionState:null,compressFunction:function(Z){return!0},updateSequenceNumber:function(){4294967295===ue.sequenceNumber[1]?(ue.sequenceNumber[1]=0,++ue.sequenceNumber[0]):++ue.sequenceNumber[1]}};return ue},q={read:P(),write:P()};if(q.read.update=function(ue,Z){return q.read.cipherFunction(Z,q.read)?q.read.compressFunction(ue,Z,q.read)||ue.error(ue,{message:"Could not decompress record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decompression_failure}}):ue.error(ue,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_record_mac}}),!ue.fail},q.write.update=function(ue,Z){return q.write.compressFunction(ue,Z,q.write)?q.write.cipherFunction(Z,q.write)||ue.error(ue,{message:"Could not encrypt record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):ue.error(ue,{message:"Could not compress record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}),!ue.fail},y.session){var J=y.session.sp;switch(y.session.cipherSuite.initSecurityParameters(J),J.keys=f.generateKeys(y,J),q.read.macKey=m?J.keys.server_write_MAC_key:J.keys.client_write_MAC_key,q.write.macKey=m?J.keys.client_write_MAC_key:J.keys.server_write_MAC_key,y.session.cipherSuite.initConnectionState(q,y,J),J.compression_algorithm){case f.CompressionMethod.none:break;case f.CompressionMethod.deflate:q.read.compressFunction=M,q.write.compressFunction=w;break;default:throw new Error("Unsupported compression algorithm.")}}return q},f.createRandom=function(){var y=new Date,m=+y+6e4*y.getTimezoneOffset(),P=d.util.createBuffer();return P.putInt32(m),P.putBytes(d.random.getBytes(28)),P},f.createRecord=function(y,m){return m.data?{type:m.type,version:{major:y.version.major,minor:y.version.minor},length:m.data.length(),fragment:m.data}:null},f.createAlert=function(y,m){var P=d.util.createBuffer();return P.putByte(m.level),P.putByte(m.description),f.createRecord(y,{type:f.ContentType.alert,data:P})},f.createClientHello=function(y){y.session.clientHelloVersion={major:y.version.major,minor:y.version.minor};for(var m=d.util.createBuffer(),P=0;P<y.cipherSuites.length;++P){var q=y.cipherSuites[P];m.putByte(q.id[0]),m.putByte(q.id[1])}var J=m.length(),ue=d.util.createBuffer();ue.putByte(f.CompressionMethod.none);var Z=ue.length(),be=d.util.createBuffer();if(y.virtualHost){var He=d.util.createBuffer();He.putByte(0),He.putByte(0);var $e=d.util.createBuffer();$e.putByte(0),E($e,2,d.util.createBuffer(y.virtualHost));var ge=d.util.createBuffer();E(ge,2,$e),E(He,2,ge),be.putBuffer(He)}var Be=be.length();Be>0&&(Be+=2);var We=y.session.id,mt=We.length+1+2+4+28+2+J+1+Z+Be,rt=d.util.createBuffer();return rt.putByte(f.HandshakeType.client_hello),rt.putInt24(mt),rt.putByte(y.version.major),rt.putByte(y.version.minor),rt.putBytes(y.session.sp.client_random),E(rt,1,d.util.createBuffer(We)),E(rt,2,m),E(rt,1,ue),Be>0&&E(rt,2,be),rt},f.createServerHello=function(y){var m=y.session.id,P=m.length+1+2+4+28+2+1,q=d.util.createBuffer();return q.putByte(f.HandshakeType.server_hello),q.putInt24(P),q.putByte(y.version.major),q.putByte(y.version.minor),q.putBytes(y.session.sp.server_random),E(q,1,d.util.createBuffer(m)),q.putByte(y.session.cipherSuite.id[0]),q.putByte(y.session.cipherSuite.id[1]),q.putByte(y.session.compressionMethod),q},f.createCertificate=function(y){var m=y.entity===f.ConnectionEnd.client,P=null;y.getCertificate&&(P=y.getCertificate(y,m?y.session.certificateRequest:y.session.extensions.server_name.serverNameList));var J=d.util.createBuffer();if(null!==P)try{d.util.isArray(P)||(P=[P]);for(var ue=null,Z=0;Z<P.length;++Z){var be=d.pem.decode(P[Z])[0];if("CERTIFICATE"!==be.type&&"X509 CERTIFICATE"!==be.type&&"TRUSTED CERTIFICATE"!==be.type){var He=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw He.headerType=be.type,He}if(be.procType&&"ENCRYPTED"===be.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var $e=d.util.createBuffer(be.body);null===ue&&(ue=d.asn1.fromDer($e.bytes(),!1));var ge=d.util.createBuffer();E(ge,3,$e),J.putBuffer(ge)}P=d.pki.certificateFromAsn1(ue),m?y.session.clientCertificate=P:y.session.serverCertificate=P}catch(mt){return y.error(y,{message:"Could not send certificate list.",cause:mt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var Be=3+J.length(),We=d.util.createBuffer();return We.putByte(f.HandshakeType.certificate),We.putInt24(Be),E(We,3,J),We},f.createClientKeyExchange=function(y){var m=d.util.createBuffer();m.putByte(y.session.clientHelloVersion.major),m.putByte(y.session.clientHelloVersion.minor),m.putBytes(d.random.getBytes(46));var P=y.session.sp;P.pre_master_secret=m.getBytes();var J=(m=y.session.serverCertificate.publicKey.encrypt(P.pre_master_secret)).length+2,ue=d.util.createBuffer();return ue.putByte(f.HandshakeType.client_key_exchange),ue.putInt24(J),ue.putInt16(m.length),ue.putBytes(m),ue},f.createServerKeyExchange=function(y){return d.util.createBuffer()},f.getClientSignature=function(y,m){var P=d.util.createBuffer();P.putBuffer(y.session.md5.digest()),P.putBuffer(y.session.sha1.digest()),P=P.getBytes(),y.getSignature=y.getSignature||function(q,J,ue){var Z=null;if(q.getPrivateKey)try{Z=q.getPrivateKey(q,q.session.clientCertificate),Z=d.pki.privateKeyFromPem(Z)}catch(be){q.error(q,{message:"Could not get private key.",cause:be,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}null===Z?q.error(q,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):J=Z.sign(J,null),ue(q,J)},y.getSignature(y,P,m)},f.createCertificateVerify=function(y,m){var P=m.length+2,q=d.util.createBuffer();return q.putByte(f.HandshakeType.certificate_verify),q.putInt24(P),q.putInt16(m.length),q.putBytes(m),q},f.createCertificateRequest=function(y){var m=d.util.createBuffer();m.putByte(1);var P=d.util.createBuffer();for(var q in y.caStore.certs){var ue=d.pki.distinguishedNameToAsn1(y.caStore.certs[q].subject),Z=d.asn1.toDer(ue);P.putInt16(Z.length()),P.putBuffer(Z)}var be=1+m.length()+2+P.length(),He=d.util.createBuffer();return He.putByte(f.HandshakeType.certificate_request),He.putInt24(be),E(He,1,m),E(He,2,P),He},f.createServerHelloDone=function(y){var m=d.util.createBuffer();return m.putByte(f.HandshakeType.server_hello_done),m.putInt24(0),m},f.createChangeCipherSpec=function(){var y=d.util.createBuffer();return y.putByte(1),y},f.createFinished=function(y){var m=d.util.createBuffer();m.putBuffer(y.session.md5.digest()),m.putBuffer(y.session.sha1.digest()),m=u(y.session.sp.master_secret,y.entity===f.ConnectionEnd.client?"client finished":"server finished",m.getBytes(),12);var be=d.util.createBuffer();return be.putByte(f.HandshakeType.finished),be.putInt24(m.length()),be.putBuffer(m),be},f.createHeartbeat=function(y,m,P){typeof P>"u"&&(P=m.length);var q=d.util.createBuffer();q.putByte(y),q.putInt16(P),q.putBytes(m);var J=q.length(),ue=Math.max(16,J-P-3);return q.putBytes(d.random.getBytes(ue)),q},f.queue=function(y,m){if(m&&(0!==m.fragment.length()||m.type!==f.ContentType.handshake&&m.type!==f.ContentType.alert&&m.type!==f.ContentType.change_cipher_spec)){if(m.type===f.ContentType.handshake){var P=m.fragment.bytes();y.session.md5.update(P),y.session.sha1.update(P),P=null}var q;if(m.fragment.length()<=f.MaxFragment)q=[m];else{q=[];for(var J=m.fragment.bytes();J.length>f.MaxFragment;)q.push(f.createRecord(y,{type:m.type,data:d.util.createBuffer(J.slice(0,f.MaxFragment))})),J=J.slice(f.MaxFragment);J.length>0&&q.push(f.createRecord(y,{type:m.type,data:d.util.createBuffer(J)}))}for(var ue=0;ue<q.length&&!y.fail;++ue){var Z=q[ue];y.state.current.write.update(y,Z)&&y.records.push(Z)}}},f.flush=function(y){for(var m=0;m<y.records.length;++m){var P=y.records[m];y.tlsData.putByte(P.type),y.tlsData.putByte(P.version.major),y.tlsData.putByte(P.version.minor),y.tlsData.putInt16(P.fragment.length()),y.tlsData.putBuffer(y.records[m].fragment)}return y.records=[],y.tlsDataReady(y)};var ut=function(y){switch(y){case!0:return!0;case d.pki.certificateError.bad_certificate:return f.Alert.Description.bad_certificate;case d.pki.certificateError.unsupported_certificate:return f.Alert.Description.unsupported_certificate;case d.pki.certificateError.certificate_revoked:return f.Alert.Description.certificate_revoked;case d.pki.certificateError.certificate_expired:return f.Alert.Description.certificate_expired;case d.pki.certificateError.certificate_unknown:return f.Alert.Description.certificate_unknown;case d.pki.certificateError.unknown_ca:return f.Alert.Description.unknown_ca;default:return f.Alert.Description.bad_certificate}};for(var oe in f.verifyCertificateChain=function(y,m){try{var P={};for(var q in y.verifyOptions)P[q]=y.verifyOptions[q];P.verify=function(ue,Z,be){ut(ue);var $e=y.verify(y,ue,Z,be);if(!0!==$e){if("object"==typeof $e&&!d.util.isArray($e)){var ge=new Error("The application rejected the certificate.");throw ge.send=!0,ge.alert={level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate},$e.message&&(ge.message=$e.message),$e.alert&&(ge.alert.description=$e.alert),ge}$e!==ue&&($e=function(y){switch(y){case!0:return!0;case f.Alert.Description.bad_certificate:return d.pki.certificateError.bad_certificate;case f.Alert.Description.unsupported_certificate:return d.pki.certificateError.unsupported_certificate;case f.Alert.Description.certificate_revoked:return d.pki.certificateError.certificate_revoked;case f.Alert.Description.certificate_expired:return d.pki.certificateError.certificate_expired;case f.Alert.Description.certificate_unknown:return d.pki.certificateError.certificate_unknown;case f.Alert.Description.unknown_ca:return d.pki.certificateError.unknown_ca;default:return d.pki.certificateError.bad_certificate}}($e))}return $e},d.pki.verifyCertificateChain(y.caStore,m,P)}catch(ue){var J=ue;("object"!=typeof J||d.util.isArray(J))&&(J={send:!0,alert:{level:f.Alert.Level.fatal,description:ut(ue)}}),"send"in J||(J.send=!0),"alert"in J||(J.alert={level:f.Alert.Level.fatal,description:ut(J.error)}),y.error(y,J)}return!y.fail},f.createSessionCache=function(y,m){var P=null;if(y&&y.getSession&&y.setSession&&y.order)P=y;else{for(var q in(P={}).cache=y||{},P.capacity=Math.max(m||100,1),P.order=[],y)P.order.length<=m?P.order.push(q):delete y[q];P.getSession=function(J){var ue=null,Z=null;if(J?Z=d.util.bytesToHex(J):P.order.length>0&&(Z=P.order[0]),null!==Z&&Z in P.cache)for(var be in ue=P.cache[Z],delete P.cache[Z],P.order)if(P.order[be]===Z){P.order.splice(be,1);break}return ue},P.setSession=function(J,ue){if(P.order.length===P.capacity){var Z=P.order.shift();delete P.cache[Z]}Z=d.util.bytesToHex(J),P.order.push(Z),P.cache[Z]=ue}}return P},f.createConnection=function(y){var m;m=y.caStore?d.util.isArray(y.caStore)?d.pki.createCaStore(y.caStore):y.caStore:d.pki.createCaStore();var P=y.cipherSuites||null;if(null===P)for(var q in P=[],f.CipherSuites)P.push(f.CipherSuites[q]);var J=y.server?f.ConnectionEnd.server:f.ConnectionEnd.client,ue=y.sessionCache?f.createSessionCache(y.sessionCache):null,Z={version:{major:f.Version.major,minor:f.Version.minor},entity:J,sessionId:y.sessionId,caStore:m,sessionCache:ue,cipherSuites:P,connected:y.connected,virtualHost:y.virtualHost||null,verifyClient:y.verifyClient||!1,verify:y.verify||function(ge,Be,We,mt){return Be},verifyOptions:y.verifyOptions||{},getCertificate:y.getCertificate||null,getPrivateKey:y.getPrivateKey||null,getSignature:y.getSignature||null,input:d.util.createBuffer(),tlsData:d.util.createBuffer(),data:d.util.createBuffer(),tlsDataReady:y.tlsDataReady,dataReady:y.dataReady,heartbeatReceived:y.heartbeatReceived,closed:y.closed,error:function(ge,Be){Be.origin=Be.origin||(ge.entity===f.ConnectionEnd.client?"client":"server"),Be.send&&(f.queue(ge,f.createAlert(ge,Be.alert)),f.flush(ge));var We=!1!==Be.fatal;We&&(ge.fail=!0),y.error(ge,Be),We&&ge.close(!1)},deflate:y.deflate||null,inflate:y.inflate||null,reset:function(ge){Z.version={major:f.Version.major,minor:f.Version.minor},Z.record=null,Z.session=null,Z.peerCertificate=null,Z.state={pending:null,current:null},Z.expect=0,Z.fragmented=null,Z.records=[],Z.open=!1,Z.handshakes=0,Z.handshaking=!1,Z.isConnected=!1,Z.fail=!(ge||typeof ge>"u"),Z.input.clear(),Z.tlsData.clear(),Z.data.clear(),Z.state.current=f.createConnectionState(Z)}};return Z.reset(),Z.handshake=function(ge){if(Z.entity!==f.ConnectionEnd.client)Z.error(Z,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Z.handshaking)Z.error(Z,{message:"Handshake already in progress.",fatal:!1});else{Z.fail&&!Z.open&&0===Z.handshakes&&(Z.fail=!1),Z.handshaking=!0;var Be=null;(ge=ge||"").length>0&&(Z.sessionCache&&(Be=Z.sessionCache.getSession(ge)),null===Be&&(ge="")),0===ge.length&&Z.sessionCache&&null!==(Be=Z.sessionCache.getSession())&&(ge=Be.id),Z.session={id:ge,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:d.md.md5.create(),sha1:d.md.sha1.create()},Be&&(Z.version=Be.version,Z.session.sp=Be.sp),Z.session.sp.client_random=f.createRandom().getBytes(),Z.open=!0,f.queue(Z,f.createRecord(Z,{type:f.ContentType.handshake,data:f.createClientHello(Z)})),f.flush(Z)}},Z.process=function(ge){var Be=0;return ge&&Z.input.putBytes(ge),Z.fail||(null!==Z.record&&Z.record.ready&&Z.record.fragment.isEmpty()&&(Z.record=null),null===Z.record&&(Be=function(ge){var Be=0,We=ge.input,mt=We.length();if(mt<5)Be=5-mt;else{ge.record={type:We.getByte(),version:{major:We.getByte(),minor:We.getByte()},length:We.getInt16(),fragment:d.util.createBuffer(),ready:!1};var rt=ge.record.version.major===ge.version.major;rt&&ge.session&&ge.session.version&&(rt=ge.record.version.minor===ge.version.minor),rt||ge.error(ge,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}})}return Be}(Z)),!Z.fail&&null!==Z.record&&!Z.record.ready&&(Be=function(ge){var Be=0,We=ge.input,mt=We.length();return mt<ge.record.length?Be=ge.record.length-mt:(ge.record.fragment.putBytes(We.getBytes(ge.record.length)),We.compact(),ge.state.current.read.update(ge,ge.record)&&(null!==ge.fragmented&&(ge.fragmented.type===ge.record.type?(ge.fragmented.fragment.putBuffer(ge.record.fragment),ge.record=ge.fragmented):ge.error(ge,{message:"Invalid fragmented record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})),ge.record.ready=!0)),Be}(Z)),!Z.fail&&null!==Z.record&&Z.record.ready&&function(ge,Be){var We=Be.type-f.ContentType.change_cipher_spec,mt=re[ge.entity][ge.expect];We in mt?mt[We](ge,Be):f.handleUnexpected(ge,Be)}(Z,Z.record)),Be},Z.prepare=function(ge){return f.queue(Z,f.createRecord(Z,{type:f.ContentType.application_data,data:d.util.createBuffer(ge)})),f.flush(Z)},Z.prepareHeartbeatRequest=function(ge,Be){return ge instanceof d.util.ByteBuffer&&(ge=ge.bytes()),typeof Be>"u"&&(Be=ge.length),Z.expectedHeartbeatPayload=ge,f.queue(Z,f.createRecord(Z,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_request,ge,Be)})),f.flush(Z)},Z.close=function(ge){if(!Z.fail&&Z.sessionCache&&Z.session){var Be={id:Z.session.id,version:Z.session.version,sp:Z.session.sp};Be.sp.keys=null,Z.sessionCache.setSession(Be.id,Be)}Z.open&&(Z.open=!1,Z.input.clear(),(Z.isConnected||Z.handshaking)&&(Z.isConnected=Z.handshaking=!1,f.queue(Z,f.createAlert(Z,{level:f.Alert.Level.warning,description:f.Alert.Description.close_notify})),f.flush(Z)),Z.closed(Z)),Z.reset(ge)},Z},_e.exports=d.tls=d.tls||{},f)"function"!=typeof f[oe]&&(d.tls[oe]=f[oe]);d.tls.prf_tls1=u,d.tls.hmac_sha1=function(y,m,P){var q=d.hmac.create();q.start("SHA1",y);var J=d.util.createBuffer();return J.putInt32(m[0]),J.putInt32(m[1]),J.putByte(P.type),J.putByte(P.version.major),J.putByte(P.version.minor),J.putInt16(P.length),J.putBytes(P.fragment.bytes()),q.update(J.getBytes()),q.digest().getBytes()},d.tls.createSessionCache=f.createSessionCache,d.tls.createConnection=f.createConnection},747:(_e,Je,Y)=>{var d=Y(659),u=Y(20),p=_e.exports=d.util=d.util||{};function N(h){if(8!==h&&16!==h&&24!==h&&32!==h)throw new Error("Only 8, 16, 24, or 32 bits supported: "+h)}function w(h){if(this.data="",this.read=0,"string"==typeof h)this.data=h;else if(p.isArrayBuffer(h)||p.isArrayBufferView(h))if(typeof Buffer<"u"&&h instanceof Buffer)this.data=h.toString("binary");else{var v=new Uint8Array(h);try{this.data=String.fromCharCode.apply(null,v)}catch{for(var A=0;A<v.length;++A)this.putByte(v[A])}}else(h instanceof w||"object"==typeof h&&"string"==typeof h.data&&"number"==typeof h.read)&&(this.data=h.data,this.read=h.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return p.nextTick=process.nextTick,void(p.setImmediate="function"==typeof setImmediate?setImmediate:p.nextTick);if("function"==typeof setImmediate)return p.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(p.nextTick=function(x){return setImmediate(x)});if(p.setImmediate=function(x){setTimeout(x,0)},typeof window<"u"&&"function"==typeof window.postMessage){let x=function(V){if(V.source===window&&V.data===h){V.stopPropagation();var c=v.slice();v.length=0,c.forEach(function(j){j()})}};var h="forge.setImmediate",v=[];p.setImmediate=function(V){v.push(V),1===v.length&&window.postMessage(h,"*")},window.addEventListener("message",x,!0)}if(typeof MutationObserver<"u"){var A=Date.now(),F=!0,H=document.createElement("div");v=[],new MutationObserver(function(){var V=v.slice();v.length=0,V.forEach(function(c){c()})}).observe(H,{attributes:!0});var W=p.setImmediate;p.setImmediate=function(V){Date.now()-A>15?(A=Date.now(),W(V)):(v.push(V),1===v.length&&H.setAttribute("a",F=!F))}}p.nextTick=p.setImmediate})(),p.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,p.globalScope=p.isNodejs?global:typeof self>"u"?window:self,p.isArray=Array.isArray||function(h){return"[object Array]"===Object.prototype.toString.call(h)},p.isArrayBuffer=function(h){return typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer},p.isArrayBufferView=function(h){return h&&p.isArrayBuffer(h.buffer)&&void 0!==h.byteLength},p.ByteBuffer=w,p.ByteStringBuffer=w,p.ByteStringBuffer.prototype._optimizeConstructedString=function(h){this._constructedStringLength+=h,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},p.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},p.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},p.ByteStringBuffer.prototype.putByte=function(h){return this.putBytes(String.fromCharCode(h))},p.ByteStringBuffer.prototype.fillWithByte=function(h,v){h=String.fromCharCode(h);for(var A=this.data;v>0;)1&v&&(A+=h),(v>>>=1)>0&&(h+=h);return this.data=A,this._optimizeConstructedString(v),this},p.ByteStringBuffer.prototype.putBytes=function(h){return this.data+=h,this._optimizeConstructedString(h.length),this},p.ByteStringBuffer.prototype.putString=function(h){return this.putBytes(p.encodeUtf8(h))},p.ByteStringBuffer.prototype.putInt16=function(h){return this.putBytes(String.fromCharCode(h>>8&255)+String.fromCharCode(255&h))},p.ByteStringBuffer.prototype.putInt24=function(h){return this.putBytes(String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(255&h))},p.ByteStringBuffer.prototype.putInt32=function(h){return this.putBytes(String.fromCharCode(h>>24&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(255&h))},p.ByteStringBuffer.prototype.putInt16Le=function(h){return this.putBytes(String.fromCharCode(255&h)+String.fromCharCode(h>>8&255))},p.ByteStringBuffer.prototype.putInt24Le=function(h){return this.putBytes(String.fromCharCode(255&h)+String.fromCharCode(h>>8&255)+String.fromCharCode(h>>16&255))},p.ByteStringBuffer.prototype.putInt32Le=function(h){return this.putBytes(String.fromCharCode(255&h)+String.fromCharCode(h>>8&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>24&255))},p.ByteStringBuffer.prototype.putInt=function(h,v){N(v);var A="";do{v-=8,A+=String.fromCharCode(h>>v&255)}while(v>0);return this.putBytes(A)},p.ByteStringBuffer.prototype.putSignedInt=function(h,v){return h<0&&(h+=2<<v-1),this.putInt(h,v)},p.ByteStringBuffer.prototype.putBuffer=function(h){return this.putBytes(h.getBytes())},p.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},p.ByteStringBuffer.prototype.getInt16=function(){var h=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,h},p.ByteStringBuffer.prototype.getInt24=function(){var h=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,h},p.ByteStringBuffer.prototype.getInt32=function(){var h=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,h},p.ByteStringBuffer.prototype.getInt16Le=function(){var h=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,h},p.ByteStringBuffer.prototype.getInt24Le=function(){var h=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,h},p.ByteStringBuffer.prototype.getInt32Le=function(){var h=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,h},p.ByteStringBuffer.prototype.getInt=function(h){N(h);var v=0;do{v=(v<<8)+this.data.charCodeAt(this.read++),h-=8}while(h>0);return v},p.ByteStringBuffer.prototype.getSignedInt=function(h){var v=this.getInt(h),A=2<<h-2;return v>=A&&(v-=A<<1),v},p.ByteStringBuffer.prototype.getBytes=function(h){var v;return h?(h=Math.min(this.length(),h),v=this.data.slice(this.read,this.read+h),this.read+=h):0===h?v="":(v=0===this.read?this.data:this.data.slice(this.read),this.clear()),v},p.ByteStringBuffer.prototype.bytes=function(h){return typeof h>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+h)},p.ByteStringBuffer.prototype.at=function(h){return this.data.charCodeAt(this.read+h)},p.ByteStringBuffer.prototype.setAt=function(h,v){return this.data=this.data.substr(0,this.read+h)+String.fromCharCode(v)+this.data.substr(this.read+h+1),this},p.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},p.ByteStringBuffer.prototype.copy=function(){var h=p.createBuffer(this.data);return h.read=this.read,h},p.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},p.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},p.ByteStringBuffer.prototype.truncate=function(h){var v=Math.max(0,this.length()-h);return this.data=this.data.substr(this.read,v),this.read=0,this},p.ByteStringBuffer.prototype.toHex=function(){for(var h="",v=this.read;v<this.data.length;++v){var A=this.data.charCodeAt(v);A<16&&(h+="0"),h+=A.toString(16)}return h},p.ByteStringBuffer.prototype.toString=function(){return p.decodeUtf8(this.bytes())},p.DataBuffer=function b(h,v){this.read=(v=v||{}).readOffset||0,this.growSize=v.growSize||1024;var A=p.isArrayBuffer(h),F=p.isArrayBufferView(h);if(A||F)return this.data=A?new DataView(h):new DataView(h.buffer,h.byteOffset,h.byteLength),void(this.write="writeOffset"in v?v.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=h&&this.putBytes(h),"writeOffset"in v&&(this.write=v.writeOffset)},p.DataBuffer.prototype.length=function(){return this.write-this.read},p.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},p.DataBuffer.prototype.accommodate=function(h,v){if(this.length()>=h)return this;v=Math.max(v||this.growSize,h);var A=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),F=new Uint8Array(this.length()+v);return F.set(A),this.data=new DataView(F.buffer),this},p.DataBuffer.prototype.putByte=function(h){return this.accommodate(1),this.data.setUint8(this.write++,h),this},p.DataBuffer.prototype.fillWithByte=function(h,v){this.accommodate(v);for(var A=0;A<v;++A)this.data.setUint8(h);return this},p.DataBuffer.prototype.putBytes=function(h,v){if(p.isArrayBufferView(h)){var F=(A=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)).byteLength-A.byteOffset;return this.accommodate(F),new Uint8Array(this.data.buffer,this.write).set(A),this.write+=F,this}if(p.isArrayBuffer(h)){var A=new Uint8Array(h);return this.accommodate(A.byteLength),new Uint8Array(this.data.buffer).set(A,this.write),this.write+=A.byteLength,this}if(h instanceof p.DataBuffer||"object"==typeof h&&"number"==typeof h.read&&"number"==typeof h.write&&p.isArrayBufferView(h.data))return A=new Uint8Array(h.data.byteLength,h.read,h.length()),this.accommodate(A.byteLength),new Uint8Array(h.data.byteLength,this.write).set(A),this.write+=A.byteLength,this;if(h instanceof p.ByteStringBuffer&&(h=h.data,v="binary"),v=v||"binary","string"==typeof h){var W;if("hex"===v)return this.accommodate(Math.ceil(h.length/2)),W=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.hex.decode(h,W,this.write),this;if("base64"===v)return this.accommodate(3*Math.ceil(h.length/4)),W=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.base64.decode(h,W,this.write),this;if("utf8"===v&&(h=p.encodeUtf8(h),v="binary"),"binary"===v||"raw"===v)return this.accommodate(h.length),W=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.raw.decode(W),this;if("utf16"===v)return this.accommodate(2*h.length),W=new Uint16Array(this.data.buffer,this.write),this.write+=p.text.utf16.encode(W),this;throw new Error("Invalid encoding: "+v)}throw Error("Invalid parameter: "+h)},p.DataBuffer.prototype.putBuffer=function(h){return this.putBytes(h),h.clear(),this},p.DataBuffer.prototype.putString=function(h){return this.putBytes(h,"utf16")},p.DataBuffer.prototype.putInt16=function(h){return this.accommodate(2),this.data.setInt16(this.write,h),this.write+=2,this},p.DataBuffer.prototype.putInt24=function(h){return this.accommodate(3),this.data.setInt16(this.write,h>>8&65535),this.data.setInt8(this.write,h>>16&255),this.write+=3,this},p.DataBuffer.prototype.putInt32=function(h){return this.accommodate(4),this.data.setInt32(this.write,h),this.write+=4,this},p.DataBuffer.prototype.putInt16Le=function(h){return this.accommodate(2),this.data.setInt16(this.write,h,!0),this.write+=2,this},p.DataBuffer.prototype.putInt24Le=function(h){return this.accommodate(3),this.data.setInt8(this.write,h>>16&255),this.data.setInt16(this.write,h>>8&65535,!0),this.write+=3,this},p.DataBuffer.prototype.putInt32Le=function(h){return this.accommodate(4),this.data.setInt32(this.write,h,!0),this.write+=4,this},p.DataBuffer.prototype.putInt=function(h,v){N(v),this.accommodate(v/8);do{v-=8,this.data.setInt8(this.write++,h>>v&255)}while(v>0);return this},p.DataBuffer.prototype.putSignedInt=function(h,v){return N(v),this.accommodate(v/8),h<0&&(h+=2<<v-1),this.putInt(h,v)},p.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},p.DataBuffer.prototype.getInt16=function(){var h=this.data.getInt16(this.read);return this.read+=2,h},p.DataBuffer.prototype.getInt24=function(){var h=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,h},p.DataBuffer.prototype.getInt32=function(){var h=this.data.getInt32(this.read);return this.read+=4,h},p.DataBuffer.prototype.getInt16Le=function(){var h=this.data.getInt16(this.read,!0);return this.read+=2,h},p.DataBuffer.prototype.getInt24Le=function(){var h=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,h},p.DataBuffer.prototype.getInt32Le=function(){var h=this.data.getInt32(this.read,!0);return this.read+=4,h},p.DataBuffer.prototype.getInt=function(h){N(h);var v=0;do{v=(v<<8)+this.data.getInt8(this.read++),h-=8}while(h>0);return v},p.DataBuffer.prototype.getSignedInt=function(h){var v=this.getInt(h),A=2<<h-2;return v>=A&&(v-=A<<1),v},p.DataBuffer.prototype.getBytes=function(h){var v;return h?(h=Math.min(this.length(),h),v=this.data.slice(this.read,this.read+h),this.read+=h):0===h?v="":(v=0===this.read?this.data:this.data.slice(this.read),this.clear()),v},p.DataBuffer.prototype.bytes=function(h){return typeof h>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+h)},p.DataBuffer.prototype.at=function(h){return this.data.getUint8(this.read+h)},p.DataBuffer.prototype.setAt=function(h,v){return this.data.setUint8(h,v),this},p.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},p.DataBuffer.prototype.copy=function(){return new p.DataBuffer(this)},p.DataBuffer.prototype.compact=function(){if(this.read>0){var h=new Uint8Array(this.data.buffer,this.read),v=new Uint8Array(h.byteLength);v.set(h),this.data=new DataView(v),this.write-=this.read,this.read=0}return this},p.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},p.DataBuffer.prototype.truncate=function(h){return this.write=Math.max(0,this.length()-h),this.read=Math.min(this.read,this.write),this},p.DataBuffer.prototype.toHex=function(){for(var h="",v=this.read;v<this.data.byteLength;++v){var A=this.data.getUint8(v);A<16&&(h+="0"),h+=A.toString(16)}return h},p.DataBuffer.prototype.toString=function(h){var v=new Uint8Array(this.data,this.read,this.length());if("binary"===(h=h||"utf8")||"raw"===h)return p.binary.raw.encode(v);if("hex"===h)return p.binary.hex.encode(v);if("base64"===h)return p.binary.base64.encode(v);if("utf8"===h)return p.text.utf8.decode(v);if("utf16"===h)return p.text.utf16.decode(v);throw new Error("Invalid encoding: "+h)},p.createBuffer=function(h,v){return v=v||"raw",void 0!==h&&"utf8"===v&&(h=p.encodeUtf8(h)),new p.ByteBuffer(h)},p.fillString=function(h,v){for(var A="";v>0;)1&v&&(A+=h),(v>>>=1)>0&&(h+=h);return A},p.xorBytes=function(h,v,A){for(var F="",H="",W="",S=0,x=0;A>0;--A,++S)H=h.charCodeAt(S)^v.charCodeAt(S),x>=10&&(F+=W,W="",x=0),W+=String.fromCharCode(H),++x;return F+W},p.hexToBytes=function(h){var v="",A=0;for(!0&h.length&&(A=1,v+=String.fromCharCode(parseInt(h[0],16)));A<h.length;A+=2)v+=String.fromCharCode(parseInt(h.substr(A,2),16));return v},p.bytesToHex=function(h){return p.createBuffer(h).toHex()},p.int32ToBytes=function(h){return String.fromCharCode(h>>24&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(255&h)};var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],C="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";p.encode64=function(h,v){for(var H,W,S,A="",F="",x=0;x<h.length;)H=h.charCodeAt(x++),W=h.charCodeAt(x++),S=h.charCodeAt(x++),A+=E.charAt(H>>2),A+=E.charAt((3&H)<<4|W>>4),isNaN(W)?A+="==":(A+=E.charAt((15&W)<<2|S>>6),A+=isNaN(S)?"=":E.charAt(63&S)),v&&A.length>v&&(F+=A.substr(0,v)+"\r\n",A=A.substr(v));return F+A},p.decode64=function(h){h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var A,F,H,W,v="",S=0;S<h.length;)A=f[h.charCodeAt(S++)-43],F=f[h.charCodeAt(S++)-43],H=f[h.charCodeAt(S++)-43],W=f[h.charCodeAt(S++)-43],v+=String.fromCharCode(A<<2|F>>4),64!==H&&(v+=String.fromCharCode((15&F)<<4|H>>2),64!==W&&(v+=String.fromCharCode((3&H)<<6|W)));return v},p.encodeUtf8=function(h){return unescape(encodeURIComponent(h))},p.decodeUtf8=function(h){return decodeURIComponent(escape(h))},p.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:u.encode,decode:u.decode}},p.binary.raw.encode=function(h){return String.fromCharCode.apply(null,h)},p.binary.raw.decode=function(h,v,A){var F=v;F||(F=new Uint8Array(h.length));for(var H=A=A||0,W=0;W<h.length;++W)F[H++]=h.charCodeAt(W);return v?H-A:F},p.binary.hex.encode=p.bytesToHex,p.binary.hex.decode=function(h,v,A){var F=v;F||(F=new Uint8Array(Math.ceil(h.length/2)));var H=0,W=A=A||0;for(1&h.length&&(H=1,F[W++]=parseInt(h[0],16));H<h.length;H+=2)F[W++]=parseInt(h.substr(H,2),16);return v?W-A:F},p.binary.base64.encode=function(h,v){for(var H,W,S,A="",F="",x=0;x<h.byteLength;)H=h[x++],W=h[x++],S=h[x++],A+=E.charAt(H>>2),A+=E.charAt((3&H)<<4|W>>4),isNaN(W)?A+="==":(A+=E.charAt((15&W)<<2|S>>6),A+=isNaN(S)?"=":E.charAt(63&S)),v&&A.length>v&&(F+=A.substr(0,v)+"\r\n",A=A.substr(v));return F+A},p.binary.base64.decode=function(h,v,A){var F=v;F||(F=new Uint8Array(3*Math.ceil(h.length/4))),h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var H,W,S,x,V=0,c=A=A||0;V<h.length;)H=f[h.charCodeAt(V++)-43],W=f[h.charCodeAt(V++)-43],S=f[h.charCodeAt(V++)-43],x=f[h.charCodeAt(V++)-43],F[c++]=H<<2|W>>4,64!==S&&(F[c++]=(15&W)<<4|S>>2,64!==x&&(F[c++]=(3&S)<<6|x));return v?c-A:F.subarray(0,c)},p.binary.base58.encode=function(h,v){return p.binary.baseN.encode(h,C,v)},p.binary.base58.decode=function(h,v){return p.binary.baseN.decode(h,C,v)},p.text={utf8:{},utf16:{}},p.text.utf8.encode=function(h,v,A){h=p.encodeUtf8(h);var F=v;F||(F=new Uint8Array(h.length));for(var H=A=A||0,W=0;W<h.length;++W)F[H++]=h.charCodeAt(W);return v?H-A:F},p.text.utf8.decode=function(h){return p.decodeUtf8(String.fromCharCode.apply(null,h))},p.text.utf16.encode=function(h,v,A){var F=v;F||(F=new Uint8Array(2*h.length));for(var H=new Uint16Array(F.buffer),W=A=A||0,S=A,x=0;x<h.length;++x)H[S++]=h.charCodeAt(x),W+=2;return v?W-A:F},p.text.utf16.decode=function(h){return String.fromCharCode.apply(null,new Uint16Array(h.buffer))},p.deflate=function(h,v,A){if(v=p.decode64(h.deflate(p.encode64(v)).rval),A){var F=2;32&v.charCodeAt(1)&&(F=6),v=v.substring(F,v.length-4)}return v},p.inflate=function(h,v,A){var F=h.inflate(p.encode64(v)).rval;return null===F?null:p.decode64(F)};var B=function(h,v,A){if(!h)throw new Error("WebStorage not available.");var F;if(null===A?F=h.removeItem(v):(A=p.encode64(JSON.stringify(A)),F=h.setItem(v,A)),typeof F<"u"&&!0!==F.rval){var H=new Error(F.error.message);throw H.id=F.error.id,H.name=F.error.name,H}},G=function(h,v){if(!h)throw new Error("WebStorage not available.");var A=h.getItem(v);if(h.init)if(null===A.rval){if(A.error){var F=new Error(A.error.message);throw F.id=A.error.id,F.name=A.error.name,F}A=null}else A=A.rval;return null!==A&&(A=JSON.parse(p.decode64(A))),A},R=function(h,v,A,F){var H=G(h,v);null===H&&(H={}),H[A]=F,B(h,v,H)},_=function(h,v,A){var F=G(h,v);return null!==F&&(F=A in F?F[A]:null),F},k=function(h,v,A){var F=G(h,v);if(null!==F&&A in F){delete F[A];var H=!0;for(var W in F){H=!1;break}H&&(F=null),B(h,v,F)}},D=function(h,v){B(h,v,null)},T=function(h,v,A){var F=null;typeof A>"u"&&(A=["web","flash"]);var H,W=!1,S=null;for(var x in A){H=A[x];try{if("flash"===H||"both"===H){if(null===v[0])throw new Error("Flash local storage not available.");F=h.apply(this,v),W="flash"===H}("web"===H||"both"===H)&&(v[0]=localStorage,F=h.apply(this,v),W=!0)}catch(V){S=V}if(W)break}if(!W)throw S;return F};p.setItem=function(h,v,A,F,H){T(R,arguments,H)},p.getItem=function(h,v,A,F){return T(_,arguments,F)},p.removeItem=function(h,v,A,F){T(k,arguments,F)},p.clearItems=function(h,v,A){T(D,arguments,A)},p.isEmpty=function(h){for(var v in h)if(h.hasOwnProperty(v))return!1;return!0},p.format=function(h){for(var A,F,v=/%./g,H=0,W=[],S=0;A=v.exec(h);){(F=h.substring(S,v.lastIndex-2)).length>0&&W.push(F),S=v.lastIndex;var x=A[0][1];switch(x){case"s":case"o":W.push(H<arguments.length?arguments[1+H++]:"<?>");break;case"%":W.push("%");break;default:W.push("<%"+x+"?>")}}return W.push(h.substring(S)),W.join("")},p.formatNumber=function(h,v,A,F){var H=h,W=isNaN(v=Math.abs(v))?2:v,S=void 0===A?",":A,x=void 0===F?".":F,V=H<0?"-":"",c=parseInt(H=Math.abs(+H||0).toFixed(W),10)+"",j=c.length>3?c.length%3:0;return V+(j?c.substr(0,j)+x:"")+c.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+x)+(W?S+Math.abs(H-c).toFixed(W).slice(2):"")},p.formatSize=function(h){return h>=1073741824?p.formatNumber(h/1073741824,2,".","")+" GiB":h>=1048576?p.formatNumber(h/1048576,2,".","")+" MiB":h>=1024?p.formatNumber(h/1024,0)+" KiB":p.formatNumber(h,0)+" bytes"},p.bytesFromIP=function(h){return-1!==h.indexOf(".")?p.bytesFromIPv4(h):-1!==h.indexOf(":")?p.bytesFromIPv6(h):null},p.bytesFromIPv4=function(h){if(4!==(h=h.split(".")).length)return null;for(var v=p.createBuffer(),A=0;A<h.length;++A){var F=parseInt(h[A],10);if(isNaN(F))return null;v.putByte(F)}return v.getBytes()},p.bytesFromIPv6=function(h){for(var v=0,A=2*(8-(h=h.split(":").filter(function(S){return 0===S.length&&++v,!0})).length+v),F=p.createBuffer(),H=0;H<8;++H)if(h[H]&&0!==h[H].length){var W=p.hexToBytes(h[H]);W.length<2&&F.putByte(0),F.putBytes(W)}else F.fillWithByte(0,A),A=0;return F.getBytes()},p.bytesToIP=function(h){return 4===h.length?p.bytesToIPv4(h):16===h.length?p.bytesToIPv6(h):null},p.bytesToIPv4=function(h){if(4!==h.length)return null;for(var v=[],A=0;A<h.length;++A)v.push(h.charCodeAt(A));return v.join(".")},p.bytesToIPv6=function(h){if(16!==h.length)return null;for(var v=[],A=[],F=0,H=0;H<h.length;H+=2){for(var W=p.bytesToHex(h[H]+h[H+1]);"0"===W[0]&&"0"!==W;)W=W.substr(1);if("0"===W){var S=A[A.length-1],x=v.length;S&&x===S.end+1?(S.end=x,S.end-S.start>A[F].end-A[F].start&&(F=A.length-1)):A.push({start:x,end:x})}v.push(W)}if(A.length>0){var V=A[F];V.end-V.start>0&&(v.splice(V.start,V.end-V.start+1,""),0===V.start&&v.unshift(""),7===V.end&&v.push(""))}return v.join(":")},p.estimateCores=function(h,v){if("function"==typeof h&&(v=h,h={}),h=h||{},"cores"in p&&!h.update)return v(null,p.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return p.cores=navigator.hardwareConcurrency,v(null,p.cores);if(typeof Worker>"u")return p.cores=1,v(null,p.cores);if(typeof Blob>"u")return p.cores=2,v(null,p.cores);var A=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(S){for(var x=Date.now(),V=x+4;Date.now()<V;);self.postMessage({st:x,et:V})})}.toString(),")()"],{type:"application/javascript"}));!function F(S,x,V){if(0===x){var c=Math.floor(S.reduce(function(j,Q){return j+Q},0)/S.length);return p.cores=Math.max(1,c),URL.revokeObjectURL(A),v(null,p.cores)}!function H(S,x){for(var V=[],c=[],j=0;j<S;++j){var Q=new Worker(A);Q.addEventListener("message",function($){if(c.push($.data),c.length===S){for(var ne=0;ne<S;++ne)V[ne].terminate();x(null,c)}}),V.push(Q)}for(j=0;j<S;++j)V[j].postMessage(j)}(V,function(j,Q){S.push(function W(S,x){for(var V=[],c=0;c<S;++c)for(var j=x[c],Q=V[c]=[],$=0;$<S;++$)if(c!==$){var ne=x[$];(j.st>ne.st&&j.st<ne.et||ne.st>j.st&&ne.st<j.et)&&Q.push($)}return V.reduce(function(te,re){return Math.max(te,re.length)},0)}(V,Q)),F(S,x-1,V)})}([],5,16)}},911:(_e,Je,Y)=>{var d=Y(659);Y(298),Y(791),Y(279),Y(979),Y(386),Y(78),Y(604),Y(256),Y(517),Y(747);var u=d.asn1,p=_e.exports=d.pki=d.pki||{},N=p.oids,w={};w.CN=N.commonName,w.commonName="CN",w.C=N.countryName,w.countryName="C",w.L=N.localityName,w.localityName="L",w.ST=N.stateOrProvinceName,w.stateOrProvinceName="ST",w.O=N.organizationName,w.organizationName="O",w.OU=N.organizationalUnitName,w.organizationalUnitName="OU",w.E=N.emailAddress,w.emailAddress="E";var M=d.pki.rsa.publicKeyValidator,b={name:"Certificate",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:u.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:u.Class.UNIVERSAL,type:u.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:u.Class.UNIVERSAL,type:u.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:u.Class.UNIVERSAL,type:u.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:u.Class.UNIVERSAL,type:u.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},M,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:u.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:u.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:u.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},E={name:"rsapss",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:u.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:u.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:u.Class.UNIVERSAL,type:u.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:u.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:u.Class.UNIVERSAL,type:u.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},C={name:"CertificationRequest",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},M,{name:"CertificationRequestInfo.attributes",tagClass:u.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function B(S,x){"string"==typeof x&&(x={shortName:x});for(var c,V=null,j=0;null===V&&j<S.attributes.length;++j)c=S.attributes[j],(x.type&&x.type===c.type||x.name&&x.name===c.name||x.shortName&&x.shortName===c.shortName)&&(V=c);return V}p.RDNAttributesAsArray=function(S,x){for(var c,j,Q,V=[],$=0;$<S.value.length;++$){c=S.value[$];for(var ne=0;ne<c.value.length;++ne)(Q={}).type=u.derToOid((j=c.value[ne]).value[0].value),Q.value=j.value[1].value,Q.valueTagClass=j.value[1].type,Q.type in N&&(Q.name=N[Q.type],Q.name in w&&(Q.shortName=w[Q.name])),x&&(x.update(Q.type),x.update(Q.value)),V.push(Q)}return V},p.CRIAttributesAsArray=function(S){for(var x=[],V=0;V<S.length;++V)for(var c=S[V],j=u.derToOid(c.value[0].value),Q=c.value[1].value,$=0;$<Q.length;++$){var ne={};if(ne.type=j,ne.value=Q[$].value,ne.valueTagClass=Q[$].type,ne.type in N&&(ne.name=N[ne.type],ne.name in w&&(ne.shortName=w[ne.name])),ne.type===N.extensionRequest){ne.extensions=[];for(var te=0;te<ne.value.length;++te)ne.extensions.push(p.certificateExtensionFromAsn1(ne.value[te]))}x.push(ne)}return x};var G=function(S,x,V){var c={};if(S!==N["RSASSA-PSS"])return c;V&&(c={hash:{algorithmOid:N.sha1},mgf:{algorithmOid:N.mgf1,hash:{algorithmOid:N.sha1}},saltLength:20});var j={},Q=[];if(!u.validate(x,E,j,Q)){var $=new Error("Cannot read RSASSA-PSS parameter block.");throw $.errors=Q,$}return void 0!==j.hashOid&&(c.hash=c.hash||{},c.hash.algorithmOid=u.derToOid(j.hashOid)),void 0!==j.maskGenOid&&(c.mgf=c.mgf||{},c.mgf.algorithmOid=u.derToOid(j.maskGenOid),c.mgf.hash=c.mgf.hash||{},c.mgf.hash.algorithmOid=u.derToOid(j.maskGenHashOid)),void 0!==j.saltLength&&(c.saltLength=j.saltLength.charCodeAt(0)),c},R=function(S){switch(N[S.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return d.md.sha1.create();case"md5WithRSAEncryption":return d.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return d.md.sha256.create();case"sha384WithRSAEncryption":return d.md.sha384.create();case"sha512WithRSAEncryption":return d.md.sha512.create();default:var x=new Error("Could not compute "+S.type+" digest. Unknown signature OID.");throw x.signatureOid=S.signatureOid,x}},_=function(S){var V,x=S.certificate;switch(x.signatureOid){case N.sha1WithRSAEncryption:case N.sha1WithRSASignature:break;case N["RSASSA-PSS"]:var c,j,Q;if(void 0===(c=N[x.signatureParameters.mgf.hash.algorithmOid])||void 0===d.md[c])throw(Q=new Error("Unsupported MGF hash function.")).oid=x.signatureParameters.mgf.hash.algorithmOid,Q.name=c,Q;if(void 0===(j=N[x.signatureParameters.mgf.algorithmOid])||void 0===d.mgf[j])throw(Q=new Error("Unsupported MGF function.")).oid=x.signatureParameters.mgf.algorithmOid,Q.name=j,Q;if(j=d.mgf[j].create(d.md[c].create()),void 0===(c=N[x.signatureParameters.hash.algorithmOid])||void 0===d.md[c])throw(Q=new Error("Unsupported RSASSA-PSS hash function.")).oid=x.signatureParameters.hash.algorithmOid,Q.name=c,Q;V=d.pss.create(d.md[c].create(),j,x.signatureParameters.saltLength)}return x.publicKey.verify(S.md.digest().getBytes(),S.signature,V)};function k(S){for(var V,c,x=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),j=S.attributes,Q=0;Q<j.length;++Q){var $=(V=j[Q]).value,ne=u.Type.PRINTABLESTRING;"valueTagClass"in V&&(ne=V.valueTagClass)===u.Type.UTF8&&($=d.util.encodeUtf8($)),c=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(V.type).getBytes()),u.create(u.Class.UNIVERSAL,ne,!1,$)])]),x.value.push(c)}return x}function T(S){for(var x,V=0;V<S.length;++V){if(typeof(x=S[V]).name>"u"&&(x.type&&x.type in p.oids?x.name=p.oids[x.type]:x.shortName&&x.shortName in w&&(x.name=p.oids[w[x.shortName]])),typeof x.type>"u"){if(!x.name||!(x.name in p.oids))throw(c=new Error("Attribute type not specified.")).attribute=x,c;x.type=p.oids[x.name]}if(typeof x.shortName>"u"&&x.name&&x.name in w&&(x.shortName=w[x.name]),x.type===N.extensionRequest&&(x.valueConstructed=!0,x.valueTagClass=u.Type.SEQUENCE,!x.value&&x.extensions)){x.value=[];for(var j=0;j<x.extensions.length;++j)x.value.push(p.certificateExtensionToAsn1(h(x.extensions[j])))}var c;if(typeof x.value>"u")throw(c=new Error("Attribute value not specified.")).attribute=x,c}}function h(S,x){if(x=x||{},typeof S.name>"u"&&S.id&&S.id in p.oids&&(S.name=p.oids[S.id]),typeof S.id>"u"){if(!S.name||!(S.name in p.oids))throw(V=new Error("Extension ID not specified.")).extension=S,V;S.id=p.oids[S.name]}if(typeof S.value<"u")return S;if("keyUsage"===S.name){var c=0,j=0,Q=0;S.digitalSignature&&(j|=128,c=7),S.nonRepudiation&&(j|=64,c=6),S.keyEncipherment&&(j|=32,c=5),S.dataEncipherment&&(j|=16,c=4),S.keyAgreement&&(j|=8,c=3),S.keyCertSign&&(j|=4,c=2),S.cRLSign&&(j|=2,c=1),S.encipherOnly&&(j|=1,c=0),S.decipherOnly&&(Q|=128,c=7);var $=String.fromCharCode(c);0!==Q?$+=String.fromCharCode(j)+String.fromCharCode(Q):0!==j&&($+=String.fromCharCode(j)),S.value=u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,$)}else if("basicConstraints"===S.name)S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),S.cA&&S.value.value.push(u.create(u.Class.UNIVERSAL,u.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in S&&S.value.value.push(u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(S.pathLenConstraint).getBytes()));else if("extKeyUsage"===S.name){S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);var ne=S.value.value;for(var te in S)!0===S[te]&&(te in N?ne.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(N[te]).getBytes())):-1!==te.indexOf(".")&&ne.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(te).getBytes())))}else if("nsCertType"===S.name)c=0,j=0,S.client&&(j|=128,c=7),S.server&&(j|=64,c=6),S.email&&(j|=32,c=5),S.objsign&&(j|=16,c=4),S.reserved&&(j|=8,c=3),S.sslCA&&(j|=4,c=2),S.emailCA&&(j|=2,c=1),S.objCA&&(j|=1,c=0),$=String.fromCharCode(c),0!==j&&($+=String.fromCharCode(j)),S.value=u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,$);else if("subjectAltName"===S.name||"issuerAltName"===S.name){S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);for(var de=0;de<S.altNames.length;++de){if($=(re=S.altNames[de]).value,7===re.type&&re.ip){if(null===($=d.util.bytesFromIP(re.ip)))throw(V=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=S,V}else 8===re.type&&($=u.oidToDer(re.oid?u.oidToDer(re.oid):$));S.value.value.push(u.create(u.Class.CONTEXT_SPECIFIC,re.type,!1,$))}}else if("nsComment"===S.name&&x.cert){if(!/^[\x00-\x7F]*$/.test(S.comment)||S.comment.length<1||S.comment.length>128)throw new Error('Invalid "nsComment" content.');S.value=u.create(u.Class.UNIVERSAL,u.Type.IA5STRING,!1,S.comment)}else if("subjectKeyIdentifier"===S.name&&x.cert){var he=x.cert.generateSubjectKeyIdentifier();S.subjectKeyIdentifier=he.toHex(),S.value=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,he.getBytes())}else if("authorityKeyIdentifier"===S.name&&x.cert){if(S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),ne=S.value.value,S.keyIdentifier){var Ce=!0===S.keyIdentifier?x.cert.generateSubjectKeyIdentifier().getBytes():S.keyIdentifier;ne.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!1,Ce))}if(S.authorityCertIssuer){var Ae=[u.create(u.Class.CONTEXT_SPECIFIC,4,!0,[k(!0===S.authorityCertIssuer?x.cert.issuer:S.authorityCertIssuer)])];ne.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,Ae))}if(S.serialNumber){var Le=d.util.hexToBytes(!0===S.serialNumber?x.cert.serialNumber:S.serialNumber);ne.push(u.create(u.Class.CONTEXT_SPECIFIC,2,!1,Le))}}else if("cRLDistributionPoints"===S.name){S.value=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),ne=S.value.value;var re,nt=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),dt=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[]);for(de=0;de<S.altNames.length;++de){if($=(re=S.altNames[de]).value,7===re.type&&re.ip){if(null===($=d.util.bytesFromIP(re.ip)))throw(V=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=S,V}else 8===re.type&&($=u.oidToDer(re.oid?u.oidToDer(re.oid):$));dt.value.push(u.create(u.Class.CONTEXT_SPECIFIC,re.type,!1,$))}nt.value.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[dt])),ne.push(nt)}var V;if(typeof S.value>"u")throw(V=new Error("Extension value not specified.")).extension=S,V;return S}function v(S,x){if(S===N["RSASSA-PSS"]){var V=[];return void 0!==x.hash.algorithmOid&&V.push(u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(x.hash.algorithmOid).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])])),void 0!==x.mgf.algorithmOid&&V.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(x.mgf.algorithmOid).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(x.mgf.hash.algorithmOid).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])])])),void 0!==x.saltLength&&V.push(u.create(u.Class.CONTEXT_SPECIFIC,2,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(x.saltLength).getBytes())])),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,V)}return u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")}function A(S){var x=u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===S.attributes.length)return x;for(var V=S.attributes,c=0;c<V.length;++c){var j=V[c],Q=j.value,$=u.Type.UTF8;"valueTagClass"in j&&($=j.valueTagClass),$===u.Type.UTF8&&(Q=d.util.encodeUtf8(Q));var ne=!1;"valueConstructed"in j&&(ne=j.valueConstructed);var te=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(j.type).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,$,ne,Q)])]);x.value.push(te)}return x}p.certificateFromPem=function(S,x,V){var c=d.pem.decode(S)[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var j=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw j.headerType=c.type,j}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Q=u.fromDer(c.body,V);return p.certificateFromAsn1(Q,x)},p.certificateToPem=function(S,x){var V={type:"CERTIFICATE",body:u.toDer(p.certificateToAsn1(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.publicKeyFromPem=function(S){var x=d.pem.decode(S)[0];if("PUBLIC KEY"!==x.type&&"RSA PUBLIC KEY"!==x.type){var V=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw V.headerType=x.type,V}if(x.procType&&"ENCRYPTED"===x.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var c=u.fromDer(x.body);return p.publicKeyFromAsn1(c)},p.publicKeyToPem=function(S,x){var V={type:"PUBLIC KEY",body:u.toDer(p.publicKeyToAsn1(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.publicKeyToRSAPublicKeyPem=function(S,x){var V={type:"RSA PUBLIC KEY",body:u.toDer(p.publicKeyToRSAPublicKey(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.getPublicKeyFingerprint=function(S,x){var j,V=(x=x||{}).md||d.md.sha1.create();switch(x.type||"RSAPublicKey"){case"RSAPublicKey":j=u.toDer(p.publicKeyToRSAPublicKey(S)).getBytes();break;case"SubjectPublicKeyInfo":j=u.toDer(p.publicKeyToAsn1(S)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+x.type+'".')}V.start(),V.update(j);var Q=V.digest();if("hex"===x.encoding){var $=Q.toHex();return x.delimiter?$.match(/.{2}/g).join(x.delimiter):$}if("binary"===x.encoding)return Q.getBytes();if(x.encoding)throw new Error('Unknown encoding "'+x.encoding+'".');return Q},p.certificationRequestFromPem=function(S,x,V){var c=d.pem.decode(S)[0];if("CERTIFICATE REQUEST"!==c.type){var j=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw j.headerType=c.type,j}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var Q=u.fromDer(c.body,V);return p.certificationRequestFromAsn1(Q,x)},p.certificationRequestToPem=function(S,x){var V={type:"CERTIFICATE REQUEST",body:u.toDer(p.certificationRequestToAsn1(S)).getBytes()};return d.pem.encode(V,{maxline:x})},p.createCertificate=function(){var S={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return S.siginfo.algorithmOid=null,S.validity={},S.validity.notBefore=new Date,S.validity.notAfter=new Date,S.issuer={},S.issuer.getField=function(x){return B(S.issuer,x)},S.issuer.addField=function(x){T([x]),S.issuer.attributes.push(x)},S.issuer.attributes=[],S.issuer.hash=null,S.subject={},S.subject.getField=function(x){return B(S.subject,x)},S.subject.addField=function(x){T([x]),S.subject.attributes.push(x)},S.subject.attributes=[],S.subject.hash=null,S.extensions=[],S.publicKey=null,S.md=null,S.setSubject=function(x,V){T(x),S.subject.attributes=x,delete S.subject.uniqueId,V&&(S.subject.uniqueId=V),S.subject.hash=null},S.setIssuer=function(x,V){T(x),S.issuer.attributes=x,delete S.issuer.uniqueId,V&&(S.issuer.uniqueId=V),S.issuer.hash=null},S.setExtensions=function(x){for(var V=0;V<x.length;++V)h(x[V],{cert:S});S.extensions=x},S.getExtension=function(x){"string"==typeof x&&(x={name:x});for(var c,V=null,j=0;null===V&&j<S.extensions.length;++j)c=S.extensions[j],(x.id&&c.id===x.id||x.name&&c.name===x.name)&&(V=c);return V},S.sign=function(x,V){S.md=V||d.md.sha1.create();var c=N[S.md.algorithm+"WithRSAEncryption"];if(!c){var j=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw j.algorithm=S.md.algorithm,j}S.signatureOid=S.siginfo.algorithmOid=c,S.tbsCertificate=p.getTBSCertificate(S);var Q=u.toDer(S.tbsCertificate);S.md.update(Q.getBytes()),S.signature=x.sign(S.md)},S.verify=function(x){var V=!1;if(!S.issued(x)){var c=x.issuer,j=S.subject,Q=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw Q.expectedIssuer=j.attributes,Q.actualIssuer=c.attributes,Q}var $=x.md;if(null===$){$=R({signatureOid:x.signatureOid,type:"certificate"});var ne=x.tbsCertificate||p.getTBSCertificate(x),te=u.toDer(ne);$.update(te.getBytes())}return null!==$&&(V=_({certificate:S,md:$,signature:x.signature})),V},S.isIssuer=function(x){var V=!1,c=S.issuer,j=x.subject;if(c.hash&&j.hash)V=c.hash===j.hash;else if(c.attributes.length===j.attributes.length){V=!0;for(var Q,$,ne=0;V&&ne<c.attributes.length;++ne)((Q=c.attributes[ne]).type!==($=j.attributes[ne]).type||Q.value!==$.value)&&(V=!1)}return V},S.issued=function(x){return x.isIssuer(S)},S.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(S.publicKey,{type:"RSAPublicKey"})},S.verifySubjectKeyIdentifier=function(){for(var x=N.subjectKeyIdentifier,V=0;V<S.extensions.length;++V){var c=S.extensions[V];if(c.id===x){var j=S.generateSubjectKeyIdentifier().getBytes();return d.util.hexToBytes(c.subjectKeyIdentifier)===j}}return!1},S},p.certificateFromAsn1=function(S,x){var V={},c=[];if(!u.validate(S,b,V,c)){var j=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw j.errors=c,j}if(u.derToOid(V.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var $=p.createCertificate();$.version=V.certVersion?V.certVersion.charCodeAt(0):0;var ne=d.util.createBuffer(V.certSerialNumber);$.serialNumber=ne.toHex(),$.signatureOid=d.asn1.derToOid(V.certSignatureOid),$.signatureParameters=G($.signatureOid,V.certSignatureParams,!0),$.siginfo.algorithmOid=d.asn1.derToOid(V.certinfoSignatureOid),$.siginfo.parameters=G($.siginfo.algorithmOid,V.certinfoSignatureParams,!1),$.signature=V.certSignature;var te=[];if(void 0!==V.certValidity1UTCTime&&te.push(u.utcTimeToDate(V.certValidity1UTCTime)),void 0!==V.certValidity2GeneralizedTime&&te.push(u.generalizedTimeToDate(V.certValidity2GeneralizedTime)),void 0!==V.certValidity3UTCTime&&te.push(u.utcTimeToDate(V.certValidity3UTCTime)),void 0!==V.certValidity4GeneralizedTime&&te.push(u.generalizedTimeToDate(V.certValidity4GeneralizedTime)),te.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(te.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if($.validity.notBefore=te[0],$.validity.notAfter=te[1],$.tbsCertificate=V.tbsCertificate,x){$.md=R({signatureOid:$.signatureOid,type:"certificate"});var re=u.toDer($.tbsCertificate);$.md.update(re.getBytes())}var de=d.md.sha1.create(),he=u.toDer(V.certIssuer);de.update(he.getBytes()),$.issuer.getField=function(Le){return B($.issuer,Le)},$.issuer.addField=function(Le){T([Le]),$.issuer.attributes.push(Le)},$.issuer.attributes=p.RDNAttributesAsArray(V.certIssuer),V.certIssuerUniqueId&&($.issuer.uniqueId=V.certIssuerUniqueId),$.issuer.hash=de.digest().toHex();var Ce=d.md.sha1.create(),Ae=u.toDer(V.certSubject);return Ce.update(Ae.getBytes()),$.subject.getField=function(Le){return B($.subject,Le)},$.subject.addField=function(Le){T([Le]),$.subject.attributes.push(Le)},$.subject.attributes=p.RDNAttributesAsArray(V.certSubject),V.certSubjectUniqueId&&($.subject.uniqueId=V.certSubjectUniqueId),$.subject.hash=Ce.digest().toHex(),$.extensions=V.certExtensions?p.certificateExtensionsFromAsn1(V.certExtensions):[],$.publicKey=p.publicKeyFromAsn1(V.subjectPublicKeyInfo),$},p.certificateExtensionsFromAsn1=function(S){for(var x=[],V=0;V<S.value.length;++V)for(var c=S.value[V],j=0;j<c.value.length;++j)x.push(p.certificateExtensionFromAsn1(c.value[j]));return x},p.certificateExtensionFromAsn1=function(S){var x={};if(x.id=u.derToOid(S.value[0].value),x.critical=!1,S.value[1].type===u.Type.BOOLEAN?(x.critical=0!==S.value[1].value.charCodeAt(0),x.value=S.value[2].value):x.value=S.value[1].value,x.id in N)if(x.name=N[x.id],"keyUsage"===x.name){var c=0,j=0;(V=u.fromDer(x.value)).value.length>1&&(c=V.value.charCodeAt(1),j=V.value.length>2?V.value.charCodeAt(2):0),x.digitalSignature=128==(128&c),x.nonRepudiation=64==(64&c),x.keyEncipherment=32==(32&c),x.dataEncipherment=16==(16&c),x.keyAgreement=8==(8&c),x.keyCertSign=4==(4&c),x.cRLSign=2==(2&c),x.encipherOnly=1==(1&c),x.decipherOnly=128==(128&j)}else if("basicConstraints"===x.name){var V=u.fromDer(x.value);x.cA=V.value.length>0&&V.value[0].type===u.Type.BOOLEAN&&0!==V.value[0].value.charCodeAt(0);var Q=null;V.value.length>0&&V.value[0].type===u.Type.INTEGER?Q=V.value[0].value:V.value.length>1&&(Q=V.value[1].value),null!==Q&&(x.pathLenConstraint=u.derToInteger(Q))}else if("extKeyUsage"===x.name){V=u.fromDer(x.value);for(var $=0;$<V.value.length;++$){var ne=u.derToOid(V.value[$].value);ne in N?x[N[ne]]=!0:x[ne]=!0}}else if("nsCertType"===x.name)c=0,(V=u.fromDer(x.value)).value.length>1&&(c=V.value.charCodeAt(1)),x.client=128==(128&c),x.server=64==(64&c),x.email=32==(32&c),x.objsign=16==(16&c),x.reserved=8==(8&c),x.sslCA=4==(4&c),x.emailCA=2==(2&c),x.objCA=1==(1&c);else if("subjectAltName"===x.name||"issuerAltName"===x.name){x.altNames=[],V=u.fromDer(x.value);for(var te,re=0;re<V.value.length;++re){var de={type:(te=V.value[re]).type,value:te.value};switch(x.altNames.push(de),te.type){case 1:case 2:case 6:break;case 7:de.ip=d.util.bytesToIP(te.value);break;case 8:de.oid=u.derToOid(te.value)}}}else"subjectKeyIdentifier"===x.name&&(V=u.fromDer(x.value),x.subjectKeyIdentifier=d.util.bytesToHex(V.value));return x},p.certificationRequestFromAsn1=function(S,x){var V={},c=[];if(!u.validate(S,C,V,c)){var j=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw j.errors=c,j}if(u.derToOid(V.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var $=p.createCertificationRequest();if($.version=V.csrVersion?V.csrVersion.charCodeAt(0):0,$.signatureOid=d.asn1.derToOid(V.csrSignatureOid),$.signatureParameters=G($.signatureOid,V.csrSignatureParams,!0),$.siginfo.algorithmOid=d.asn1.derToOid(V.csrSignatureOid),$.siginfo.parameters=G($.siginfo.algorithmOid,V.csrSignatureParams,!1),$.signature=V.csrSignature,$.certificationRequestInfo=V.certificationRequestInfo,x){$.md=R({signatureOid:$.signatureOid,type:"certification request"});var ne=u.toDer($.certificationRequestInfo);$.md.update(ne.getBytes())}var te=d.md.sha1.create();return $.subject.getField=function(re){return B($.subject,re)},$.subject.addField=function(re){T([re]),$.subject.attributes.push(re)},$.subject.attributes=p.RDNAttributesAsArray(V.certificationRequestInfoSubject,te),$.subject.hash=te.digest().toHex(),$.publicKey=p.publicKeyFromAsn1(V.subjectPublicKeyInfo),$.getAttribute=function(re){return B($,re)},$.addAttribute=function(re){T([re]),$.attributes.push(re)},$.attributes=p.CRIAttributesAsArray(V.certificationRequestInfoAttributes||[]),$},p.createCertificationRequest=function(){var S={version:0,signatureOid:null,signature:null,siginfo:{}};return S.siginfo.algorithmOid=null,S.subject={},S.subject.getField=function(x){return B(S.subject,x)},S.subject.addField=function(x){T([x]),S.subject.attributes.push(x)},S.subject.attributes=[],S.subject.hash=null,S.publicKey=null,S.attributes=[],S.getAttribute=function(x){return B(S,x)},S.addAttribute=function(x){T([x]),S.attributes.push(x)},S.md=null,S.setSubject=function(x){T(x),S.subject.attributes=x,S.subject.hash=null},S.setAttributes=function(x){T(x),S.attributes=x},S.sign=function(x,V){S.md=V||d.md.sha1.create();var c=N[S.md.algorithm+"WithRSAEncryption"];if(!c){var j=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw j.algorithm=S.md.algorithm,j}S.signatureOid=S.siginfo.algorithmOid=c,S.certificationRequestInfo=p.getCertificationRequestInfo(S);var Q=u.toDer(S.certificationRequestInfo);S.md.update(Q.getBytes()),S.signature=x.sign(S.md)},S.verify=function(){var x=!1,V=S.md;if(null===V){V=R({signatureOid:S.signatureOid,type:"certification request"});var c=S.certificationRequestInfo||p.getCertificationRequestInfo(S),j=u.toDer(c);V.update(j.getBytes())}return null!==V&&(x=_({certificate:S,md:V,signature:S.signature})),x},S};var F=new Date("1950-01-01T00:00:00Z"),H=new Date("2050-01-01T00:00:00Z");function W(S){return S>=F&&S<H?u.create(u.Class.UNIVERSAL,u.Type.UTCTIME,!1,u.dateToUtcTime(S)):u.create(u.Class.UNIVERSAL,u.Type.GENERALIZEDTIME,!1,u.dateToGeneralizedTime(S))}p.getTBSCertificate=function(S){var x=W(S.validity.notBefore),V=W(S.validity.notAfter),c=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(S.version).getBytes())]),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.util.hexToBytes(S.serialNumber)),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.siginfo.algorithmOid).getBytes()),v(S.siginfo.algorithmOid,S.siginfo.parameters)]),k(S.issuer),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[x,V]),k(S.subject),p.publicKeyToAsn1(S.publicKey)]);return S.issuer.uniqueId&&c.value.push(u.create(u.Class.CONTEXT_SPECIFIC,1,!0,[u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.issuer.uniqueId)])),S.subject.uniqueId&&c.value.push(u.create(u.Class.CONTEXT_SPECIFIC,2,!0,[u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.subject.uniqueId)])),S.extensions.length>0&&c.value.push(p.certificateExtensionsToAsn1(S.extensions)),c},p.getCertificationRequestInfo=function(S){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(S.version).getBytes()),k(S.subject),p.publicKeyToAsn1(S.publicKey),A(S)])},p.distinguishedNameToAsn1=function(S){return k(S)},p.certificateToAsn1=function(S){var x=S.tbsCertificate||p.getTBSCertificate(S);return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[x,u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.signatureOid).getBytes()),v(S.signatureOid,S.signatureParameters)]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.signature)])},p.certificateExtensionsToAsn1=function(S){var x=u.create(u.Class.CONTEXT_SPECIFIC,3,!0,[]),V=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);x.value.push(V);for(var c=0;c<S.length;++c)V.value.push(p.certificateExtensionToAsn1(S[c]));return x},p.certificateExtensionToAsn1=function(S){var x=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);x.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.id).getBytes())),S.critical&&x.value.push(u.create(u.Class.UNIVERSAL,u.Type.BOOLEAN,!1,String.fromCharCode(255)));var V=S.value;return"string"!=typeof S.value&&(V=u.toDer(V).getBytes()),x.value.push(u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,V)),x},p.certificationRequestToAsn1=function(S){var x=S.certificationRequestInfo||p.getCertificationRequestInfo(S);return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[x,u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(S.signatureOid).getBytes()),v(S.signatureOid,S.signatureParameters)]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,String.fromCharCode(0)+S.signature)])},p.createCaStore=function(S){var x={certs:{}};function V($){return c($),x.certs[$.hash]||null}function c($){if(!$.hash){var ne=d.md.sha1.create();$.attributes=p.RDNAttributesAsArray(k($),ne),$.hash=ne.digest().toHex()}}if(x.getIssuer=function($){return V($.issuer)},x.addCertificate=function($){if("string"==typeof $&&($=d.pki.certificateFromPem($)),c($.subject),!x.hasCertificate($))if($.subject.hash in x.certs){var ne=x.certs[$.subject.hash];d.util.isArray(ne)||(ne=[ne]),ne.push($),x.certs[$.subject.hash]=ne}else x.certs[$.subject.hash]=$},x.hasCertificate=function($){"string"==typeof $&&($=d.pki.certificateFromPem($));var ne=V($.subject);if(!ne)return!1;d.util.isArray(ne)||(ne=[ne]);for(var te=u.toDer(p.certificateToAsn1($)).getBytes(),re=0;re<ne.length;++re)if(te===u.toDer(p.certificateToAsn1(ne[re])).getBytes())return!0;return!1},x.listAllCertificates=function(){var $=[];for(var ne in x.certs)if(x.certs.hasOwnProperty(ne)){var te=x.certs[ne];if(d.util.isArray(te))for(var re=0;re<te.length;++re)$.push(te[re]);else $.push(te)}return $},x.removeCertificate=function($){var ne;if("string"==typeof $&&($=d.pki.certificateFromPem($)),c($.subject),!x.hasCertificate($))return null;var te=V($.subject);if(!d.util.isArray(te))return ne=x.certs[$.subject.hash],delete x.certs[$.subject.hash],ne;for(var re=u.toDer(p.certificateToAsn1($)).getBytes(),de=0;de<te.length;++de)re===u.toDer(p.certificateToAsn1(te[de])).getBytes()&&(ne=te[de],te.splice(de,1));return 0===te.length&&delete x.certs[$.subject.hash],ne},S)for(var j=0;j<S.length;++j)x.addCertificate(S[j]);return x},p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},p.verifyCertificateChain=function(S,x,V){"function"==typeof V&&(V={verify:V}),V=V||{};var c=(x=x.slice(0)).slice(0),j=V.validityCheckDate;typeof j>"u"&&(j=new Date);var Q=!0,$=null,ne=0;do{var te=x.shift(),re=null,de=!1;if(j&&(j<te.validity.notBefore||j>te.validity.notAfter)&&($={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:te.validity.notBefore,notAfter:te.validity.notAfter,now:j}),null===$){if(null===(re=x[0]||S.getIssuer(te))&&te.isIssuer(te)&&(de=!0,re=te),re){var he=re;d.util.isArray(he)||(he=[he]);for(var Ce=!1;!Ce&&he.length>0;){re=he.shift();try{Ce=re.verify(te)}catch{}}Ce||($={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}null===$&&(!re||de)&&!S.hasCertificate(te)&&($={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}if(null===$&&re&&!te.isIssuer(re)&&($={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate}),null===$)for(var Ae={keyUsage:!0,basicConstraints:!0},Le=0;null===$&&Le<te.extensions.length;++Le){var nt=te.extensions[Le];nt.critical&&!(nt.name in Ae)&&($={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}if(null===$&&(!Q||0===x.length&&(!re||de))){var dt=te.getExtension("basicConstraints"),pe=te.getExtension("keyUsage");null!==pe&&(!pe.keyCertSign||null===dt)&&($={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:p.certificateError.bad_certificate}),null===$&&null!==dt&&!dt.cA&&($={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),null===$&&null!==pe&&"pathLenConstraint"in dt&&ne-1>dt.pathLenConstraint&&($={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate})}var ke=null===$||$.error,Fe=V.verify?V.verify(ke,ne,c):ke;if(!0!==Fe)throw!0===ke&&($={message:"The application rejected the certificate.",error:p.certificateError.bad_certificate}),(Fe||0===Fe)&&("object"!=typeof Fe||d.util.isArray(Fe)?"string"==typeof Fe&&($.error=Fe):(Fe.message&&($.message=Fe.message),Fe.error&&($.error=Fe.error))),$;$=null,Q=!1,++ne}while(x.length>0);return!0}},819:()=>{}},_e=>{_e(_e.s=740)}]);